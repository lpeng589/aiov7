[INFO ] 2018-01-05 09:01:52,899 Line:206 系统开始启动，最大内存：1792;目前总内存：304;目前空闲内存：212
 [INFO ] 2018-01-05 09:01:53,012 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-05 09:01:56,093 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-05 09:01:56,254 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-05 09:01:56,274 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-05 09:01:56,277 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-05 09:01:56,281 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-05 09:01:56,290 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-05 09:01:56,303 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-05 09:01:57,357 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 09:01:57,403 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-05 09:01:57,452 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-05 09:01:57,466 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-05 09:01:58,381 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-05 09:01:58,382 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-05 09:01:58,994 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-05 09:01:59,074 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-05 09:01:59,827 Line:538 ------Init TableInfo record:639
 [DEBUG] 2018-01-05 09:01:59,854 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-05 09:01:59,861 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-05 09:01:59,873 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-05 09:01:59,885 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-05 09:01:59,893 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-05 09:01:59,925 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-05 09:02:03,451 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-05 09:02:03,699 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,701 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,703 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,705 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,707 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,709 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,711 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,713 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,714 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,716 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,780 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,812 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,842 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,902 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,904 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,905 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,907 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,938 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,940 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,942 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,944 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,947 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,949 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:03,973 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,011 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,013 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,015 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,017 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,019 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,022 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,046 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,048 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,050 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,100 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,129 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,167 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,169 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,171 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:02:04,196 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-05 09:02:04,215 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-05 09:02:04,262 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-05 09:02:04,785 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-05 09:02:04,785 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-05 09:02:05,782 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-05 00:00:00
 [INFO ] 2018-01-05 09:02:05,782 Line:144 SAFE 备份任务开始执行，时间2018-01-05 09:02:05
 [INFO ] 2018-01-05 09:02:05,783 Line:137 SAFE 碎片任务启动，时间2018-01-07 00:00:00
 [INFO ] 2018-01-05 09:02:09,801 Line:148 SAFE 备份任务执行成功，时间2018-01-05 09:02:09
 [DEBUG] 2018-01-05 09:03:05,025 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 09:12:03,496 Line:5242 GlobalsTool.js 生成js 时间119:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:12:03,693 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-05 09:12:03,695 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-05 09:12:04,211 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515114724165
 [DEBUG] 2018-01-05 09:12:04,236 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515114724165,];
 [DEBUG] 2018-01-05 09:12:04,451 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-05 09:12:04,453 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-05 09:12:05,716 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515114725713
 [DEBUG] 2018-01-05 09:12:05,716 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515114725713,];
 [DEBUG] 2018-01-05 09:12:05,774 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515114725768
 [DEBUG] 2018-01-05 09:12:05,774 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515114725768,];
 [DEBUG] 2018-01-05 09:12:05,850 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-05 09:12:05,851 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-05 09:12:05,933 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-05 09:12:05,953 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-05 09:12:06,107 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 09:12:06,108 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 09:12:06,115 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:12:06,296 Line:5242 GlobalsTool.js 生成js 时间24:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:12:06,541 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 09:12:06,541 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 09:12:06,542 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:12:06,542 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 09:12:06,543 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:12:06,555 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 09:12:06,555 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:12:06,556 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:12:06,566 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 09:12:06,567 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:12:06,567 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:12:06,575 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 09:12:06,576 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:12:06,576 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:12:18,516 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-05 09:12:18,517 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-05 09:12:18,518 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-05 09:12:18,964 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-05 09:12:18,975 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-05 09:12:19,011 Line:689 通过SQL读原始数据：36
 [DEBUG] 2018-01-05 09:12:19,012 Line:1391 整理数据：1
 [DEBUG] 2018-01-05 09:12:19,169 Line:5242 GlobalsTool.js 生成js 时间21:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:12:19,212 Line:5242 GlobalsTool.js 生成js 时间43:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 09:12:21,813 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-05 09:12:21,815 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-05 09:12:21,815 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-05 09:12:22,690 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-05 09:12:22,691 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-05 09:12:23,603 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-05 09:12:23,604 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-05 09:12:23,604 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-05 09:12:31,490 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-05 09:12:31,491 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[采购入库单,];
 [DEBUG] 2018-01-05 09:12:36,716 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-05 09:12:36,718 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-05 09:12:36,858 Line:5242 GlobalsTool.js 生成js 时间15:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:12:37,318 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-05 09:12:37,318 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-05 09:12:38,535 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 09:12:43,431 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineOp
 [DEBUG] 2018-01-05 09:12:43,432 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineOp,];
 [DEBUG] 2018-01-05 09:12:54,785 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2018-01-05 09:12:54,785 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2018-01-05 09:12:54,921 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=15881B5F72127E14049DD6DED071EF83085009930BBD9310CD721D5437AEAEA888950A25AEEB154ABD655FC12D022A771A9149AA833C7396
 [DEBUG] 2018-01-05 09:12:54,926 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2018-01-05 09:14:23,716 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 09:14:23,716 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 09:14:24,059 Line:5242 GlobalsTool.js 生成js 时间216:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 09:14:26,204 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 09:14:26,204 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 09:14:26,301 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:14:26,301 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:14:26,302 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:14:26,302 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:14:26,302 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-05 09:14:26,349 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-05'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:14:26,438 Line:5242 GlobalsTool.js 生成js 时间23:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:14:26,457 Line:5242 GlobalsTool.js 生成js 时间18:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:14:28,725 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 09:14:28,726 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 09:14:28,759 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:14:28,760 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:14:28,761 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-05 09:14:28,761 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:14:28,761 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:14:28,767 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:14:31,170 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-05 09:14:31,170 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-05 09:14:31,210 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:14:31,210 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:14:31,210 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:14:31,211 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:14:31,211 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-05 09:14:31,222 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:14:36,396 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 09:14:36,398 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050001,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 09:14:36,400 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 09:14:36,443 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:14:36,444 Line:5853 1:0.0
 [DEBUG] 2018-01-05 09:14:36,444 Line:5853 2:
 [DEBUG] 2018-01-05 09:14:36,444 Line:5853 3:083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:36,444 Line:5853 4:-1
 [DEBUG] 2018-01-05 09:14:36,444 Line:5853 5:finish
 [DEBUG] 2018-01-05 09:14:36,444 Line:5853 6:0.0
 [DEBUG] 2018-01-05 09:14:36,445 Line:5853 7:0
 [DEBUG] 2018-01-05 09:14:36,445 Line:5853 8:0.0
 [DEBUG] 2018-01-05 09:14:36,445 Line:5853 9:BI1801050001
 [DEBUG] 2018-01-05 09:14:36,445 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 09:14:36,445 Line:5853 11:00003
 [DEBUG] 2018-01-05 09:14:36,446 Line:5853 12:00101
 [DEBUG] 2018-01-05 09:14:36,446 Line:5853 13:1
 [DEBUG] 2018-01-05 09:14:36,446 Line:5853 14:00001
 [DEBUG] 2018-01-05 09:14:36,446 Line:5853 15:3
 [DEBUG] 2018-01-05 09:14:36,446 Line:5853 16:0.0
 [DEBUG] 2018-01-05 09:14:36,446 Line:5853 17:0.0
 [DEBUG] 2018-01-05 09:14:36,447 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:14:36,447 Line:5853 19:0.0
 [DEBUG] 2018-01-05 09:14:36,447 Line:5853 20:
 [DEBUG] 2018-01-05 09:14:36,447 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:14:36,447 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:14:36,448 Line:5853 23:0.0
 [DEBUG] 2018-01-05 09:14:36,448 Line:5853 24:
 [DEBUG] 2018-01-05 09:14:36,448 Line:5853 25:0.0
 [DEBUG] 2018-01-05 09:14:36,448 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:14:36,448 Line:5853 27:0.0
 [DEBUG] 2018-01-05 09:14:36,448 Line:5853 28:
 [DEBUG] 2018-01-05 09:14:36,449 Line:5853 29:1
 [DEBUG] 2018-01-05 09:14:36,449 Line:5853 30:1
 [DEBUG] 2018-01-05 09:14:36,449 Line:5853 31:2018
 [DEBUG] 2018-01-05 09:14:36,449 Line:5853 32:
 [DEBUG] 2018-01-05 09:14:36,449 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:14:36,449 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:14:36,450 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:14:36,450 Line:5853 36:
 [DEBUG] 2018-01-05 09:14:36,450 Line:5853 37:
 [DEBUG] 2018-01-05 09:14:36,450 Line:5853 38:
 [DEBUG] 2018-01-05 09:14:36,450 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:14:36,450 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:14:36,450 Line:5853 41:
 [DEBUG] 2018-01-05 09:14:36,451 Line:5853 42:
 [DEBUG] 2018-01-05 09:14:36,451 Line:5853 43:100.0
 [DEBUG] 2018-01-05 09:14:36,451 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:14:36,451 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:14:36,451 Line:5853 46:
 [DEBUG] 2018-01-05 09:14:36,451 Line:5853 47:1.0
 [DEBUG] 2018-01-05 09:14:36,452 Line:5853 48:1.0
 [DEBUG] 2018-01-05 09:14:36,452 Line:5853 49:1.0
 [DEBUG] 2018-01-05 09:14:36,452 Line:5853 50:0.0
 [DEBUG] 2018-01-05 09:14:36,452 Line:5853 51:1.0
 [DEBUG] 2018-01-05 09:14:36,452 Line:5853 52:
 [DEBUG] 2018-01-05 09:14:36,452 Line:5853 53:
 [DEBUG] 2018-01-05 09:14:36,452 Line:5853 54:0.0
 [DEBUG] 2018-01-05 09:14:36,453 Line:5853 55:0.0
 [DEBUG] 2018-01-05 09:14:36,453 Line:5853 56:0.0
 [DEBUG] 2018-01-05 09:14:36,453 Line:5853 57:0
 [DEBUG] 2018-01-05 09:14:36,453 Line:5853 58:00001
 [DEBUG] 2018-01-05 09:14:36,453 Line:5853 59:0
 [DEBUG] 2018-01-05 09:14:36,453 Line:5853 60:2018-01-05 09:14:36
 [DEBUG] 2018-01-05 09:14:36,454 Line:5853 61:1
 [DEBUG] 2018-01-05 09:14:36,454 Line:5853 62:2018-01-05 09:14:36
 [DEBUG] 2018-01-05 09:14:36,454 Line:5853 63:1
 [DEBUG] 2018-01-05 09:14:36,454 Line:5853 64:2018-01-05 09:14:36
 [DEBUG] 2018-01-05 09:14:36,470 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:14:36,470 Line:5853 1:083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:36,470 Line:5853 2:083e66be_1801050914364700003
 [DEBUG] 2018-01-05 09:14:36,470 Line:5853 3:
 [DEBUG] 2018-01-05 09:14:36,471 Line:5853 4:
 [DEBUG] 2018-01-05 09:14:36,471 Line:5853 5:
 [DEBUG] 2018-01-05 09:14:36,471 Line:5853 6:
 [DEBUG] 2018-01-05 09:14:36,471 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 09:14:36,472 Line:5853 8:
 [DEBUG] 2018-01-05 09:14:36,472 Line:5853 9:
 [DEBUG] 2018-01-05 09:14:36,472 Line:5853 10:
 [DEBUG] 2018-01-05 09:14:36,472 Line:5853 11:
 [DEBUG] 2018-01-05 09:14:36,472 Line:5853 12:
 [DEBUG] 2018-01-05 09:14:36,472 Line:5853 13:
 [DEBUG] 2018-01-05 09:14:36,472 Line:5853 14:
 [DEBUG] 2018-01-05 09:14:36,473 Line:5853 15:1.0
 [DEBUG] 2018-01-05 09:14:36,473 Line:5853 16:1.0
 [DEBUG] 2018-01-05 09:14:36,473 Line:5853 17:1.0
 [DEBUG] 2018-01-05 09:14:36,473 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:14:36,473 Line:5853 19:0
 [DEBUG] 2018-01-05 09:14:36,473 Line:5853 20:0.0
 [DEBUG] 2018-01-05 09:14:36,474 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:14:36,474 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:14:36,474 Line:5853 23:100.0
 [DEBUG] 2018-01-05 09:14:36,474 Line:5853 24:1.0
 [DEBUG] 2018-01-05 09:14:36,474 Line:5853 25:1.0
 [DEBUG] 2018-01-05 09:14:36,475 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:14:36,475 Line:5853 27:1.0
 [DEBUG] 2018-01-05 09:14:36,475 Line:5853 28:1.0
 [DEBUG] 2018-01-05 09:14:36,475 Line:5853 29:0.0
 [DEBUG] 2018-01-05 09:14:36,475 Line:5853 30:1.0
 [DEBUG] 2018-01-05 09:14:36,476 Line:5853 31:1.0
 [DEBUG] 2018-01-05 09:14:36,476 Line:5853 32:0.0
 [DEBUG] 2018-01-05 09:14:36,476 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:14:36,476 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:14:36,476 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:14:36,476 Line:5853 36:0.0
 [DEBUG] 2018-01-05 09:14:36,477 Line:5853 37:
 [DEBUG] 2018-01-05 09:14:36,477 Line:5853 38:0.0
 [DEBUG] 2018-01-05 09:14:36,477 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:14:36,477 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:14:36,477 Line:5853 41:0.0
 [DEBUG] 2018-01-05 09:14:36,478 Line:5853 42:0.0
 [DEBUG] 2018-01-05 09:14:36,478 Line:5853 43:0.0
 [DEBUG] 2018-01-05 09:14:36,478 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:14:36,478 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:14:36,479 Line:5853 46:0.0
 [DEBUG] 2018-01-05 09:14:36,480 Line:5853 47:0
 [DEBUG] 2018-01-05 09:14:36,481 Line:5853 48:0.0
 [DEBUG] 2018-01-05 09:14:36,481 Line:5853 49:0.0
 [DEBUG] 2018-01-05 09:14:36,481 Line:5853 50:0
 [DEBUG] 2018-01-05 09:14:36,482 Line:5853 51:
 [DEBUG] 2018-01-05 09:14:36,482 Line:5853 52:0.0
 [DEBUG] 2018-01-05 09:14:36,482 Line:5853 53:0.0
 [DEBUG] 2018-01-05 09:14:36,482 Line:5853 54:0.0
 [DEBUG] 2018-01-05 09:14:36,482 Line:5853 55:0
 [DEBUG] 2018-01-05 09:14:36,483 Line:5853 56:0
 [DEBUG] 2018-01-05 09:14:36,483 Line:5853 57:
 [DEBUG] 2018-01-05 09:14:36,483 Line:5853 58:0.0
 [DEBUG] 2018-01-05 09:14:36,483 Line:5853 59:0.0
 [DEBUG] 2018-01-05 09:14:36,483 Line:5853 60:
 [DEBUG] 2018-01-05 09:14:36,483 Line:5853 61:0.0
 [DEBUG] 2018-01-05 09:14:36,484 Line:5853 62:00001
 [DEBUG] 2018-01-05 09:14:36,738 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 09:14:36,981 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:36,981 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 09:14:36,983 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:36,984 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 09:14:36,985 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:36,985 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 09:14:36,986 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:36,986 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:14:36,987 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:36,987 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:14:36,988 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:36,988 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:14:36,989 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:36,990 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 09:14:36,990 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:36,990 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:36,990 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 09:14:37,001 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 09:14:37,002 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:14:37,003 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,003 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:14:37,003 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,003 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,004 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:14:37,008 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:14:37,008 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:14:37,009 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,010 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:14:37,010 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,010 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,010 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:14:37,017 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 09:14:37,017 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:14:37,018 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,018 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 09:14:37,018 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,019 Line:988 1值：false
 [DEBUG] 2018-01-05 09:14:37,019 Line:988 2值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,029 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 09:14:37,029 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 09:14:37,030 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 09:14:37,032 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,032 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 09:14:37,033 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,033 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,043 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 09:14:37,044 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:14:37,046 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,046 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:14:37,047 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,047 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,052 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:14:37,053 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:14:37,055 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,055 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:14:37,055 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,056 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,061 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:14:37,062 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:14:37,064 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,064 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 09:14:37,065 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,065 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,075 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 09:14:37,076 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:14:37,078 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,078 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:14:37,081 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,082 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 09:14:37,082 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,083 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,090 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 09:14:37,090 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:14:37,092 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,092 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 09:14:37,093 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,093 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 09:14:37,094 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,094 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,097 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:14:37,098 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:14:37,099 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,100 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 09:14:37,100 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,100 Line:988 1值：1
 [DEBUG] 2018-01-05 09:14:37,100 Line:988 2值：0
 [DEBUG] 2018-01-05 09:14:37,101 Line:988 3值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,144 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 09:14:37,144 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 09:14:37,144 Line:1043 ---上述语句时间---44
 [DEBUG] 2018-01-05 09:14:37,145 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 09:14:37,146 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,146 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 09:14:37,146 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,147 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,156 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 09:14:37,156 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:14:37,157 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,158 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 09:14:37,158 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,158 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,161 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:14:37,161 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:14:37,162 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,162 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 09:14:37,163 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,163 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,165 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:14:37,166 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 09:14:37,167 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,167 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 09:14:37,167 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,168 Line:988 1值：
 [DEBUG] 2018-01-05 09:14:37,168 Line:988 2值：00001
 [DEBUG] 2018-01-05 09:14:37,176 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 09:14:37,176 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 09:14:37,177 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,177 Line:988 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,177 Line:988 2值：
 [DEBUG] 2018-01-05 09:14:37,177 Line:988 3值：
 [DEBUG] 2018-01-05 09:14:37,177 Line:988 4值：
 [DEBUG] 2018-01-05 09:14:37,181 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:14:37,181 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 09:14:37,182 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,182 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:14:37,184 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,184 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 09:14:37,186 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,186 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 09:14:37,187 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,187 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:14:37,188 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,189 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 09:14:37,189 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:14:37,189 Line:1157 2值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,193 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:14:37,193 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:14:37,193 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:14:37,194 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:14:37,194 Line:1157 2值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,194 Line:1157 3值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,200 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:14:37,200 Line:229 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 09:14:37,200 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:14:37,200 Line:1157 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,201 Line:1157 2值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,205 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:14:37,205 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 09:14:37,205 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 09:14:37,206 Line:1157 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,208 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:14:37,208 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 09:14:37,208 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 09:14:37,209 Line:1157 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,212 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:14:37,212 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:14:37,212 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 09:14:37,213 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,214 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 09:14:37,214 Line:1157 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,214 Line:1157 2值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,217 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:14:37,218 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:14:37,218 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 09:14:37,219 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,219 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 09:14:37,219 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,220 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 09:14:37,220 Line:1270 083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,220 Line:1270 add
 [DEBUG] 2018-01-05 09:14:37,312 Line:425 ************上述语句执行时间：92
 [DEBUG] 2018-01-05 09:14:37,313 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 09:14:37,314 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,314 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:14:37,315 Line:1157 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,322 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:14:37,322 Line:408 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 09:14:37,322 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:14:37,323 Line:1157 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,330 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:14:37,330 Line:408 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 09:14:37,330 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:14:37,331 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,331 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:14:37,332 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,332 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 09:14:37,333 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,348 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 09:14:37,349 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,349 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:14:37,350 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,350 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:14:37,351 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,351 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:14:37,352 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,352 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 09:14:37,353 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,353 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:14:37,354 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,354 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 09:14:37,355 Line:1157 1值：083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,357 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 09:14:37,357 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 09:14:37,357 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:14:37,358 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,358 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 09:14:37,358 Line:1270 083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,358 Line:1270 add
 [DEBUG] 2018-01-05 09:14:37,407 Line:425 ************上述语句执行时间：49
 [DEBUG] 2018-01-05 09:14:37,407 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 09:14:37,408 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,408 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 09:14:37,409 Line:1270 1
 [DEBUG] 2018-01-05 09:14:37,409 Line:1270 2018
 [DEBUG] 2018-01-05 09:14:37,409 Line:1270 1
 [DEBUG] 2018-01-05 09:14:37,409 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 09:14:37,409 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 09:14:37,409 Line:1270 083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,410 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 09:14:37,410 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:14:37,410 Line:1270 BI1801050001
 [DEBUG] 2018-01-05 09:14:37,410 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:14:37,410 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:14:37,410 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 09:14:37,411 Line:1270 1
 [DEBUG] 2018-01-05 09:14:37,411 Line:1270 1
 [DEBUG] 2018-01-05 09:14:37,411 Line:1270 2018-01-05 09:14:36
 [DEBUG] 2018-01-05 09:14:37,411 Line:1270 2018-01-05 09:14:36
 [DEBUG] 2018-01-05 09:14:37,411 Line:1270 00001
 [DEBUG] 2018-01-05 09:14:37,411 Line:1270 
 [DEBUG] 2018-01-05 09:14:37,411 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 09:14:37,412 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:14:37,412 Line:1270 00003
 [DEBUG] 2018-01-05 09:14:37,412 Line:1270 1
 [DEBUG] 2018-01-05 09:14:37,412 Line:1270 00101
 [DEBUG] 2018-01-05 09:14:37,412 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 09:14:37,412 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 09:14:37,412 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:14:37,413 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 09:14:37,413 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 09:14:37,413 Line:1270 0
 [DEBUG] 2018-01-05 09:14:37,413 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 09:14:37,413 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 09:14:37,413 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 09:14:37,413 Line:1270 f_ref='083e66be_1801050914364300002'
 [DEBUG] 2018-01-05 09:14:37,618 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'083e66be_1801050914364300002','2018-01-05','BI1801050001','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 09:14:36','2018-01-05 09:14:36','00001' from tblBuyInStockDet where f_ref='083e66be_1801050914364300002' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:14:37,618 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 09:14:37,618 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:14:37,619 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:14:37,619 Line:425 ************上述语句执行时间：211
 [DEBUG] 2018-01-05 09:14:37,619 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 09:14:37,620 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,620 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:14:37,620 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,621 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 09:14:37,621 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,622 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:14:37,623 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 09:14:37,623 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,624 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 09:14:37,624 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,625 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 09:14:37,625 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:37,625 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 09:14:37,626 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:37,626 Line:988 1值：1
 [DEBUG] 2018-01-05 09:14:37,626 Line:988 2值：0
 [DEBUG] 2018-01-05 09:14:37,626 Line:988 3值：1
 [DEBUG] 2018-01-05 09:14:37,626 Line:988 4值：0
 [DEBUG] 2018-01-05 09:14:37,626 Line:988 5值：0
 [DEBUG] 2018-01-05 09:14:37,627 Line:988 6值：1
 [DEBUG] 2018-01-05 09:14:37,627 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:14:37,628 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:14:37,628 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 09:14:37,628 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:14:37,628 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 09:14:37,629 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,674 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 09:14:37,677 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 09:14:37,690 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:14:37,697 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:14:37,704 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:14:37,711 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:14:37,718 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:14:37,735 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:14:37,760 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:14:37,770 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 09:14:37,976 Line:434 ************上述语句执行时间：347
 [DEBUG] 2018-01-05 09:14:37,976 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 09:14:37,977 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:37,978 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 09:14:37,979 Line:1270 1083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:37,979 Line:1270 00003
 [DEBUG] 2018-01-05 09:14:37,979 Line:1270 1
 [DEBUG] 2018-01-05 09:14:37,980 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:14:37,981 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=083e66be_1801050914364300002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 09:14:36@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 09:14:36@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050001@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 09:14:38,046 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1083e66be_1801050914364300002',21,'00003','2018-01-05','1','2018','1','0','1','083e66be_1801050914364300002','','1','0','1','1','2018-01-05 09:14:36','1','2018-01-05 09:14:36','00001','tblBuyInStock','BI1801050001','1','00101','0','')
 [DEBUG] 2018-01-05 09:14:38,046 Line:425 ************上述语句执行时间：68
 [DEBUG] 2018-01-05 09:14:38,047 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:14:38,048 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:38,048 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:14:38,049 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:38,049 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 09:14:38,050 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:38,050 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 09:14:38,051 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:38,051 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 09:14:38,052 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:38,052 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 09:14:38,053 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:38,053 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 09:14:38,053 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:38,054 Line:988 1值：1
 [DEBUG] 2018-01-05 09:14:38,054 Line:988 2值：0
 [DEBUG] 2018-01-05 09:14:38,054 Line:988 3值：1
 [DEBUG] 2018-01-05 09:14:38,054 Line:988 4值：0
 [DEBUG] 2018-01-05 09:14:38,054 Line:988 5值：0
 [DEBUG] 2018-01-05 09:14:38,054 Line:988 6值：0
 [DEBUG] 2018-01-05 09:14:38,055 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:14:38,056 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 09:14:38,056 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 09:14:38,056 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:14:38,056 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:14:38,057 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:38,057 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:14:38,058 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:38,058 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:14:38,059 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:38,059 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:14:38,060 Line:321 flag:false
 [DEBUG] 2018-01-05 09:14:38,060 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:14:38,061 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:38,061 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 09:14:38,061 Line:1270 083e66be_1801050914364300002
 [DEBUG] 2018-01-05 09:14:38,061 Line:1270 add
 [DEBUG] 2018-01-05 09:14:38,072 Line:425 ************上述语句执行时间：11
 [DEBUG] 2018-01-05 09:14:38,072 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2018-01-05 09:14:38,073 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:14:38,074 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2018-01-05 09:14:38,074 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2018-01-05 09:14:38,074 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2018-01-05 09:14:38,074 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2018-01-05 09:14:38,074 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2018-01-05 09:14:38,074 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2018-01-05 09:14:38,075 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:14:38,075 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:14:38,075 Line:321 flag:true
 [DEBUG] 2018-01-05 09:14:38,097 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2018-01-05 09:14:45,390 Line:81 HiveServlet:---->{"state": 1,"reason":  "成功??","count":"25"}
 [DEBUG] 2018-01-05 09:14:54,602 Line:1765 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：com.menyi.aio.web.mobile.Message类型:com.menyi.aio.web.mobile.Message@6f2edc7f
 [DEBUG] 2018-01-05 09:14:54,602 Line:443 ************上述语句执行时间：16526
 [DEBUG] 2018-01-05 09:14:56,138 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=083e66be_1801050914364300002&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 09:14:56,139 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[083e66be_1801050914364300002,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 09:14:56,141 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='083e66be_1801050914364300002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-05 09:14:56,258 Line:1525  select * from  tblBuyInStockDet where f_ref = '083e66be_1801050914364300002' order by detOrderNo
 [DEBUG] 2018-01-05 09:14:56,266 Line:1525  select * from  tblBuyPayAccount where f_ref = '083e66be_1801050914364300002' order by detOrderNo
 [DEBUG] 2018-01-05 09:18:18,192 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=15881B5F72127E14049DD6DED071EF83085009930BBD9310CD721D5437AEAEA888950A25AEEB154A4AE2C6A376B4725117BB8C487E591A94
 [ERROR] 2018-01-05 09:18:18,247 Line:119 ------保存成功
 [DEBUG] 2018-01-05 09:29:41,058 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=15881B5F72127E14049DD6DED071EF83085009930BBD9310CD721D5437AEAEA888950A25AEEB154ABA1D4D9F440212E45038F594B7A91F37
 [ERROR] 2018-01-05 09:29:41,110 Line:119 ------保存成功
 [DEBUG] 2018-01-05 09:29:46,677 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=15881B5F72127E14049DD6DED071EF83085009930BBD9310CD721D5437AEAEA888950A25AEEB154ABA1D4D9F440212E40C98562ED3F03CD4
 [ERROR] 2018-01-05 09:29:46,742 Line:119 ------保存成功
 [DEBUG] 2018-01-05 09:30:05,455 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2018-01-05 09:30:05,455 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2018-01-05 09:30:05,460 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2018-01-05 09:30:11,735 Line:206 系统开始启动，最大内存：1792;目前总内存：301;目前空闲内存：206
 [INFO ] 2018-01-05 09:30:11,831 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-05 09:30:15,842 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-05 09:30:16,006 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-05 09:30:16,018 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-05 09:30:16,022 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-05 09:30:16,025 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-05 09:30:16,033 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-05 09:30:16,042 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-05 09:30:17,536 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 09:30:17,580 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-05 09:30:17,634 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-05 09:30:17,655 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-05 09:30:18,768 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-05 09:30:18,768 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-05 09:30:19,310 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-05 09:30:19,388 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-05 09:30:20,152 Line:538 ------Init TableInfo record:639
 [DEBUG] 2018-01-05 09:30:20,179 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-05 09:30:20,187 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-05 09:30:20,198 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-05 09:30:20,211 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-05 09:30:20,220 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-05 09:30:20,252 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-05 09:30:22,723 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-05 09:30:22,912 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,914 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,917 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,920 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,922 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,924 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,926 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,927 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,929 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,931 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,977 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:22,995 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,022 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,082 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,084 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,087 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,089 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,121 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,123 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,125 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,128 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,130 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,132 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,158 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,199 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,202 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,204 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,207 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,209 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,211 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,238 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,240 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,242 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,297 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,328 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,363 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,366 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,369 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:30:23,392 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-05 09:30:23,412 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-05 09:30:23,471 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-05 09:30:24,085 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-05 09:30:24,086 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-05 09:30:25,293 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-06 00:00:00
 [INFO ] 2018-01-05 09:30:25,293 Line:137 SAFE 碎片任务启动，时间2018-01-07 00:00:00
 [DEBUG] 2018-01-05 09:30:38,724 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 09:30:38,726 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2018-01-05 09:30:38,727 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2018-01-05 09:30:39,206 Line:5242 GlobalsTool.js 生成js 时间82:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:30:39,439 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-05 09:30:39,440 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-05 09:30:39,716 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515115839709
 [DEBUG] 2018-01-05 09:30:39,722 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515115839709,];
 [DEBUG] 2018-01-05 09:30:39,793 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-05 09:30:39,794 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-05 09:30:40,973 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515115840971
 [DEBUG] 2018-01-05 09:30:40,973 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515115840971,];
 [DEBUG] 2018-01-05 09:30:41,091 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515115841089
 [DEBUG] 2018-01-05 09:30:41,091 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515115841089,];
 [DEBUG] 2018-01-05 09:30:41,228 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-05 09:30:41,229 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-05 09:30:41,331 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-05 09:30:41,358 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-05 09:30:41,543 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 09:30:41,543 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 09:30:41,551 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:30:41,800 Line:5242 GlobalsTool.js 生成js 时间31:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:30:41,965 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 09:30:41,965 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 09:30:41,965 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 09:30:41,965 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:30:41,967 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:30:41,981 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 09:30:41,982 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:30:41,982 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:30:41,992 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 09:30:41,993 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:30:41,994 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:30:42,004 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 09:30:42,005 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:30:42,005 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:30:43,911 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-05 09:30:43,912 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-05 09:30:43,913 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-05 09:30:44,360 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-05 09:30:44,368 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-05 09:30:44,389 Line:689 通过SQL读原始数据：21
 [DEBUG] 2018-01-05 09:30:44,390 Line:1391 整理数据：0
 [DEBUG] 2018-01-05 09:30:44,772 Line:5242 GlobalsTool.js 生成js 时间114:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:30:44,897 Line:5242 GlobalsTool.js 生成js 时间125:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 09:30:58,352 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 09:30:58,354 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 09:30:58,706 Line:5242 GlobalsTool.js 生成js 时间18:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:30:59,648 Line:5242 GlobalsTool.js 生成js 时间941:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 09:31:02,132 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 09:31:02,132 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 09:31:02,210 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:31:02,210 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:31:02,210 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:31:02,210 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:31:02,211 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-05 09:31:02,249 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-05'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:31:02,426 Line:5242 GlobalsTool.js 生成js 时间21:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:31:02,461 Line:5242 GlobalsTool.js 生成js 时间35:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:31:04,441 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 09:31:04,441 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 09:31:04,466 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:31:04,466 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:31:04,467 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:31:04,467 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:31:04,467 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-05 09:31:04,470 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:31:07,093 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-05 09:31:07,093 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-05 09:31:07,128 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:31:07,129 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:31:07,130 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:31:07,130 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-05 09:31:07,130 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:31:07,142 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:31:11,157 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 09:31:11,160 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050002,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 09:31:11,161 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 09:31:11,195 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:31:11,195 Line:5853 1:0.0
 [DEBUG] 2018-01-05 09:31:11,195 Line:5853 2:
 [DEBUG] 2018-01-05 09:31:11,196 Line:5853 3:16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,196 Line:5853 4:-1
 [DEBUG] 2018-01-05 09:31:11,196 Line:5853 5:finish
 [DEBUG] 2018-01-05 09:31:11,196 Line:5853 6:0.0
 [DEBUG] 2018-01-05 09:31:11,196 Line:5853 7:0
 [DEBUG] 2018-01-05 09:31:11,196 Line:5853 8:0.0
 [DEBUG] 2018-01-05 09:31:11,197 Line:5853 9:BI1801050002
 [DEBUG] 2018-01-05 09:31:11,197 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 09:31:11,197 Line:5853 11:00003
 [DEBUG] 2018-01-05 09:31:11,197 Line:5853 12:00101
 [DEBUG] 2018-01-05 09:31:11,197 Line:5853 13:1
 [DEBUG] 2018-01-05 09:31:11,197 Line:5853 14:00001
 [DEBUG] 2018-01-05 09:31:11,198 Line:5853 15:3
 [DEBUG] 2018-01-05 09:31:11,198 Line:5853 16:0.0
 [DEBUG] 2018-01-05 09:31:11,198 Line:5853 17:0.0
 [DEBUG] 2018-01-05 09:31:11,198 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:31:11,198 Line:5853 19:0.0
 [DEBUG] 2018-01-05 09:31:11,199 Line:5853 20:
 [DEBUG] 2018-01-05 09:31:11,199 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:31:11,199 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:31:11,199 Line:5853 23:0.0
 [DEBUG] 2018-01-05 09:31:11,199 Line:5853 24:
 [DEBUG] 2018-01-05 09:31:11,199 Line:5853 25:0.0
 [DEBUG] 2018-01-05 09:31:11,200 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:31:11,200 Line:5853 27:0.0
 [DEBUG] 2018-01-05 09:31:11,200 Line:5853 28:
 [DEBUG] 2018-01-05 09:31:11,200 Line:5853 29:1
 [DEBUG] 2018-01-05 09:31:11,200 Line:5853 30:1
 [DEBUG] 2018-01-05 09:31:11,201 Line:5853 31:2018
 [DEBUG] 2018-01-05 09:31:11,201 Line:5853 32:
 [DEBUG] 2018-01-05 09:31:11,201 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:31:11,201 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:31:11,201 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:31:11,201 Line:5853 36:
 [DEBUG] 2018-01-05 09:31:11,202 Line:5853 37:
 [DEBUG] 2018-01-05 09:31:11,202 Line:5853 38:
 [DEBUG] 2018-01-05 09:31:11,202 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:31:11,202 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:31:11,202 Line:5853 41:
 [DEBUG] 2018-01-05 09:31:11,203 Line:5853 42:
 [DEBUG] 2018-01-05 09:31:11,203 Line:5853 43:100.0
 [DEBUG] 2018-01-05 09:31:11,203 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:31:11,203 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:31:11,203 Line:5853 46:
 [DEBUG] 2018-01-05 09:31:11,203 Line:5853 47:1.0
 [DEBUG] 2018-01-05 09:31:11,204 Line:5853 48:1.0
 [DEBUG] 2018-01-05 09:31:11,204 Line:5853 49:1.0
 [DEBUG] 2018-01-05 09:31:11,204 Line:5853 50:0.0
 [DEBUG] 2018-01-05 09:31:11,204 Line:5853 51:1.0
 [DEBUG] 2018-01-05 09:31:11,204 Line:5853 52:
 [DEBUG] 2018-01-05 09:31:11,205 Line:5853 53:
 [DEBUG] 2018-01-05 09:31:11,205 Line:5853 54:0.0
 [DEBUG] 2018-01-05 09:31:11,205 Line:5853 55:0.0
 [DEBUG] 2018-01-05 09:31:11,205 Line:5853 56:0.0
 [DEBUG] 2018-01-05 09:31:11,205 Line:5853 57:0
 [DEBUG] 2018-01-05 09:31:11,205 Line:5853 58:00001
 [DEBUG] 2018-01-05 09:31:11,206 Line:5853 59:0
 [DEBUG] 2018-01-05 09:31:11,206 Line:5853 60:2018-01-05 09:31:11
 [DEBUG] 2018-01-05 09:31:11,206 Line:5853 61:1
 [DEBUG] 2018-01-05 09:31:11,256 Line:5853 62:2018-01-05 09:31:11
 [DEBUG] 2018-01-05 09:31:11,257 Line:5853 63:1
 [DEBUG] 2018-01-05 09:31:11,257 Line:5853 64:2018-01-05 09:31:11
 [DEBUG] 2018-01-05 09:31:11,342 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:31:11,342 Line:5853 1:16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,342 Line:5853 2:16013457_1801050931113420003
 [DEBUG] 2018-01-05 09:31:11,343 Line:5853 3:
 [DEBUG] 2018-01-05 09:31:11,343 Line:5853 4:
 [DEBUG] 2018-01-05 09:31:11,343 Line:5853 5:
 [DEBUG] 2018-01-05 09:31:11,343 Line:5853 6:
 [DEBUG] 2018-01-05 09:31:11,343 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 09:31:11,343 Line:5853 8:
 [DEBUG] 2018-01-05 09:31:11,344 Line:5853 9:
 [DEBUG] 2018-01-05 09:31:11,344 Line:5853 10:
 [DEBUG] 2018-01-05 09:31:11,344 Line:5853 11:
 [DEBUG] 2018-01-05 09:31:11,344 Line:5853 12:
 [DEBUG] 2018-01-05 09:31:11,344 Line:5853 13:
 [DEBUG] 2018-01-05 09:31:11,345 Line:5853 14:
 [DEBUG] 2018-01-05 09:31:11,345 Line:5853 15:1.0
 [DEBUG] 2018-01-05 09:31:11,345 Line:5853 16:1.0
 [DEBUG] 2018-01-05 09:31:11,346 Line:5853 17:1.0
 [DEBUG] 2018-01-05 09:31:11,346 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:31:11,347 Line:5853 19:0
 [DEBUG] 2018-01-05 09:31:11,347 Line:5853 20:0.0
 [DEBUG] 2018-01-05 09:31:11,347 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:31:11,348 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:31:11,349 Line:5853 23:100.0
 [DEBUG] 2018-01-05 09:31:11,349 Line:5853 24:1.0
 [DEBUG] 2018-01-05 09:31:11,349 Line:5853 25:1.0
 [DEBUG] 2018-01-05 09:31:11,349 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:31:11,350 Line:5853 27:1.0
 [DEBUG] 2018-01-05 09:31:11,350 Line:5853 28:1.0
 [DEBUG] 2018-01-05 09:31:11,350 Line:5853 29:0.0
 [DEBUG] 2018-01-05 09:31:11,350 Line:5853 30:1.0
 [DEBUG] 2018-01-05 09:31:11,350 Line:5853 31:1.0
 [DEBUG] 2018-01-05 09:31:11,350 Line:5853 32:0.0
 [DEBUG] 2018-01-05 09:31:11,351 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:31:11,351 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:31:11,351 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:31:11,351 Line:5853 36:0.0
 [DEBUG] 2018-01-05 09:31:11,351 Line:5853 37:
 [DEBUG] 2018-01-05 09:31:11,351 Line:5853 38:0.0
 [DEBUG] 2018-01-05 09:31:11,351 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:31:11,352 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:31:11,352 Line:5853 41:0.0
 [DEBUG] 2018-01-05 09:31:11,352 Line:5853 42:0.0
 [DEBUG] 2018-01-05 09:31:11,352 Line:5853 43:0.0
 [DEBUG] 2018-01-05 09:31:11,352 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:31:11,352 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:31:11,353 Line:5853 46:0.0
 [DEBUG] 2018-01-05 09:31:11,353 Line:5853 47:0
 [DEBUG] 2018-01-05 09:31:11,353 Line:5853 48:0.0
 [DEBUG] 2018-01-05 09:31:11,353 Line:5853 49:0.0
 [DEBUG] 2018-01-05 09:31:11,354 Line:5853 50:0
 [DEBUG] 2018-01-05 09:31:11,354 Line:5853 51:
 [DEBUG] 2018-01-05 09:31:11,354 Line:5853 52:0.0
 [DEBUG] 2018-01-05 09:31:11,356 Line:5853 53:0.0
 [DEBUG] 2018-01-05 09:31:11,356 Line:5853 54:0.0
 [DEBUG] 2018-01-05 09:31:11,356 Line:5853 55:0
 [DEBUG] 2018-01-05 09:31:11,357 Line:5853 56:0
 [DEBUG] 2018-01-05 09:31:11,357 Line:5853 57:
 [DEBUG] 2018-01-05 09:31:11,357 Line:5853 58:0.0
 [DEBUG] 2018-01-05 09:31:11,357 Line:5853 59:0.0
 [DEBUG] 2018-01-05 09:31:11,358 Line:5853 60:
 [DEBUG] 2018-01-05 09:31:11,358 Line:5853 61:0.0
 [DEBUG] 2018-01-05 09:31:11,358 Line:5853 62:00001
 [DEBUG] 2018-01-05 09:31:11,566 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 09:31:11,818 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,819 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 09:31:11,821 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,821 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 09:31:11,822 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,822 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 09:31:11,824 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,824 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:31:11,825 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,825 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:31:11,827 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,827 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:31:11,830 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:11,831 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 09:31:11,831 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,831 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,832 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 09:31:11,836 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:31:11,837 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:31:11,840 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,841 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:31:11,841 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,841 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,842 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:31:11,847 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:31:11,848 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:31:11,849 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,849 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:31:11,849 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,850 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,850 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:31:11,854 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:31:11,854 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:31:11,855 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,856 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 09:31:11,856 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,856 Line:988 1值：false
 [DEBUG] 2018-01-05 09:31:11,856 Line:988 2值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,862 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 09:31:11,862 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:31:11,862 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 09:31:11,863 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,863 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 09:31:11,864 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,864 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,869 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:31:11,869 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:31:11,870 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,871 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:31:11,871 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,871 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,875 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:31:11,875 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:31:11,876 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,877 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:31:11,877 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,878 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,881 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:31:11,882 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:31:11,883 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,884 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 09:31:11,884 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,885 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,889 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:31:11,889 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:31:11,891 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,892 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:31:11,894 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,895 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 09:31:11,896 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,896 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,902 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 09:31:11,902 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:31:11,904 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,905 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 09:31:11,907 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,907 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 09:31:11,907 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,908 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,910 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:31:11,911 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:31:11,912 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,912 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 09:31:11,912 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,912 Line:988 1值：1
 [DEBUG] 2018-01-05 09:31:11,913 Line:988 2值：0
 [DEBUG] 2018-01-05 09:31:11,913 Line:988 3值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,924 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 09:31:11,924 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 09:31:11,924 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-05 09:31:11,925 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 09:31:11,926 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,926 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 09:31:11,927 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,927 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,936 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 09:31:11,937 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:31:11,938 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,939 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 09:31:11,939 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,940 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,942 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:31:11,942 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:31:11,943 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,943 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 09:31:11,944 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,944 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,949 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:31:11,950 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 09:31:11,951 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,952 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 09:31:11,952 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,952 Line:988 1值：
 [DEBUG] 2018-01-05 09:31:11,953 Line:988 2值：00001
 [DEBUG] 2018-01-05 09:31:11,958 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:31:11,959 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 09:31:11,959 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:11,959 Line:988 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,959 Line:988 2值：
 [DEBUG] 2018-01-05 09:31:11,960 Line:988 3值：
 [DEBUG] 2018-01-05 09:31:11,960 Line:988 4值：
 [DEBUG] 2018-01-05 09:31:11,963 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:31:11,963 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 09:31:11,965 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,965 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:31:11,966 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,967 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 09:31:11,968 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,968 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 09:31:11,969 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:11,969 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:31:11,970 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:11,971 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 09:31:11,972 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:31:11,972 Line:1157 2值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,975 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:31:11,975 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:31:11,976 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:31:11,976 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:31:11,976 Line:1157 2值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,977 Line:1157 3值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,981 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:31:11,982 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 09:31:11,982 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:31:11,982 Line:1157 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,983 Line:1157 2值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,989 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:31:11,989 Line:229 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 09:31:11,990 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 09:31:11,990 Line:1157 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,993 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:31:11,993 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:31:11,994 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 09:31:11,994 Line:1157 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:11,998 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:31:11,999 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 09:31:11,999 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 09:31:12,000 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,000 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 09:31:12,000 Line:1157 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:12,001 Line:1157 2值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:12,004 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:31:12,004 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:31:12,005 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 09:31:12,005 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,006 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 09:31:12,007 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,007 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 09:31:12,008 Line:1270 16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:12,008 Line:1270 add
 [DEBUG] 2018-01-05 09:31:12,085 Line:425 ************上述语句执行时间：78
 [DEBUG] 2018-01-05 09:31:12,085 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 09:31:12,086 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,087 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:31:12,087 Line:1157 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:12,096 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:31:12,097 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 09:31:12,097 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:31:12,098 Line:1157 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:12,107 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:31:12,107 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 09:31:12,107 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:31:12,108 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,109 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:31:12,109 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,110 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 09:31:12,110 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,133 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 09:31:12,135 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,135 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:31:12,136 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,136 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:31:12,139 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,139 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:31:12,141 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,142 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 09:31:12,143 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,144 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:31:12,145 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,145 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 09:31:12,146 Line:1157 1值：16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:12,149 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 09:31:12,149 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:31:12,149 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:31:12,150 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,150 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 09:31:12,151 Line:1270 16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:12,151 Line:1270 add
 [DEBUG] 2018-01-05 09:31:12,207 Line:425 ************上述语句执行时间：57
 [DEBUG] 2018-01-05 09:31:12,207 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 09:31:12,208 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,209 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 09:31:12,210 Line:1270 1
 [DEBUG] 2018-01-05 09:31:12,211 Line:1270 2018
 [DEBUG] 2018-01-05 09:31:12,211 Line:1270 1
 [DEBUG] 2018-01-05 09:31:12,211 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 09:31:12,211 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 09:31:12,212 Line:1270 16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:12,212 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 09:31:12,212 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:31:12,213 Line:1270 BI1801050002
 [DEBUG] 2018-01-05 09:31:12,213 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:31:12,213 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:31:12,213 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 09:31:12,214 Line:1270 1
 [DEBUG] 2018-01-05 09:31:12,214 Line:1270 1
 [DEBUG] 2018-01-05 09:31:12,214 Line:1270 2018-01-05 09:31:11
 [DEBUG] 2018-01-05 09:31:12,214 Line:1270 2018-01-05 09:31:11
 [DEBUG] 2018-01-05 09:31:12,215 Line:1270 00001
 [DEBUG] 2018-01-05 09:31:12,215 Line:1270 
 [DEBUG] 2018-01-05 09:31:12,215 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 09:31:12,216 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:31:12,216 Line:1270 00003
 [DEBUG] 2018-01-05 09:31:12,216 Line:1270 1
 [DEBUG] 2018-01-05 09:31:12,217 Line:1270 00101
 [DEBUG] 2018-01-05 09:31:12,217 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 09:31:12,217 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 09:31:12,218 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:31:12,218 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 09:31:12,218 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 09:31:12,218 Line:1270 0
 [DEBUG] 2018-01-05 09:31:12,219 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 09:31:12,219 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 09:31:12,219 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 09:31:12,219 Line:1270 f_ref='16013457_1801050931111860002'
 [DEBUG] 2018-01-05 09:31:12,403 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'16013457_1801050931111860002','2018-01-05','BI1801050002','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 09:31:11','2018-01-05 09:31:11','00001' from tblBuyInStockDet where f_ref='16013457_1801050931111860002' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:31:12,403 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 09:31:12,404 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:31:12,404 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:31:12,404 Line:425 ************上述语句执行时间：195
 [DEBUG] 2018-01-05 09:31:12,404 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 09:31:12,405 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,406 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:31:12,406 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,407 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 09:31:12,407 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:12,410 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:31:12,410 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 09:31:12,411 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,411 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 09:31:12,412 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,412 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 09:31:12,413 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,413 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 09:31:12,413 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:12,414 Line:988 1值：1
 [DEBUG] 2018-01-05 09:31:12,414 Line:988 2值：0
 [DEBUG] 2018-01-05 09:31:12,414 Line:988 3值：1
 [DEBUG] 2018-01-05 09:31:12,414 Line:988 4值：0
 [DEBUG] 2018-01-05 09:31:12,414 Line:988 5值：0
 [DEBUG] 2018-01-05 09:31:12,414 Line:988 6值：1
 [DEBUG] 2018-01-05 09:31:12,415 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:31:12,416 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:31:12,416 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 09:31:12,416 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:31:12,416 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 09:31:12,417 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,461 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 09:31:12,464 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 09:31:12,471 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:31:12,477 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:31:12,483 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:31:12,489 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:31:12,498 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:31:12,504 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:31:12,520 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:31:12,529 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 09:31:12,628 Line:434 ************上述语句执行时间：211
 [DEBUG] 2018-01-05 09:31:12,628 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 09:31:12,629 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,629 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 09:31:12,630 Line:1270 116013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:12,630 Line:1270 00003
 [DEBUG] 2018-01-05 09:31:12,630 Line:1270 1
 [DEBUG] 2018-01-05 09:31:12,630 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:31:12,630 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=16013457_1801050931111860002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 09:31:11@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 09:31:11@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050002@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 09:31:12,682 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('116013457_1801050931111860002',22,'00003','2018-01-05','1','2018','1','0','1','16013457_1801050931111860002','','1','0','1','1','2018-01-05 09:31:11','1','2018-01-05 09:31:11','00001','tblBuyInStock','BI1801050002','1','00101','0','')
 [DEBUG] 2018-01-05 09:31:12,682 Line:425 ************上述语句执行时间：53
 [DEBUG] 2018-01-05 09:31:12,683 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:31:12,684 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,684 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:31:12,686 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,686 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 09:31:12,687 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,687 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 09:31:12,688 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,689 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 09:31:12,689 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,690 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 09:31:12,691 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,691 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 09:31:12,691 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:12,692 Line:988 1值：1
 [DEBUG] 2018-01-05 09:31:12,692 Line:988 2值：0
 [DEBUG] 2018-01-05 09:31:12,692 Line:988 3值：1
 [DEBUG] 2018-01-05 09:31:12,692 Line:988 4值：0
 [DEBUG] 2018-01-05 09:31:12,692 Line:988 5值：0
 [DEBUG] 2018-01-05 09:31:12,692 Line:988 6值：0
 [DEBUG] 2018-01-05 09:31:12,694 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:31:12,694 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 09:31:12,694 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 09:31:12,694 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:31:12,694 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:31:12,695 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,695 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:31:12,696 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,696 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:31:12,697 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,697 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:31:12,698 Line:321 flag:false
 [DEBUG] 2018-01-05 09:31:12,698 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:31:12,699 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,699 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 09:31:12,699 Line:1270 16013457_1801050931111860002
 [DEBUG] 2018-01-05 09:31:12,699 Line:1270 add
 [DEBUG] 2018-01-05 09:31:12,706 Line:425 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 09:31:12,706 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2018-01-05 09:31:12,707 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:31:12,707 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2018-01-05 09:31:12,708 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2018-01-05 09:31:12,708 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2018-01-05 09:31:12,708 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2018-01-05 09:31:12,708 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2018-01-05 09:31:12,708 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2018-01-05 09:31:12,708 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:31:12,709 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:31:12,709 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:12,718 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 09:31:19,091 Line:84 HiveServlet:---->{"state": 1,"reason":  "成功??","count":"25"}
 [DEBUG] 2018-01-05 09:31:24,247 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 09:31:24,817 Line:1765 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：com.menyi.aio.web.mobile.Message类型:com.menyi.aio.web.mobile.Message@57b84286
 [DEBUG] 2018-01-05 09:31:24,818 Line:443 ************上述语句执行时间：12109
 [DEBUG] 2018-01-05 09:31:24,819 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:31:24,820 Line:321 flag:true
 [DEBUG] 2018-01-05 09:31:24,821 Line:372 ---error，返回信息：'lp'url=
 [ERROR] 2018-01-05 09:31:24,822 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg='lp'
 [DEBUG] 2018-01-05 09:36:52,453 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2018-01-05 09:36:52,454 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2018-01-05 09:36:52,458 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2018-01-05 09:36:59,698 Line:206 系统开始启动，最大内存：1792;目前总内存：301;目前空闲内存：205
 [INFO ] 2018-01-05 09:36:59,795 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-05 09:37:03,971 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-05 09:37:04,131 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-05 09:37:04,143 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-05 09:37:04,146 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-05 09:37:04,148 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-05 09:37:04,163 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-05 09:37:04,173 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-05 09:37:06,021 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 09:37:06,044 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-05 09:37:06,072 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-05 09:37:06,083 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-05 09:37:07,072 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-05 09:37:07,073 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-05 09:37:07,673 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-05 09:37:07,754 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-05 09:37:08,562 Line:538 ------Init TableInfo record:639
 [DEBUG] 2018-01-05 09:37:08,590 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-05 09:37:08,596 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-05 09:37:08,606 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-05 09:37:08,618 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-05 09:37:08,627 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-05 09:37:08,660 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-05 09:37:12,367 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-05 09:37:12,648 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,650 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,653 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,655 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,657 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,659 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,661 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,663 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,665 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,667 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,732 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,756 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,783 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,848 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,850 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,854 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,856 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,897 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,900 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,903 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,906 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,908 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,911 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,943 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,989 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,991 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,993 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,995 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:12,998 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:13,000 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:13,023 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:13,025 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:13,028 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:13,083 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:13,117 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:13,156 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:13,158 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:13,160 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 09:37:13,187 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-05 09:37:13,208 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-05 09:37:13,267 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-05 09:37:13,896 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-05 09:37:13,897 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-05 09:37:15,588 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-06 00:00:00
 [INFO ] 2018-01-05 09:37:15,588 Line:137 SAFE 碎片任务启动，时间2018-01-07 00:00:00
 [DEBUG] 2018-01-05 09:38:08,448 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=15881B5F72127E14049DD6DED071EF83085009930BBD9310CD721D5437AEAEA888950A25AEEB154A086B4B4D4D09E41D17BB8C487E591A94
 [ERROR] 2018-01-05 09:38:08,569 Line:119 ------保存成功
 [DEBUG] 2018-01-05 09:38:14,047 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 09:38:15,457 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 09:38:15,458 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2018-01-05 09:38:15,458 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2018-01-05 09:38:15,944 Line:5242 GlobalsTool.js 生成js 时间77:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:38:16,165 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-05 09:38:16,166 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-05 09:38:16,547 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515116296537
 [DEBUG] 2018-01-05 09:38:16,557 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515116296537,];
 [DEBUG] 2018-01-05 09:38:16,763 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-05 09:38:16,763 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-05 09:38:18,046 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515116298044
 [DEBUG] 2018-01-05 09:38:18,046 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515116298044,];
 [DEBUG] 2018-01-05 09:38:18,105 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515116298100
 [DEBUG] 2018-01-05 09:38:18,105 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515116298100,];
 [DEBUG] 2018-01-05 09:38:18,171 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-05 09:38:18,171 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-05 09:38:18,241 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-05 09:38:18,258 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-05 09:38:18,404 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 09:38:18,404 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 09:38:18,413 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:38:18,654 Line:5242 GlobalsTool.js 生成js 时间34:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:38:18,824 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 09:38:18,824 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 09:38:18,825 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:38:18,825 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 09:38:18,826 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:38:18,841 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 09:38:18,841 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:38:18,842 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:38:18,853 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 09:38:18,854 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:38:18,855 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:38:18,863 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 09:38:18,864 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 09:38:18,864 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 09:38:27,874 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-05 09:38:27,875 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-05 09:38:27,875 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-05 09:38:28,371 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-05 09:38:28,388 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-05 09:38:28,423 Line:689 通过SQL读原始数据：35
 [DEBUG] 2018-01-05 09:38:28,425 Line:1391 整理数据：1
 [DEBUG] 2018-01-05 09:38:28,765 Line:5242 GlobalsTool.js 生成js 时间98:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:38:28,890 Line:5242 GlobalsTool.js 生成js 时间124:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 09:38:30,700 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 09:38:30,702 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 09:38:31,031 Line:5242 GlobalsTool.js 生成js 时间14:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:38:32,163 Line:5242 GlobalsTool.js 生成js 时间1131:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 09:38:35,117 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 09:38:35,117 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 09:38:35,188 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:38:35,188 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:38:35,188 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:38:35,189 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:38:35,189 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-05 09:38:35,228 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-05'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:38:35,411 Line:5242 GlobalsTool.js 生成js 时间19:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:38:35,436 Line:5242 GlobalsTool.js 生成js 时间24:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 09:38:37,662 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 09:38:37,663 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 09:38:37,686 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:38:37,687 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:38:37,688 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-05 09:38:37,689 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:38:37,690 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:38:37,695 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:38:40,347 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-05 09:38:40,348 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-05 09:38:40,379 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:38:40,380 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:38:40,380 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:38:40,380 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:38:40,381 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-05 09:38:40,392 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:38:44,333 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 09:38:44,335 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050003,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 09:38:44,338 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 09:38:44,371 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:38:44,371 Line:5853 1:0.0
 [DEBUG] 2018-01-05 09:38:44,371 Line:5853 2:
 [DEBUG] 2018-01-05 09:38:44,372 Line:5853 3:3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,372 Line:5853 4:-1
 [DEBUG] 2018-01-05 09:38:44,372 Line:5853 5:finish
 [DEBUG] 2018-01-05 09:38:44,372 Line:5853 6:0.0
 [DEBUG] 2018-01-05 09:38:44,372 Line:5853 7:0
 [DEBUG] 2018-01-05 09:38:44,372 Line:5853 8:0.0
 [DEBUG] 2018-01-05 09:38:44,373 Line:5853 9:BI1801050003
 [DEBUG] 2018-01-05 09:38:44,373 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 09:38:44,373 Line:5853 11:00003
 [DEBUG] 2018-01-05 09:38:44,373 Line:5853 12:00101
 [DEBUG] 2018-01-05 09:38:44,374 Line:5853 13:1
 [DEBUG] 2018-01-05 09:38:44,374 Line:5853 14:00001
 [DEBUG] 2018-01-05 09:38:44,374 Line:5853 15:3
 [DEBUG] 2018-01-05 09:38:44,374 Line:5853 16:0.0
 [DEBUG] 2018-01-05 09:38:44,375 Line:5853 17:0.0
 [DEBUG] 2018-01-05 09:38:44,375 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:38:44,375 Line:5853 19:0.0
 [DEBUG] 2018-01-05 09:38:44,376 Line:5853 20:
 [DEBUG] 2018-01-05 09:38:44,376 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:38:44,376 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:38:44,376 Line:5853 23:0.0
 [DEBUG] 2018-01-05 09:38:44,377 Line:5853 24:
 [DEBUG] 2018-01-05 09:38:44,377 Line:5853 25:0.0
 [DEBUG] 2018-01-05 09:38:44,377 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:38:44,377 Line:5853 27:0.0
 [DEBUG] 2018-01-05 09:38:44,378 Line:5853 28:
 [DEBUG] 2018-01-05 09:38:44,378 Line:5853 29:1
 [DEBUG] 2018-01-05 09:38:44,378 Line:5853 30:1
 [DEBUG] 2018-01-05 09:38:44,380 Line:5853 31:2018
 [DEBUG] 2018-01-05 09:38:44,380 Line:5853 32:
 [DEBUG] 2018-01-05 09:38:44,381 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:38:44,381 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:38:44,381 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:38:44,381 Line:5853 36:
 [DEBUG] 2018-01-05 09:38:44,381 Line:5853 37:
 [DEBUG] 2018-01-05 09:38:44,381 Line:5853 38:
 [DEBUG] 2018-01-05 09:38:44,382 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:38:44,382 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:38:44,382 Line:5853 41:
 [DEBUG] 2018-01-05 09:38:44,382 Line:5853 42:
 [DEBUG] 2018-01-05 09:38:44,382 Line:5853 43:100.0
 [DEBUG] 2018-01-05 09:38:44,382 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:38:44,383 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:38:44,383 Line:5853 46:
 [DEBUG] 2018-01-05 09:38:44,383 Line:5853 47:1.0
 [DEBUG] 2018-01-05 09:38:44,383 Line:5853 48:1.0
 [DEBUG] 2018-01-05 09:38:44,383 Line:5853 49:1.0
 [DEBUG] 2018-01-05 09:38:44,384 Line:5853 50:0.0
 [DEBUG] 2018-01-05 09:38:44,384 Line:5853 51:1.0
 [DEBUG] 2018-01-05 09:38:44,384 Line:5853 52:
 [DEBUG] 2018-01-05 09:38:44,384 Line:5853 53:
 [DEBUG] 2018-01-05 09:38:44,384 Line:5853 54:0.0
 [DEBUG] 2018-01-05 09:38:44,385 Line:5853 55:0.0
 [DEBUG] 2018-01-05 09:38:44,385 Line:5853 56:0.0
 [DEBUG] 2018-01-05 09:38:44,385 Line:5853 57:0
 [DEBUG] 2018-01-05 09:38:44,385 Line:5853 58:00001
 [DEBUG] 2018-01-05 09:38:44,385 Line:5853 59:0
 [DEBUG] 2018-01-05 09:38:44,385 Line:5853 60:2018-01-05 09:38:44
 [DEBUG] 2018-01-05 09:38:44,385 Line:5853 61:1
 [DEBUG] 2018-01-05 09:38:44,386 Line:5853 62:2018-01-05 09:38:44
 [DEBUG] 2018-01-05 09:38:44,386 Line:5853 63:1
 [DEBUG] 2018-01-05 09:38:44,386 Line:5853 64:2018-01-05 09:38:44
 [DEBUG] 2018-01-05 09:38:44,453 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:38:44,454 Line:5853 1:3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,454 Line:5853 2:3e5b9b0b_1801050938444530004
 [DEBUG] 2018-01-05 09:38:44,454 Line:5853 3:
 [DEBUG] 2018-01-05 09:38:44,454 Line:5853 4:
 [DEBUG] 2018-01-05 09:38:44,455 Line:5853 5:
 [DEBUG] 2018-01-05 09:38:44,455 Line:5853 6:
 [DEBUG] 2018-01-05 09:38:44,455 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 09:38:44,455 Line:5853 8:
 [DEBUG] 2018-01-05 09:38:44,455 Line:5853 9:
 [DEBUG] 2018-01-05 09:38:44,455 Line:5853 10:
 [DEBUG] 2018-01-05 09:38:44,455 Line:5853 11:
 [DEBUG] 2018-01-05 09:38:44,456 Line:5853 12:
 [DEBUG] 2018-01-05 09:38:44,456 Line:5853 13:
 [DEBUG] 2018-01-05 09:38:44,456 Line:5853 14:
 [DEBUG] 2018-01-05 09:38:44,456 Line:5853 15:1.0
 [DEBUG] 2018-01-05 09:38:44,456 Line:5853 16:1.0
 [DEBUG] 2018-01-05 09:38:44,456 Line:5853 17:1.0
 [DEBUG] 2018-01-05 09:38:44,456 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:38:44,457 Line:5853 19:0
 [DEBUG] 2018-01-05 09:38:44,457 Line:5853 20:0.0
 [DEBUG] 2018-01-05 09:38:44,457 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:38:44,457 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:38:44,457 Line:5853 23:100.0
 [DEBUG] 2018-01-05 09:38:44,457 Line:5853 24:1.0
 [DEBUG] 2018-01-05 09:38:44,458 Line:5853 25:1.0
 [DEBUG] 2018-01-05 09:38:44,458 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:38:44,458 Line:5853 27:1.0
 [DEBUG] 2018-01-05 09:38:44,458 Line:5853 28:1.0
 [DEBUG] 2018-01-05 09:38:44,458 Line:5853 29:0.0
 [DEBUG] 2018-01-05 09:38:44,459 Line:5853 30:1.0
 [DEBUG] 2018-01-05 09:38:44,459 Line:5853 31:1.0
 [DEBUG] 2018-01-05 09:38:44,459 Line:5853 32:0.0
 [DEBUG] 2018-01-05 09:38:44,459 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:38:44,459 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:38:44,459 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:38:44,460 Line:5853 36:0.0
 [DEBUG] 2018-01-05 09:38:44,460 Line:5853 37:
 [DEBUG] 2018-01-05 09:38:44,460 Line:5853 38:0.0
 [DEBUG] 2018-01-05 09:38:44,460 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:38:44,460 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:38:44,461 Line:5853 41:0.0
 [DEBUG] 2018-01-05 09:38:44,461 Line:5853 42:0.0
 [DEBUG] 2018-01-05 09:38:44,461 Line:5853 43:0.0
 [DEBUG] 2018-01-05 09:38:44,461 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:38:44,462 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:38:44,462 Line:5853 46:0.0
 [DEBUG] 2018-01-05 09:38:44,462 Line:5853 47:0
 [DEBUG] 2018-01-05 09:38:44,463 Line:5853 48:0.0
 [DEBUG] 2018-01-05 09:38:44,463 Line:5853 49:0.0
 [DEBUG] 2018-01-05 09:38:44,463 Line:5853 50:0
 [DEBUG] 2018-01-05 09:38:44,463 Line:5853 51:
 [DEBUG] 2018-01-05 09:38:44,463 Line:5853 52:0.0
 [DEBUG] 2018-01-05 09:38:44,463 Line:5853 53:0.0
 [DEBUG] 2018-01-05 09:38:44,464 Line:5853 54:0.0
 [DEBUG] 2018-01-05 09:38:44,464 Line:5853 55:0
 [DEBUG] 2018-01-05 09:38:44,464 Line:5853 56:0
 [DEBUG] 2018-01-05 09:38:44,464 Line:5853 57:
 [DEBUG] 2018-01-05 09:38:44,464 Line:5853 58:0.0
 [DEBUG] 2018-01-05 09:38:44,465 Line:5853 59:0.0
 [DEBUG] 2018-01-05 09:38:44,465 Line:5853 60:
 [DEBUG] 2018-01-05 09:38:44,465 Line:5853 61:0.0
 [DEBUG] 2018-01-05 09:38:44,465 Line:5853 62:00001
 [DEBUG] 2018-01-05 09:38:44,653 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 09:38:44,906 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,906 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 09:38:44,908 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,909 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 09:38:44,909 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,910 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 09:38:44,911 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,911 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:38:44,912 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,912 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:38:44,913 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,913 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:38:44,914 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:44,915 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 09:38:44,916 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,916 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,916 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 09:38:44,919 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:38:44,919 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:38:44,920 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,921 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:38:44,921 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,921 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,921 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:38:44,925 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:38:44,925 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:38:44,926 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,927 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:38:44,927 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,927 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,927 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:38:44,935 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 09:38:44,935 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:38:44,936 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,937 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 09:38:44,937 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,937 Line:988 1值：false
 [DEBUG] 2018-01-05 09:38:44,937 Line:988 2值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,944 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 09:38:44,945 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 09:38:44,945 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 09:38:44,946 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,947 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 09:38:44,947 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,948 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,954 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 09:38:44,955 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:38:44,956 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,956 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:38:44,956 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,956 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,960 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:38:44,961 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:38:44,964 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,965 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:38:44,965 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,966 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,970 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:38:44,970 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:38:44,972 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,972 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 09:38:44,972 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,973 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,979 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 09:38:44,980 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:38:44,981 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,981 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:38:44,983 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,983 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 09:38:44,983 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,984 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,988 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:38:44,988 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:38:44,989 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,990 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 09:38:44,991 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,991 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 09:38:44,991 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,991 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:44,995 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:38:44,995 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:38:44,997 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:44,997 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 09:38:44,997 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:44,998 Line:988 1值：1
 [DEBUG] 2018-01-05 09:38:44,998 Line:988 2值：0
 [DEBUG] 2018-01-05 09:38:44,998 Line:988 3值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,033 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 09:38:45,033 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 09:38:45,034 Line:1043 ---上述语句时间---37
 [DEBUG] 2018-01-05 09:38:45,034 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 09:38:45,036 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,036 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 09:38:45,036 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:45,037 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,047 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 09:38:45,048 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:38:45,049 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,050 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 09:38:45,051 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:45,051 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,053 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:38:45,054 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:38:45,055 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,055 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 09:38:45,055 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:45,056 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,059 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:38:45,060 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 09:38:45,061 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,062 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 09:38:45,062 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:45,063 Line:988 1值：
 [DEBUG] 2018-01-05 09:38:45,063 Line:988 2值：00001
 [DEBUG] 2018-01-05 09:38:45,068 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:38:45,069 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 09:38:45,069 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:45,070 Line:988 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,070 Line:988 2值：
 [DEBUG] 2018-01-05 09:38:45,070 Line:988 3值：
 [DEBUG] 2018-01-05 09:38:45,071 Line:988 4值：
 [DEBUG] 2018-01-05 09:38:45,075 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:38:45,076 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 09:38:45,077 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,079 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:38:45,080 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,081 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 09:38:45,082 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,083 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 09:38:45,084 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,084 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:38:45,086 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,087 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 09:38:45,088 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:38:45,088 Line:1157 2值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,094 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:38:45,095 Line:229 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 09:38:45,095 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:38:45,096 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:38:45,096 Line:1157 2值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,096 Line:1157 3值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,104 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:38:45,104 Line:229 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 09:38:45,104 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:38:45,105 Line:1157 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,105 Line:1157 2值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,112 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:38:45,113 Line:229 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 09:38:45,113 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 09:38:45,113 Line:1157 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,116 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:38:45,116 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 09:38:45,117 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 09:38:45,117 Line:1157 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,123 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:38:45,123 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 09:38:45,124 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 09:38:45,126 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,127 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 09:38:45,127 Line:1157 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,127 Line:1157 2值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,134 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:38:45,135 Line:408 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 09:38:45,135 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 09:38:45,136 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,136 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 09:38:45,137 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,138 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 09:38:45,139 Line:1270 3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,139 Line:1270 add
 [DEBUG] 2018-01-05 09:38:45,233 Line:425 ************上述语句执行时间：95
 [DEBUG] 2018-01-05 09:38:45,233 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 09:38:45,234 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,234 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:38:45,235 Line:1157 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,247 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:38:45,248 Line:408 ************上述语句执行时间：14
 [DEBUG] 2018-01-05 09:38:45,248 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:38:45,249 Line:1157 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,261 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:38:45,262 Line:408 ************上述语句执行时间：14
 [DEBUG] 2018-01-05 09:38:45,263 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:38:45,264 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,264 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:38:45,265 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,265 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 09:38:45,266 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,283 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 09:38:45,284 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,285 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:38:45,286 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,286 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:38:45,287 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,287 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:38:45,288 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,288 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 09:38:45,290 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,290 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:38:45,291 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,292 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 09:38:45,292 Line:1157 1值：3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,295 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 09:38:45,295 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 09:38:45,296 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:38:45,297 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,297 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 09:38:45,297 Line:1270 3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,297 Line:1270 add
 [DEBUG] 2018-01-05 09:38:45,350 Line:425 ************上述语句执行时间：53
 [DEBUG] 2018-01-05 09:38:45,351 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 09:38:45,352 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,353 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 09:38:45,353 Line:1270 1
 [DEBUG] 2018-01-05 09:38:45,353 Line:1270 2018
 [DEBUG] 2018-01-05 09:38:45,353 Line:1270 1
 [DEBUG] 2018-01-05 09:38:45,353 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 09:38:45,354 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 09:38:45,354 Line:1270 3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,354 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 09:38:45,354 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:38:45,355 Line:1270 BI1801050003
 [DEBUG] 2018-01-05 09:38:45,355 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:38:45,355 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:38:45,355 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 09:38:45,356 Line:1270 1
 [DEBUG] 2018-01-05 09:38:45,356 Line:1270 1
 [DEBUG] 2018-01-05 09:38:45,356 Line:1270 2018-01-05 09:38:44
 [DEBUG] 2018-01-05 09:38:45,356 Line:1270 2018-01-05 09:38:44
 [DEBUG] 2018-01-05 09:38:45,357 Line:1270 00001
 [DEBUG] 2018-01-05 09:38:45,357 Line:1270 
 [DEBUG] 2018-01-05 09:38:45,357 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 09:38:45,357 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:38:45,358 Line:1270 00003
 [DEBUG] 2018-01-05 09:38:45,358 Line:1270 1
 [DEBUG] 2018-01-05 09:38:45,358 Line:1270 00101
 [DEBUG] 2018-01-05 09:38:45,358 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 09:38:45,359 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 09:38:45,359 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:38:45,359 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 09:38:45,359 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 09:38:45,360 Line:1270 0
 [DEBUG] 2018-01-05 09:38:45,360 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 09:38:45,360 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 09:38:45,360 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 09:38:45,361 Line:1270 f_ref='3e5b9b0b_1801050938443640003'
 [DEBUG] 2018-01-05 09:38:45,552 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'3e5b9b0b_1801050938443640003','2018-01-05','BI1801050003','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 09:38:44','2018-01-05 09:38:44','00001' from tblBuyInStockDet where f_ref='3e5b9b0b_1801050938443640003' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:38:45,552 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 09:38:45,552 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:38:45,552 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:38:45,553 Line:425 ************上述语句执行时间：201
 [DEBUG] 2018-01-05 09:38:45,553 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 09:38:45,554 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,554 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:38:45,554 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,555 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 09:38:45,556 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:45,557 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:38:45,557 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 09:38:45,558 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,559 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 09:38:45,559 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,559 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 09:38:45,561 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:45,562 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 09:38:45,562 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:45,563 Line:988 1值：1
 [DEBUG] 2018-01-05 09:38:45,563 Line:988 2值：0
 [DEBUG] 2018-01-05 09:38:45,563 Line:988 3值：1
 [DEBUG] 2018-01-05 09:38:45,563 Line:988 4值：0
 [DEBUG] 2018-01-05 09:38:45,564 Line:988 5值：0
 [DEBUG] 2018-01-05 09:38:45,564 Line:988 6值：1
 [DEBUG] 2018-01-05 09:38:45,565 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:38:45,565 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:38:45,566 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 09:38:45,566 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:38:45,566 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 09:38:45,567 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,614 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 09:38:45,618 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 09:38:45,628 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:38:45,635 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:38:45,641 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:38:45,647 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:38:45,656 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:38:45,669 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:38:45,696 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:38:45,712 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 09:38:45,929 Line:434 ************上述语句执行时间：362
 [DEBUG] 2018-01-05 09:38:45,929 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 09:38:45,931 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:45,932 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 09:38:45,933 Line:1270 13e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:45,933 Line:1270 00003
 [DEBUG] 2018-01-05 09:38:45,933 Line:1270 1
 [DEBUG] 2018-01-05 09:38:45,934 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:38:45,934 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=3e5b9b0b_1801050938443640003@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 09:38:44@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 09:38:44@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050003@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 09:38:46,040 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('13e5b9b0b_1801050938443640003',22,'00003','2018-01-05','1','2018','1','0','1','3e5b9b0b_1801050938443640003','','1','0','1','1','2018-01-05 09:38:44','1','2018-01-05 09:38:44','00001','tblBuyInStock','BI1801050003','1','00101','0','')
 [DEBUG] 2018-01-05 09:38:46,041 Line:425 ************上述语句执行时间：110
 [DEBUG] 2018-01-05 09:38:46,041 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:38:46,043 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:46,044 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:38:46,047 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:46,048 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 09:38:46,049 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:46,050 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 09:38:46,051 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:46,051 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 09:38:46,053 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:46,054 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 09:38:46,055 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:46,056 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 09:38:46,056 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:46,056 Line:988 1值：1
 [DEBUG] 2018-01-05 09:38:46,057 Line:988 2值：0
 [DEBUG] 2018-01-05 09:38:46,057 Line:988 3值：1
 [DEBUG] 2018-01-05 09:38:46,058 Line:988 4值：0
 [DEBUG] 2018-01-05 09:38:46,058 Line:988 5值：0
 [DEBUG] 2018-01-05 09:38:46,058 Line:988 6值：0
 [DEBUG] 2018-01-05 09:38:46,060 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:38:46,061 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 09:38:46,061 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 09:38:46,061 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:38:46,062 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:38:46,063 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:46,064 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:38:46,065 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:46,065 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:38:46,067 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:46,067 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:38:46,068 Line:321 flag:false
 [DEBUG] 2018-01-05 09:38:46,069 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:38:46,070 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:46,070 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 09:38:46,071 Line:1270 3e5b9b0b_1801050938443640003
 [DEBUG] 2018-01-05 09:38:46,071 Line:1270 add
 [DEBUG] 2018-01-05 09:38:46,087 Line:425 ************上述语句执行时间：17
 [DEBUG] 2018-01-05 09:38:46,088 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2018-01-05 09:38:46,088 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:38:46,091 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2018-01-05 09:38:46,091 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2018-01-05 09:38:46,092 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2018-01-05 09:38:46,092 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2018-01-05 09:38:46,092 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2018-01-05 09:38:46,093 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2018-01-05 09:38:46,093 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:38:46,093 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:38:46,095 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:46,112 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 09:38:48,519 Line:86 HiveServlet:---->{"state": 1,"reason":  "成功??","count":"25"}
 [DEBUG] 2018-01-05 09:38:48,529 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 09:38:48,529 Line:443 ************上述语句执行时间：2433
 [DEBUG] 2018-01-05 09:38:48,529 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:38:48,530 Line:321 flag:true
 [DEBUG] 2018-01-05 09:38:48,530 Line:372 ---error，返回信息：'1' ,'25' ,'成功??'url=
 [ERROR] 2018-01-05 09:38:48,531 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg='1' ,'25' ,'成功??'
 [DEBUG] 2018-01-05 09:39:57,124 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-05 09:39:57,125 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-05 09:39:57,125 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-05 09:39:57,842 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-05 09:39:57,843 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-05 09:39:58,691 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-05 09:39:58,691 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-05 09:39:58,692 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-05 09:40:05,495 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-05 09:40:05,495 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[采购入库单,];
 [DEBUG] 2018-01-05 09:40:07,417 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-05 09:40:07,418 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-05 09:40:07,972 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-05 09:40:07,972 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-05 09:40:08,888 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 09:42:10,107 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=15881B5F72127E14049DD6DED071EF83085009930BBD9310CD721D5437AEAEA888950A25AEEB154AC3042F6CEA7A9D468AD219FA989EC390
 [ERROR] 2018-01-05 09:42:10,190 Line:119 ------保存成功
 [DEBUG] 2018-01-05 09:42:21,425 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 09:42:21,428 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050003,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 09:42:21,430 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 09:42:21,457 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:42:21,457 Line:5853 1:0.0
 [DEBUG] 2018-01-05 09:42:21,457 Line:5853 2:
 [DEBUG] 2018-01-05 09:42:21,458 Line:5853 3:3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,458 Line:5853 4:-1
 [DEBUG] 2018-01-05 09:42:21,458 Line:5853 5:finish
 [DEBUG] 2018-01-05 09:42:21,458 Line:5853 6:0.0
 [DEBUG] 2018-01-05 09:42:21,458 Line:5853 7:0
 [DEBUG] 2018-01-05 09:42:21,458 Line:5853 8:0.0
 [DEBUG] 2018-01-05 09:42:21,459 Line:5853 9:BI1801050003
 [DEBUG] 2018-01-05 09:42:21,459 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 09:42:21,459 Line:5853 11:00003
 [DEBUG] 2018-01-05 09:42:21,460 Line:5853 12:00101
 [DEBUG] 2018-01-05 09:42:21,460 Line:5853 13:1
 [DEBUG] 2018-01-05 09:42:21,460 Line:5853 14:00001
 [DEBUG] 2018-01-05 09:42:21,461 Line:5853 15:3
 [DEBUG] 2018-01-05 09:42:21,461 Line:5853 16:0.0
 [DEBUG] 2018-01-05 09:42:21,461 Line:5853 17:0.0
 [DEBUG] 2018-01-05 09:42:21,461 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:42:21,461 Line:5853 19:0.0
 [DEBUG] 2018-01-05 09:42:21,461 Line:5853 20:
 [DEBUG] 2018-01-05 09:42:21,461 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:42:21,462 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:42:21,462 Line:5853 23:0.0
 [DEBUG] 2018-01-05 09:42:21,462 Line:5853 24:
 [DEBUG] 2018-01-05 09:42:21,462 Line:5853 25:0.0
 [DEBUG] 2018-01-05 09:42:21,462 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:42:21,462 Line:5853 27:0.0
 [DEBUG] 2018-01-05 09:42:21,463 Line:5853 28:
 [DEBUG] 2018-01-05 09:42:21,463 Line:5853 29:1
 [DEBUG] 2018-01-05 09:42:21,463 Line:5853 30:1
 [DEBUG] 2018-01-05 09:42:21,463 Line:5853 31:2018
 [DEBUG] 2018-01-05 09:42:21,463 Line:5853 32:
 [DEBUG] 2018-01-05 09:42:21,463 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:42:21,463 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:42:21,464 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:42:21,464 Line:5853 36:
 [DEBUG] 2018-01-05 09:42:21,464 Line:5853 37:
 [DEBUG] 2018-01-05 09:42:21,464 Line:5853 38:
 [DEBUG] 2018-01-05 09:42:21,464 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:42:21,464 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:42:21,464 Line:5853 41:
 [DEBUG] 2018-01-05 09:42:21,465 Line:5853 42:
 [DEBUG] 2018-01-05 09:42:21,465 Line:5853 43:100.0
 [DEBUG] 2018-01-05 09:42:21,465 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:42:21,465 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:42:21,465 Line:5853 46:
 [DEBUG] 2018-01-05 09:42:21,465 Line:5853 47:1.0
 [DEBUG] 2018-01-05 09:42:21,465 Line:5853 48:1.0
 [DEBUG] 2018-01-05 09:42:21,466 Line:5853 49:1.0
 [DEBUG] 2018-01-05 09:42:21,466 Line:5853 50:0.0
 [DEBUG] 2018-01-05 09:42:21,466 Line:5853 51:1.0
 [DEBUG] 2018-01-05 09:42:21,466 Line:5853 52:
 [DEBUG] 2018-01-05 09:42:21,466 Line:5853 53:
 [DEBUG] 2018-01-05 09:42:21,466 Line:5853 54:0.0
 [DEBUG] 2018-01-05 09:42:21,467 Line:5853 55:0.0
 [DEBUG] 2018-01-05 09:42:21,467 Line:5853 56:0.0
 [DEBUG] 2018-01-05 09:42:21,467 Line:5853 57:0
 [DEBUG] 2018-01-05 09:42:21,467 Line:5853 58:00001
 [DEBUG] 2018-01-05 09:42:21,467 Line:5853 59:0
 [DEBUG] 2018-01-05 09:42:21,467 Line:5853 60:2018-01-05 09:42:21
 [DEBUG] 2018-01-05 09:42:21,467 Line:5853 61:1
 [DEBUG] 2018-01-05 09:42:21,468 Line:5853 62:2018-01-05 09:42:21
 [DEBUG] 2018-01-05 09:42:21,468 Line:5853 63:1
 [DEBUG] 2018-01-05 09:42:21,468 Line:5853 64:2018-01-05 09:42:21
 [DEBUG] 2018-01-05 09:42:21,472 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:42:21,472 Line:5853 1:3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,472 Line:5853 2:3e5b9b0b_1801050942214720009
 [DEBUG] 2018-01-05 09:42:21,472 Line:5853 3:
 [DEBUG] 2018-01-05 09:42:21,473 Line:5853 4:
 [DEBUG] 2018-01-05 09:42:21,473 Line:5853 5:
 [DEBUG] 2018-01-05 09:42:21,473 Line:5853 6:
 [DEBUG] 2018-01-05 09:42:21,473 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 09:42:21,473 Line:5853 8:
 [DEBUG] 2018-01-05 09:42:21,473 Line:5853 9:
 [DEBUG] 2018-01-05 09:42:21,473 Line:5853 10:
 [DEBUG] 2018-01-05 09:42:21,474 Line:5853 11:
 [DEBUG] 2018-01-05 09:42:21,474 Line:5853 12:
 [DEBUG] 2018-01-05 09:42:21,474 Line:5853 13:
 [DEBUG] 2018-01-05 09:42:21,474 Line:5853 14:
 [DEBUG] 2018-01-05 09:42:21,474 Line:5853 15:1.0
 [DEBUG] 2018-01-05 09:42:21,474 Line:5853 16:1.0
 [DEBUG] 2018-01-05 09:42:21,474 Line:5853 17:1.0
 [DEBUG] 2018-01-05 09:42:21,475 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:42:21,475 Line:5853 19:0
 [DEBUG] 2018-01-05 09:42:21,475 Line:5853 20:0.0
 [DEBUG] 2018-01-05 09:42:21,475 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:42:21,475 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:42:21,475 Line:5853 23:100.0
 [DEBUG] 2018-01-05 09:42:21,476 Line:5853 24:1.0
 [DEBUG] 2018-01-05 09:42:21,476 Line:5853 25:1.0
 [DEBUG] 2018-01-05 09:42:21,476 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:42:21,476 Line:5853 27:1.0
 [DEBUG] 2018-01-05 09:42:21,476 Line:5853 28:1.0
 [DEBUG] 2018-01-05 09:42:21,476 Line:5853 29:0.0
 [DEBUG] 2018-01-05 09:42:21,477 Line:5853 30:1.0
 [DEBUG] 2018-01-05 09:42:21,477 Line:5853 31:1.0
 [DEBUG] 2018-01-05 09:42:21,477 Line:5853 32:0.0
 [DEBUG] 2018-01-05 09:42:21,477 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:42:21,477 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:42:21,477 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:42:21,478 Line:5853 36:0.0
 [DEBUG] 2018-01-05 09:42:21,478 Line:5853 37:
 [DEBUG] 2018-01-05 09:42:21,478 Line:5853 38:0.0
 [DEBUG] 2018-01-05 09:42:21,478 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:42:21,478 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:42:21,478 Line:5853 41:0.0
 [DEBUG] 2018-01-05 09:42:21,479 Line:5853 42:0.0
 [DEBUG] 2018-01-05 09:42:21,479 Line:5853 43:0.0
 [DEBUG] 2018-01-05 09:42:21,479 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:42:21,479 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:42:21,479 Line:5853 46:0.0
 [DEBUG] 2018-01-05 09:42:21,480 Line:5853 47:0
 [DEBUG] 2018-01-05 09:42:21,480 Line:5853 48:0.0
 [DEBUG] 2018-01-05 09:42:21,480 Line:5853 49:0.0
 [DEBUG] 2018-01-05 09:42:21,480 Line:5853 50:0
 [DEBUG] 2018-01-05 09:42:21,481 Line:5853 51:
 [DEBUG] 2018-01-05 09:42:21,481 Line:5853 52:0.0
 [DEBUG] 2018-01-05 09:42:21,482 Line:5853 53:0.0
 [DEBUG] 2018-01-05 09:42:21,482 Line:5853 54:0.0
 [DEBUG] 2018-01-05 09:42:21,483 Line:5853 55:0
 [DEBUG] 2018-01-05 09:42:21,483 Line:5853 56:0
 [DEBUG] 2018-01-05 09:42:21,483 Line:5853 57:
 [DEBUG] 2018-01-05 09:42:21,483 Line:5853 58:0.0
 [DEBUG] 2018-01-05 09:42:21,483 Line:5853 59:0.0
 [DEBUG] 2018-01-05 09:42:21,483 Line:5853 60:
 [DEBUG] 2018-01-05 09:42:21,483 Line:5853 61:0.0
 [DEBUG] 2018-01-05 09:42:21,484 Line:5853 62:00001
 [DEBUG] 2018-01-05 09:42:21,493 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 09:42:21,494 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,495 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 09:42:21,495 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,496 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 09:42:21,496 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,496 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 09:42:21,497 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,497 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:42:21,498 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,498 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:42:21,498 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,499 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:42:21,499 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:21,500 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 09:42:21,501 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,501 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,501 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 09:42:21,512 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-05 09:42:21,512 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:42:21,513 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,513 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:42:21,513 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,513 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,514 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:42:21,534 Line:1043 ---上述语句时间---21
 [DEBUG] 2018-01-05 09:42:21,534 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:42:21,535 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,535 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:42:21,535 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,535 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,535 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:42:21,545 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 09:42:21,545 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:42:21,546 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,546 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 09:42:21,547 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,547 Line:988 1值：false
 [DEBUG] 2018-01-05 09:42:21,547 Line:988 2值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,558 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 09:42:21,558 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-05 09:42:21,559 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 09:42:21,561 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,561 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 09:42:21,561 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,561 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,566 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:42:21,566 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:21,567 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,567 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:42:21,568 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,568 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,578 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 09:42:21,578 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:21,579 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,579 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:42:21,579 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,580 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,583 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:42:21,583 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:21,584 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,584 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 09:42:21,585 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,585 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,589 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:42:21,589 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:42:21,590 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,590 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:42:21,591 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,591 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 09:42:21,591 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,591 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,595 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:42:21,595 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:21,596 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,596 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 09:42:21,597 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,597 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 09:42:21,597 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,597 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,600 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:42:21,601 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:21,602 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,602 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 09:42:21,602 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,602 Line:988 1值：1
 [DEBUG] 2018-01-05 09:42:21,603 Line:988 2值：0
 [DEBUG] 2018-01-05 09:42:21,603 Line:988 3值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,637 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 09:42:21,637 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 09:42:21,637 Line:1043 ---上述语句时间---35
 [DEBUG] 2018-01-05 09:42:21,638 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 09:42:21,639 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,639 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 09:42:21,639 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,639 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,648 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 09:42:21,648 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:21,649 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,650 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 09:42:21,651 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,651 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,652 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:21,653 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:42:21,653 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,654 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 09:42:21,654 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,654 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,656 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:21,657 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 09:42:21,657 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,658 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 09:42:21,658 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,659 Line:988 1值：
 [DEBUG] 2018-01-05 09:42:21,659 Line:988 2值：00001
 [DEBUG] 2018-01-05 09:42:21,671 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-05 09:42:21,671 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 09:42:21,671 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:21,671 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,672 Line:988 2值：
 [DEBUG] 2018-01-05 09:42:21,672 Line:988 3值：
 [DEBUG] 2018-01-05 09:42:21,672 Line:988 4值：
 [DEBUG] 2018-01-05 09:42:21,677 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:42:21,677 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 09:42:21,678 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,678 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:21,679 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,679 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 09:42:21,680 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,680 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 09:42:21,681 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,681 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:42:21,682 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:21,682 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 09:42:21,683 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:42:21,683 Line:1157 2值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,686 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:21,686 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:42:21,686 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:42:21,687 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:42:21,687 Line:1157 2值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,687 Line:1157 3值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,692 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:21,692 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 09:42:21,692 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:42:21,693 Line:1157 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,693 Line:1157 2值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,697 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:21,698 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 09:42:21,698 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 09:42:21,698 Line:1157 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,700 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:21,701 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 09:42:21,701 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 09:42:21,701 Line:1157 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,704 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:21,704 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 09:42:21,705 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 09:42:21,705 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:21,706 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 09:42:21,706 Line:1157 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,706 Line:1157 2值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,710 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:21,710 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:42:21,710 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 09:42:21,711 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,711 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 09:42:21,712 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:21,712 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 09:42:21,712 Line:1270 3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,712 Line:1270 add
 [DEBUG] 2018-01-05 09:42:21,778 Line:425 ************上述语句执行时间：66
 [DEBUG] 2018-01-05 09:42:21,779 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 09:42:21,780 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:21,781 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:42:21,781 Line:1157 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,789 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:42:21,789 Line:408 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 09:42:21,790 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:42:21,790 Line:1157 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,799 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:42:21,799 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 09:42:21,799 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:42:21,800 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,800 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:42:21,801 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,801 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 09:42:21,802 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:21,820 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 09:42:21,821 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,821 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:42:21,821 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,822 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:42:21,822 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,823 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:42:21,823 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,824 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 09:42:21,824 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:21,825 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:42:21,825 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:21,825 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 09:42:21,826 Line:1157 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,828 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 09:42:21,828 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 09:42:21,828 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:42:21,829 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:21,829 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 09:42:21,829 Line:1270 3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,829 Line:1270 add
 [DEBUG] 2018-01-05 09:42:21,879 Line:425 ************上述语句执行时间：50
 [DEBUG] 2018-01-05 09:42:21,880 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 09:42:21,881 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:21,882 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 09:42:21,882 Line:1270 1
 [DEBUG] 2018-01-05 09:42:21,883 Line:1270 2018
 [DEBUG] 2018-01-05 09:42:21,883 Line:1270 1
 [DEBUG] 2018-01-05 09:42:21,883 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 09:42:21,884 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 09:42:21,884 Line:1270 3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:21,884 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 09:42:21,884 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:42:21,885 Line:1270 BI1801050003
 [DEBUG] 2018-01-05 09:42:21,885 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:42:21,885 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:42:21,885 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 09:42:21,885 Line:1270 1
 [DEBUG] 2018-01-05 09:42:21,885 Line:1270 1
 [DEBUG] 2018-01-05 09:42:21,885 Line:1270 2018-01-05 09:42:21
 [DEBUG] 2018-01-05 09:42:21,886 Line:1270 2018-01-05 09:42:21
 [DEBUG] 2018-01-05 09:42:21,886 Line:1270 00001
 [DEBUG] 2018-01-05 09:42:21,886 Line:1270 
 [DEBUG] 2018-01-05 09:42:21,886 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 09:42:21,886 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:42:21,886 Line:1270 00003
 [DEBUG] 2018-01-05 09:42:21,887 Line:1270 1
 [DEBUG] 2018-01-05 09:42:21,887 Line:1270 00101
 [DEBUG] 2018-01-05 09:42:21,887 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 09:42:21,887 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 09:42:21,887 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:42:21,887 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 09:42:21,887 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 09:42:21,888 Line:1270 0
 [DEBUG] 2018-01-05 09:42:21,888 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 09:42:21,888 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 09:42:21,888 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 09:42:21,888 Line:1270 f_ref='3e5b9b0b_1801050942214490008'
 [DEBUG] 2018-01-05 09:42:22,064 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'3e5b9b0b_1801050942214490008','2018-01-05','BI1801050003','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 09:42:21','2018-01-05 09:42:21','00001' from tblBuyInStockDet where f_ref='3e5b9b0b_1801050942214490008' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:42:22,064 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 09:42:22,064 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:42:22,064 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:42:22,064 Line:425 ************上述语句执行时间：182
 [DEBUG] 2018-01-05 09:42:22,065 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 09:42:22,065 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,066 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:42:22,066 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:22,067 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 09:42:22,067 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:22,068 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:22,069 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 09:42:22,069 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,069 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 09:42:22,070 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,070 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 09:42:22,071 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,071 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 09:42:22,071 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:22,071 Line:988 1值：1
 [DEBUG] 2018-01-05 09:42:22,071 Line:988 2值：0
 [DEBUG] 2018-01-05 09:42:22,072 Line:988 3值：1
 [DEBUG] 2018-01-05 09:42:22,072 Line:988 4值：0
 [DEBUG] 2018-01-05 09:42:22,072 Line:988 5值：0
 [DEBUG] 2018-01-05 09:42:22,072 Line:988 6值：1
 [DEBUG] 2018-01-05 09:42:22,073 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:42:22,073 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:42:22,073 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 09:42:22,074 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:42:22,074 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 09:42:22,075 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:22,083 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 09:42:22,085 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 09:42:22,096 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:22,101 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:22,107 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:22,113 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:22,120 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:22,126 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:22,140 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:22,150 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 09:42:22,258 Line:434 ************上述语句执行时间：183
 [DEBUG] 2018-01-05 09:42:22,259 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 09:42:22,260 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:22,261 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 09:42:22,261 Line:1270 13e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:22,261 Line:1270 00003
 [DEBUG] 2018-01-05 09:42:22,261 Line:1270 1
 [DEBUG] 2018-01-05 09:42:22,261 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:42:22,262 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=3e5b9b0b_1801050942214490008@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 09:42:21@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 09:42:21@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050003@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 09:42:22,324 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('13e5b9b0b_1801050942214490008',22,'00003','2018-01-05','1','2018','1','0','1','3e5b9b0b_1801050942214490008','','1','0','1','1','2018-01-05 09:42:21','1','2018-01-05 09:42:21','00001','tblBuyInStock','BI1801050003','1','00101','0','')
 [DEBUG] 2018-01-05 09:42:22,324 Line:425 ************上述语句执行时间：64
 [DEBUG] 2018-01-05 09:42:22,324 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:42:22,326 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,326 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:42:22,327 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,327 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 09:42:22,328 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,328 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 09:42:22,329 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,329 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 09:42:22,329 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,330 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 09:42:22,330 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,331 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 09:42:22,331 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:22,331 Line:988 1值：1
 [DEBUG] 2018-01-05 09:42:22,331 Line:988 2值：0
 [DEBUG] 2018-01-05 09:42:22,331 Line:988 3值：1
 [DEBUG] 2018-01-05 09:42:22,331 Line:988 4值：0
 [DEBUG] 2018-01-05 09:42:22,331 Line:988 5值：0
 [DEBUG] 2018-01-05 09:42:22,332 Line:988 6值：0
 [DEBUG] 2018-01-05 09:42:22,333 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 09:42:22,333 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 09:42:22,333 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 09:42:22,333 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:42:22,333 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:42:22,334 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,334 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:42:22,335 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,335 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:42:22,335 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,336 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:42:22,336 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:22,336 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:42:22,337 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:22,337 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 09:42:22,337 Line:1270 3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:22,337 Line:1270 add
 [DEBUG] 2018-01-05 09:42:22,346 Line:425 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 09:42:22,346 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2018-01-05 09:42:22,346 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:22,347 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2018-01-05 09:42:22,347 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2018-01-05 09:42:22,347 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2018-01-05 09:42:22,348 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2018-01-05 09:42:22,348 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2018-01-05 09:42:22,348 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2018-01-05 09:42:22,348 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:22,348 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select TotalAmount from tblBuyInStock where id = ? 
 [DEBUG] 2018-01-05 09:42:22,348 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:22,349 Line:988 1值：3e5b9b0b_1801050942214490008
 [DEBUG] 2018-01-05 09:42:22,350 Line:1023 query condition columnName:TotalAmount----value:1.00000000
 [DEBUG] 2018-01-05 09:42:22,350 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:22,350 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:42:22,351 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:22,351 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 09:42:27,751 Line:86 HiveServlet:---->{"state": 1,"reason":  "成功??","count":"25"}
 [DEBUG] 2018-01-05 09:42:27,752 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 09:42:27,752 Line:443 ************上述语句执行时间：5401
 [DEBUG] 2018-01-05 09:42:27,752 Line:313 exeCondition:tblBuyInStock_Add : '1.00000000' == '25' 
 [DEBUG] 2018-01-05 09:42:27,753 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:29,301 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=3e5b9b0b_1801050942214490008&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 09:42:29,303 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[3e5b9b0b_1801050942214490008,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 09:42:29,305 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='3e5b9b0b_1801050942214490008' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-05 09:42:29,404 Line:1525  select * from  tblBuyInStockDet where f_ref = '3e5b9b0b_1801050942214490008' order by detOrderNo
 [DEBUG] 2018-01-05 09:42:29,412 Line:1525  select * from  tblBuyPayAccount where f_ref = '3e5b9b0b_1801050942214490008' order by detOrderNo
 [DEBUG] 2018-01-05 09:42:35,041 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 09:42:35,043 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 09:42:36,802 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 09:42:36,803 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 09:42:36,844 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:42:36,845 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:42:36,846 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-05 09:42:36,850 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:42:36,851 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:42:36,860 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-05'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:42:39,684 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-05 09:42:39,685 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-05 09:42:39,734 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:42:39,734 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:42:39,734 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:42:39,735 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-05 09:42:39,736 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:42:39,747 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:42:49,788 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 09:42:49,789 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 09:42:49,830 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 09:42:49,831 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 09:42:49,831 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 09:42:49,831 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-05 09:42:49,831 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 09:42:49,833 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 09:42:52,100 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 09:42:52,102 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050004,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[25,];TotalTaxAmount=[25,];TotalCoTaxAmt=[0,];CurTotalAmount=[25,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[25,];tblBuyInStockDet_Amount=[25,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[25,];tblBuyInStockDet_DisBackAmt=[25,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[25,];tblBuyInStockDet_TaxAmount=[25,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[25,];tblBuyInStockDet_CurAmount=[25,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 09:42:52,103 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 09:42:52,107 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:42:52,108 Line:5853 1:0.0
 [DEBUG] 2018-01-05 09:42:52,108 Line:5853 2:
 [DEBUG] 2018-01-05 09:42:52,108 Line:5853 3:3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,108 Line:5853 4:-1
 [DEBUG] 2018-01-05 09:42:52,109 Line:5853 5:finish
 [DEBUG] 2018-01-05 09:42:52,109 Line:5853 6:0.0
 [DEBUG] 2018-01-05 09:42:52,109 Line:5853 7:0
 [DEBUG] 2018-01-05 09:42:52,109 Line:5853 8:0.0
 [DEBUG] 2018-01-05 09:42:52,109 Line:5853 9:BI1801050004
 [DEBUG] 2018-01-05 09:42:52,109 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 09:42:52,110 Line:5853 11:00003
 [DEBUG] 2018-01-05 09:42:52,110 Line:5853 12:00101
 [DEBUG] 2018-01-05 09:42:52,110 Line:5853 13:1
 [DEBUG] 2018-01-05 09:42:52,110 Line:5853 14:00001
 [DEBUG] 2018-01-05 09:42:52,110 Line:5853 15:3
 [DEBUG] 2018-01-05 09:42:52,111 Line:5853 16:0.0
 [DEBUG] 2018-01-05 09:42:52,111 Line:5853 17:0.0
 [DEBUG] 2018-01-05 09:42:52,111 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:42:52,111 Line:5853 19:0.0
 [DEBUG] 2018-01-05 09:42:52,111 Line:5853 20:
 [DEBUG] 2018-01-05 09:42:52,111 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:42:52,112 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:42:52,112 Line:5853 23:0.0
 [DEBUG] 2018-01-05 09:42:52,112 Line:5853 24:
 [DEBUG] 2018-01-05 09:42:52,112 Line:5853 25:0.0
 [DEBUG] 2018-01-05 09:42:52,112 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:42:52,112 Line:5853 27:0.0
 [DEBUG] 2018-01-05 09:42:52,113 Line:5853 28:
 [DEBUG] 2018-01-05 09:42:52,113 Line:5853 29:1
 [DEBUG] 2018-01-05 09:42:52,113 Line:5853 30:1
 [DEBUG] 2018-01-05 09:42:52,113 Line:5853 31:2018
 [DEBUG] 2018-01-05 09:42:52,113 Line:5853 32:
 [DEBUG] 2018-01-05 09:42:52,113 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:42:52,114 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:42:52,114 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:42:52,114 Line:5853 36:
 [DEBUG] 2018-01-05 09:42:52,114 Line:5853 37:
 [DEBUG] 2018-01-05 09:42:52,114 Line:5853 38:
 [DEBUG] 2018-01-05 09:42:52,114 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:42:52,115 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:42:52,115 Line:5853 41:
 [DEBUG] 2018-01-05 09:42:52,116 Line:5853 42:
 [DEBUG] 2018-01-05 09:42:52,117 Line:5853 43:100.0
 [DEBUG] 2018-01-05 09:42:52,118 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:42:52,118 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:42:52,118 Line:5853 46:
 [DEBUG] 2018-01-05 09:42:52,118 Line:5853 47:1.0
 [DEBUG] 2018-01-05 09:42:52,118 Line:5853 48:25.0
 [DEBUG] 2018-01-05 09:42:52,118 Line:5853 49:25.0
 [DEBUG] 2018-01-05 09:42:52,119 Line:5853 50:0.0
 [DEBUG] 2018-01-05 09:42:52,119 Line:5853 51:25.0
 [DEBUG] 2018-01-05 09:42:52,119 Line:5853 52:
 [DEBUG] 2018-01-05 09:42:52,119 Line:5853 53:
 [DEBUG] 2018-01-05 09:42:52,119 Line:5853 54:0.0
 [DEBUG] 2018-01-05 09:42:52,119 Line:5853 55:0.0
 [DEBUG] 2018-01-05 09:42:52,119 Line:5853 56:0.0
 [DEBUG] 2018-01-05 09:42:52,120 Line:5853 57:0
 [DEBUG] 2018-01-05 09:42:52,120 Line:5853 58:00001
 [DEBUG] 2018-01-05 09:42:52,120 Line:5853 59:0
 [DEBUG] 2018-01-05 09:42:52,120 Line:5853 60:2018-01-05 09:42:52
 [DEBUG] 2018-01-05 09:42:52,120 Line:5853 61:1
 [DEBUG] 2018-01-05 09:42:52,120 Line:5853 62:2018-01-05 09:42:52
 [DEBUG] 2018-01-05 09:42:52,120 Line:5853 63:1
 [DEBUG] 2018-01-05 09:42:52,121 Line:5853 64:2018-01-05 09:42:52
 [DEBUG] 2018-01-05 09:42:52,122 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:42:52,122 Line:5853 1:3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,122 Line:5853 2:3e5b9b0b_1801050942521210014
 [DEBUG] 2018-01-05 09:42:52,122 Line:5853 3:
 [DEBUG] 2018-01-05 09:42:52,122 Line:5853 4:
 [DEBUG] 2018-01-05 09:42:52,122 Line:5853 5:
 [DEBUG] 2018-01-05 09:42:52,123 Line:5853 6:
 [DEBUG] 2018-01-05 09:42:52,123 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 09:42:52,123 Line:5853 8:
 [DEBUG] 2018-01-05 09:42:52,123 Line:5853 9:
 [DEBUG] 2018-01-05 09:42:52,123 Line:5853 10:
 [DEBUG] 2018-01-05 09:42:52,123 Line:5853 11:
 [DEBUG] 2018-01-05 09:42:52,123 Line:5853 12:
 [DEBUG] 2018-01-05 09:42:52,124 Line:5853 13:
 [DEBUG] 2018-01-05 09:42:52,124 Line:5853 14:
 [DEBUG] 2018-01-05 09:42:52,124 Line:5853 15:1.0
 [DEBUG] 2018-01-05 09:42:52,124 Line:5853 16:25.0
 [DEBUG] 2018-01-05 09:42:52,124 Line:5853 17:25.0
 [DEBUG] 2018-01-05 09:42:52,124 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:42:52,124 Line:5853 19:0
 [DEBUG] 2018-01-05 09:42:52,125 Line:5853 20:0.0
 [DEBUG] 2018-01-05 09:42:52,125 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:42:52,125 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:42:52,125 Line:5853 23:100.0
 [DEBUG] 2018-01-05 09:42:52,125 Line:5853 24:25.0
 [DEBUG] 2018-01-05 09:42:52,125 Line:5853 25:25.0
 [DEBUG] 2018-01-05 09:42:52,126 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:42:52,126 Line:5853 27:25.0
 [DEBUG] 2018-01-05 09:42:52,126 Line:5853 28:25.0
 [DEBUG] 2018-01-05 09:42:52,126 Line:5853 29:0.0
 [DEBUG] 2018-01-05 09:42:52,126 Line:5853 30:25.0
 [DEBUG] 2018-01-05 09:42:52,126 Line:5853 31:25.0
 [DEBUG] 2018-01-05 09:42:52,126 Line:5853 32:0.0
 [DEBUG] 2018-01-05 09:42:52,127 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:42:52,127 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:42:52,127 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:42:52,127 Line:5853 36:0.0
 [DEBUG] 2018-01-05 09:42:52,127 Line:5853 37:
 [DEBUG] 2018-01-05 09:42:52,127 Line:5853 38:0.0
 [DEBUG] 2018-01-05 09:42:52,127 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:42:52,128 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:42:52,128 Line:5853 41:0.0
 [DEBUG] 2018-01-05 09:42:52,128 Line:5853 42:0.0
 [DEBUG] 2018-01-05 09:42:52,128 Line:5853 43:0.0
 [DEBUG] 2018-01-05 09:42:52,128 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:42:52,128 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:42:52,129 Line:5853 46:0.0
 [DEBUG] 2018-01-05 09:42:52,129 Line:5853 47:0
 [DEBUG] 2018-01-05 09:42:52,129 Line:5853 48:0.0
 [DEBUG] 2018-01-05 09:42:52,129 Line:5853 49:0.0
 [DEBUG] 2018-01-05 09:42:52,129 Line:5853 50:0
 [DEBUG] 2018-01-05 09:42:52,129 Line:5853 51:
 [DEBUG] 2018-01-05 09:42:52,130 Line:5853 52:0.0
 [DEBUG] 2018-01-05 09:42:52,130 Line:5853 53:0.0
 [DEBUG] 2018-01-05 09:42:52,130 Line:5853 54:0.0
 [DEBUG] 2018-01-05 09:42:52,130 Line:5853 55:0
 [DEBUG] 2018-01-05 09:42:52,130 Line:5853 56:0
 [DEBUG] 2018-01-05 09:42:52,130 Line:5853 57:
 [DEBUG] 2018-01-05 09:42:52,130 Line:5853 58:0.0
 [DEBUG] 2018-01-05 09:42:52,131 Line:5853 59:0.0
 [DEBUG] 2018-01-05 09:42:52,131 Line:5853 60:
 [DEBUG] 2018-01-05 09:42:52,131 Line:5853 61:0.0
 [DEBUG] 2018-01-05 09:42:52,131 Line:5853 62:00001
 [DEBUG] 2018-01-05 09:42:52,131 Line:313 exeCondition:tblBuyInStock_Add :25 < 0
 [DEBUG] 2018-01-05 09:42:52,132 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,132 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 09:42:52,134 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,136 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 09:42:52,137 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,137 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 09:42:52,138 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,138 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:42:52,139 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,139 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:42:52,139 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,140 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:42:52,140 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,141 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 09:42:52,141 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,142 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,142 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 09:42:52,142 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,143 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:42:52,143 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,143 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:42:52,144 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,144 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,144 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:42:52,145 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:52,145 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:42:52,145 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,146 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:42:52,146 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,146 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,146 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:42:52,147 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,147 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:42:52,148 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,148 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 09:42:52,148 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,149 Line:988 1值：false
 [DEBUG] 2018-01-05 09:42:52,149 Line:988 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,150 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 09:42:52,150 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:52,150 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 09:42:52,152 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,152 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 09:42:52,152 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,152 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,153 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,153 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:52,154 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,154 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:42:52,155 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,155 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,156 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:52,156 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:52,157 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,157 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:42:52,158 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,158 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,159 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:52,160 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:52,161 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,161 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 09:42:52,161 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,161 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,162 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,162 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:42:52,163 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,164 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:42:52,164 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,165 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 09:42:52,165 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,165 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,166 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,166 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:52,167 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,167 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 09:42:52,168 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,168 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 09:42:52,169 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,170 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,171 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:42:52,171 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:52,172 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,172 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 09:42:52,172 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,172 Line:988 1值：25
 [DEBUG] 2018-01-05 09:42:52,172 Line:988 2值：0
 [DEBUG] 2018-01-05 09:42:52,173 Line:988 3值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,174 Line:1025 query condition columnName:SumDetAmt----value:25.0
 [DEBUG] 2018-01-05 09:42:52,174 Line:1025 query condition columnName:sumMainAmt----value:25.0
 [DEBUG] 2018-01-05 09:42:52,174 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:52,174 Line:313 exeCondition:tblBuyInStock_Add :25.0!=25.0
 [DEBUG] 2018-01-05 09:42:52,175 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,175 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 09:42:52,175 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,175 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,176 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,176 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:52,177 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,178 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 09:42:52,178 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,178 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,179 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,179 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:42:52,180 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,180 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 09:42:52,180 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,180 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,181 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,181 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 09:42:52,182 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,182 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 09:42:52,182 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,182 Line:988 1值：
 [DEBUG] 2018-01-05 09:42:52,182 Line:988 2值：00001
 [DEBUG] 2018-01-05 09:42:52,183 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,183 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 09:42:52,183 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,183 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,184 Line:988 2值：
 [DEBUG] 2018-01-05 09:42:52,184 Line:988 3值：
 [DEBUG] 2018-01-05 09:42:52,184 Line:988 4值：
 [DEBUG] 2018-01-05 09:42:52,184 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,185 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 09:42:52,186 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,186 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:42:52,186 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,187 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 09:42:52,187 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,188 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 09:42:52,188 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,188 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:42:52,189 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,190 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 09:42:52,190 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:42:52,190 Line:1157 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,191 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:52,191 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 09:42:52,191 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:42:52,191 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:42:52,191 Line:1157 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,192 Line:1157 3值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,192 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:52,192 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 09:42:52,192 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:42:52,193 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,193 Line:1157 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,193 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:52,193 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 09:42:52,194 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 09:42:52,194 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,194 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:52,194 Line:229 ************上述语句执行时间：0
 [DEBUG] 2018-01-05 09:42:52,195 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 09:42:52,195 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,195 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:52,195 Line:229 ************上述语句执行时间：0
 [DEBUG] 2018-01-05 09:42:52,196 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 09:42:52,196 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,197 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 09:42:52,197 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,197 Line:1157 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,198 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:42:52,198 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 09:42:52,198 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 09:42:52,199 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,199 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 09:42:52,200 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,200 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 09:42:52,200 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,200 Line:1270 add
 [DEBUG] 2018-01-05 09:42:52,201 Line:425 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 09:42:52,201 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 09:42:52,202 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,202 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:42:52,203 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,203 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:42:52,203 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 09:42:52,203 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:42:52,204 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,204 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:42:52,204 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 09:42:52,205 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:42:52,205 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,206 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:42:52,206 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,206 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 09:42:52,207 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,209 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 09:42:52,210 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,210 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:42:52,211 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,211 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:42:52,212 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,212 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:42:52,212 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,213 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 09:42:52,213 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,213 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:42:52,214 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,214 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 09:42:52,215 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,215 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 09:42:52,215 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 09:42:52,215 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:42:52,216 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,216 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 09:42:52,216 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,217 Line:1270 add
 [DEBUG] 2018-01-05 09:42:52,218 Line:425 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 09:42:52,218 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 09:42:52,219 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,219 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 09:42:52,220 Line:1270 1
 [DEBUG] 2018-01-05 09:42:52,220 Line:1270 2018
 [DEBUG] 2018-01-05 09:42:52,220 Line:1270 1
 [DEBUG] 2018-01-05 09:42:52,220 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 09:42:52,220 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 09:42:52,220 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,221 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 09:42:52,221 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:42:52,221 Line:1270 BI1801050004
 [DEBUG] 2018-01-05 09:42:52,221 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:42:52,221 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:42:52,221 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 09:42:52,222 Line:1270 1
 [DEBUG] 2018-01-05 09:42:52,222 Line:1270 1
 [DEBUG] 2018-01-05 09:42:52,222 Line:1270 2018-01-05 09:42:52
 [DEBUG] 2018-01-05 09:42:52,222 Line:1270 2018-01-05 09:42:52
 [DEBUG] 2018-01-05 09:42:52,222 Line:1270 00001
 [DEBUG] 2018-01-05 09:42:52,222 Line:1270 
 [DEBUG] 2018-01-05 09:42:52,223 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 09:42:52,223 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:42:52,223 Line:1270 00003
 [DEBUG] 2018-01-05 09:42:52,224 Line:1270 1
 [DEBUG] 2018-01-05 09:42:52,224 Line:1270 00101
 [DEBUG] 2018-01-05 09:42:52,224 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 09:42:52,224 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 09:42:52,224 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:42:52,225 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 09:42:52,225 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 09:42:52,225 Line:1270 0
 [DEBUG] 2018-01-05 09:42:52,225 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 09:42:52,225 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 09:42:52,225 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 09:42:52,225 Line:1270 f_ref='3e5b9b0b_1801050942521060013'
 [DEBUG] 2018-01-05 09:42:52,231 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'3e5b9b0b_1801050942521060013','2018-01-05','BI1801050004','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 09:42:52','2018-01-05 09:42:52','00001' from tblBuyInStockDet where f_ref='3e5b9b0b_1801050942521060013' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:42:52,231 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 09:42:52,232 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:42:52,232 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:42:52,232 Line:425 ************上述语句执行时间：13
 [DEBUG] 2018-01-05 09:42:52,232 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 09:42:52,233 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,233 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:42:52,234 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,235 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 09:42:52,236 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,236 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,237 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 09:42:52,237 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,238 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 09:42:52,238 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,238 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 09:42:52,239 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,239 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 09:42:52,239 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,239 Line:988 1值：25
 [DEBUG] 2018-01-05 09:42:52,240 Line:988 2值：0
 [DEBUG] 2018-01-05 09:42:52,240 Line:988 3值：25
 [DEBUG] 2018-01-05 09:42:52,240 Line:988 4值：0
 [DEBUG] 2018-01-05 09:42:52,240 Line:988 5值：0
 [DEBUG] 2018-01-05 09:42:52,240 Line:988 6值：1
 [DEBUG] 2018-01-05 09:42:52,241 Line:1023 query condition columnName:RNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 09:42:52,241 Line:1023 query condition columnName:CRNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 09:42:52,241 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 09:42:52,241 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:52,241 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 09:42:52,242 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,243 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 09:42:52,244 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 09:42:52,245 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:52,245 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:52,246 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:52,247 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:52,247 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:52,248 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:52,248 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:42:52,249 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 09:42:52,257 Line:434 ************上述语句执行时间：15
 [DEBUG] 2018-01-05 09:42:52,257 Line:313 exeCondition:tblBuyInStock_Add_One :25>0
 [DEBUG] 2018-01-05 09:42:52,258 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,258 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 09:42:52,258 Line:1270 13e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,259 Line:1270 00003
 [DEBUG] 2018-01-05 09:42:52,259 Line:1270 1
 [DEBUG] 2018-01-05 09:42:52,259 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:42:52,259 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=25@SPFieldLink:RelationDocID=3e5b9b0b_1801050942521060013@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=25@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 09:42:52@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 09:42:52@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050004@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 09:42:52,262 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('13e5b9b0b_1801050942521060013',23,'00003','2018-01-05','1','2018','1','0','25','3e5b9b0b_1801050942521060013','','1','0','25','1','2018-01-05 09:42:52','1','2018-01-05 09:42:52','00001','tblBuyInStock','BI1801050004','1','00101','0','')
 [DEBUG] 2018-01-05 09:42:52,262 Line:425 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:42:52,262 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 25>0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:42:52,263 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,263 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:42:52,264 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,264 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 09:42:52,265 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,265 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&25.00000000>=0
 [DEBUG] 2018-01-05 09:42:52,266 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,266 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 09:42:52,267 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,267 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 09:42:52,268 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,268 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 09:42:52,268 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,268 Line:988 1值：25
 [DEBUG] 2018-01-05 09:42:52,268 Line:988 2值：0
 [DEBUG] 2018-01-05 09:42:52,269 Line:988 3值：25
 [DEBUG] 2018-01-05 09:42:52,269 Line:988 4值：0
 [DEBUG] 2018-01-05 09:42:52,269 Line:988 5值：0
 [DEBUG] 2018-01-05 09:42:52,269 Line:988 6值：0
 [DEBUG] 2018-01-05 09:42:52,270 Line:1023 query condition columnName:RNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 09:42:52,270 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 09:42:52,270 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 09:42:52,270 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:42:52,271 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:42:52,271 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,271 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:42:52,272 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,272 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:42:52,273 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,273 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:42:52,274 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:52,274 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:42:52,275 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,275 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 09:42:52,276 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,276 Line:1270 add
 [DEBUG] 2018-01-05 09:42:52,277 Line:425 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 09:42:52,278 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2018-01-05 09:42:52,278 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,279 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2018-01-05 09:42:52,279 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2018-01-05 09:42:52,280 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2018-01-05 09:42:52,280 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2018-01-05 09:42:52,281 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2018-01-05 09:42:52,281 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2018-01-05 09:42:52,281 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:42:52,281 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select TotalAmount from tblBuyInStock where id = ? 
 [DEBUG] 2018-01-05 09:42:52,281 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:42:52,281 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:42:52,282 Line:1023 query condition columnName:TotalAmount----value:25.00000000
 [DEBUG] 2018-01-05 09:42:52,282 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:42:52,282 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:42:52,283 Line:321 flag:true
 [DEBUG] 2018-01-05 09:42:52,283 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 09:42:52,301 Line:86 HiveServlet:---->{"state": 1,"reason":  "成功??","count":"25"}
 [DEBUG] 2018-01-05 09:42:52,301 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 09:42:52,302 Line:443 ************上述语句执行时间：19
 [DEBUG] 2018-01-05 09:42:52,302 Line:313 exeCondition:tblBuyInStock_Add : '25.00000000' == '25' 
 [DEBUG] 2018-01-05 09:42:52,303 Line:321 flag:false
 [DEBUG] 2018-01-05 09:42:53,784 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=3e5b9b0b_1801050942521060013&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 09:42:53,785 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[3e5b9b0b_1801050942521060013,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 09:42:53,786 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='3e5b9b0b_1801050942521060013' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-05 09:42:53,840 Line:1525  select * from  tblBuyInStockDet where f_ref = '3e5b9b0b_1801050942521060013' order by detOrderNo
 [DEBUG] 2018-01-05 09:42:53,842 Line:1525  select * from  tblBuyPayAccount where f_ref = '3e5b9b0b_1801050942521060013' order by detOrderNo
 [DEBUG] 2018-01-05 09:43:25,937 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=15881B5F72127E14049DD6DED071EF83085009930BBD9310CD721D5437AEAEA888950A25AEEB154A5091C99C89B8E7AA0A1BB597E5395919
 [ERROR] 2018-01-05 09:43:25,984 Line:119 ------保存成功
 [DEBUG] 2018-01-05 09:43:30,138 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 09:43:30,140 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[3e5b9b0b_1801050942521060013,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[3e5b9b0b_1801050942521060013,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[25,];InvoiceStatus=[0,];NeedPayAmt=[25,];BillNo=[BI1801050004,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];InvoiceAmount=[0,];NoInvoiceAmount=[25,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[25,];TotalTaxAmount=[25,];TotalCoTaxAmt=[0,];CurTotalAmount=[25,];CertificateNo=[03e5b9b0b_1801050942521060013,];AfterChangeAmt=[25,];CurAfterChangeAmt=[25,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2018-01-05 09:42:52,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-05 09:42:52,];createBy=[1,];createTime=[2018-01-05 09:42:52,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[25,];tblBuyInStockDet_Amount=[25,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[25,];tblBuyInStockDet_DisBackAmt=[25,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[25,];tblBuyInStockDet_TaxAmount=[25,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[25,];tblBuyInStockDet_CurAmount=[25,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[3e5b9b0b_1801050942521210014,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 09:43:30,262 Line:1525  select * from  tblBuyInStockDet where f_ref = '3e5b9b0b_1801050942521060013' order by detOrderNo
 [DEBUG] 2018-01-05 09:43:30,269 Line:1525  select * from  tblBuyPayAccount where f_ref = '3e5b9b0b_1801050942521060013' order by detOrderNo
 [DEBUG] 2018-01-05 09:43:30,290 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,301 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2018-01-05 09:43:30,302 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,303 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:30,303 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,303 Line:1270 delete
 [DEBUG] 2018-01-05 09:43:30,375 Line:425 ************上述语句执行时间：72
 [DEBUG] 2018-01-05 09:43:30,375 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2018-01-05 09:43:30,376 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,376 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2018-01-05 09:43:30,377 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,377 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2018-01-05 09:43:30,378 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,384 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2018-01-05 09:43:30,384 Line:408 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 09:43:30,384 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2018-01-05 09:43:30,385 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,386 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2018-01-05 09:43:30,387 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,387 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2018-01-05 09:43:30,387 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,387 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,397 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 09:43:30,397 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,398 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,398 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2018-01-05 09:43:30,398 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,399 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,401 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:43:30,401 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,402 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,402 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2018-01-05 09:43:30,402 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,402 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,410 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 09:43:30,410 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,411 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,411 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2018-01-05 09:43:30,412 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,412 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,418 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 09:43:30,418 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,419 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,419 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2018-01-05 09:43:30,419 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,419 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,422 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:43:30,423 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,423 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,423 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2018-01-05 09:43:30,424 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,424 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,428 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:43:30,428 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,429 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,430 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2018-01-05 09:43:30,430 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,430 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,439 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 09:43:30,440 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,441 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,443 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2018-01-05 09:43:30,443 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,444 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,449 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 09:43:30,449 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,450 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,450 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2018-01-05 09:43:30,451 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,451 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,457 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 09:43:30,457 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,458 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,458 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2018-01-05 09:43:30,458 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,459 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,461 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:43:30,462 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,463 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,463 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2018-01-05 09:43:30,463 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,463 Line:988 1值：0
 [DEBUG] 2018-01-05 09:43:30,463 Line:988 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,465 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:43:30,466 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,466 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,467 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2018-01-05 09:43:30,467 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,467 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,468 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2018-01-05 09:43:30,469 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2018-01-05 09:43:30,469 Line:1023 query condition columnName:NeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 09:43:30,469 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2018-01-05 09:43:30,469 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2018-01-05 09:43:30,469 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:43:30,469 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2018-01-05 09:43:30,470 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,470 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2018-01-05 09:43:30,471 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,471 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:30,471 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,471 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 09:43:30,472 Line:1270 1
 [DEBUG] 2018-01-05 09:43:30,593 Line:425 ************上述语句执行时间：122
 [DEBUG] 2018-01-05 09:43:30,593 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2018-01-05 09:43:30,594 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,594 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2018-01-05 09:43:30,594 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,595 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:30,595 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,595 Line:1270 delete
 [DEBUG] 2018-01-05 09:43:30,639 Line:425 ************上述语句执行时间：44
 [DEBUG] 2018-01-05 09:43:30,640 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2018-01-05 09:43:30,640 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,641 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:30,641 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='3e5b9b0b_1801050942521060013'
 [DEBUG] 2018-01-05 09:43:30,641 Line:1270 proc_deleteComIni
 [DEBUG] 2018-01-05 09:43:30,641 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2018-01-05 09:43:30,702 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='3e5b9b0b_1801050942521060013'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2018-01-05 09:43:30,702 Line:425 ************上述语句执行时间：61
 [DEBUG] 2018-01-05 09:43:30,703 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2018-01-05 09:43:30,704 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,705 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:30,705 Line:1270 0
 [DEBUG] 2018-01-05 09:43:30,706 Line:1270 update
 [DEBUG] 2018-01-05 09:43:30,706 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,810 Line:1292 存储过程内部信息： 2
 [DEBUG] 2018-01-05 09:43:30,810 Line:1292 存储过程内部信息： 2
 [DEBUG] 2018-01-05 09:43:30,812 Line:425 ************上述语句执行时间：107
 [DEBUG] 2018-01-05 09:43:30,812 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2018-01-05 09:43:30,814 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,815 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2018-01-05 09:43:30,815 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,820 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2018-01-05 09:43:30,821 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 09:43:30,821 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2018-01-05 09:43:30,823 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,823 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2018-01-05 09:43:30,825 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,826 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:30,827 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,827 Line:1270 delete
 [DEBUG] 2018-01-05 09:43:30,849 Line:425 ************上述语句执行时间：23
 [DEBUG] 2018-01-05 09:43:30,854 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2018-01-05 09:43:30,854 Line:5993 1:25.0
 [DEBUG] 2018-01-05 09:43:30,855 Line:5993 2:BI1801050004
 [DEBUG] 2018-01-05 09:43:30,855 Line:5993 3:2018-01-05
 [DEBUG] 2018-01-05 09:43:30,855 Line:5993 4:00003
 [DEBUG] 2018-01-05 09:43:30,855 Line:5993 5:00101
 [DEBUG] 2018-01-05 09:43:30,856 Line:5993 6:1
 [DEBUG] 2018-01-05 09:43:30,856 Line:5993 7:00001
 [DEBUG] 2018-01-05 09:43:30,856 Line:5993 8:3
 [DEBUG] 2018-01-05 09:43:30,856 Line:5993 9:0.0
 [DEBUG] 2018-01-05 09:43:30,857 Line:5993 10:0.0
 [DEBUG] 2018-01-05 09:43:30,857 Line:5993 11:0.0
 [DEBUG] 2018-01-05 09:43:30,858 Line:5993 12:0.0
 [DEBUG] 2018-01-05 09:43:30,858 Line:5993 13:0.0
 [DEBUG] 2018-01-05 09:43:30,859 Line:5993 14:
 [DEBUG] 2018-01-05 09:43:30,860 Line:5993 15:0.0
 [DEBUG] 2018-01-05 09:43:30,860 Line:5993 16:0.0
 [DEBUG] 2018-01-05 09:43:30,861 Line:5993 17:0.0
 [DEBUG] 2018-01-05 09:43:30,861 Line:5993 18:1
 [DEBUG] 2018-01-05 09:43:30,861 Line:5993 19:1
 [DEBUG] 2018-01-05 09:43:30,861 Line:5993 20:2018
 [DEBUG] 2018-01-05 09:43:30,861 Line:5993 21:
 [DEBUG] 2018-01-05 09:43:30,861 Line:5993 22:0.0
 [DEBUG] 2018-01-05 09:43:30,862 Line:5993 23:0.0
 [DEBUG] 2018-01-05 09:43:30,862 Line:5993 24:0.0
 [DEBUG] 2018-01-05 09:43:30,862 Line:5993 25:100.0
 [DEBUG] 2018-01-05 09:43:30,862 Line:5993 26:0.0
 [DEBUG] 2018-01-05 09:43:30,862 Line:5993 27:0.0
 [DEBUG] 2018-01-05 09:43:30,862 Line:5993 28:
 [DEBUG] 2018-01-05 09:43:30,863 Line:5993 29:1.0
 [DEBUG] 2018-01-05 09:43:30,863 Line:5993 30:25.0
 [DEBUG] 2018-01-05 09:43:30,863 Line:5993 31:25.0
 [DEBUG] 2018-01-05 09:43:30,863 Line:5993 32:0.0
 [DEBUG] 2018-01-05 09:43:30,863 Line:5993 33:25.0
 [DEBUG] 2018-01-05 09:43:30,863 Line:5993 34:
 [DEBUG] 2018-01-05 09:43:30,864 Line:5993 35:03e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,864 Line:5993 36:25.0
 [DEBUG] 2018-01-05 09:43:30,864 Line:5993 37:25.0
 [DEBUG] 2018-01-05 09:43:30,864 Line:5993 38:1
 [DEBUG] 2018-01-05 09:43:30,864 Line:5993 39:2018-01-05 09:43:30
 [DEBUG] 2018-01-05 09:43:30,870 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2018-01-05 09:43:30,872 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 09:43:30,872 Line:5853 1:3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,872 Line:5853 2:3e5b9b0b_1801050943308720019
 [DEBUG] 2018-01-05 09:43:30,873 Line:5853 3:00001
 [DEBUG] 2018-01-05 09:43:30,873 Line:5853 4:
 [DEBUG] 2018-01-05 09:43:30,873 Line:5853 5:
 [DEBUG] 2018-01-05 09:43:30,873 Line:5853 6:
 [DEBUG] 2018-01-05 09:43:30,873 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 09:43:30,873 Line:5853 8:
 [DEBUG] 2018-01-05 09:43:30,873 Line:5853 9:
 [DEBUG] 2018-01-05 09:43:30,874 Line:5853 10:
 [DEBUG] 2018-01-05 09:43:30,874 Line:5853 11:
 [DEBUG] 2018-01-05 09:43:30,874 Line:5853 12:
 [DEBUG] 2018-01-05 09:43:30,874 Line:5853 13:
 [DEBUG] 2018-01-05 09:43:30,874 Line:5853 14:
 [DEBUG] 2018-01-05 09:43:30,874 Line:5853 15:1.0
 [DEBUG] 2018-01-05 09:43:30,874 Line:5853 16:25.0
 [DEBUG] 2018-01-05 09:43:30,875 Line:5853 17:25.0
 [DEBUG] 2018-01-05 09:43:30,875 Line:5853 18:0.0
 [DEBUG] 2018-01-05 09:43:30,875 Line:5853 19:0
 [DEBUG] 2018-01-05 09:43:30,875 Line:5853 20:0.0
 [DEBUG] 2018-01-05 09:43:30,875 Line:5853 21:0.0
 [DEBUG] 2018-01-05 09:43:30,875 Line:5853 22:0.0
 [DEBUG] 2018-01-05 09:43:30,875 Line:5853 23:100.0
 [DEBUG] 2018-01-05 09:43:30,875 Line:5853 24:25.0
 [DEBUG] 2018-01-05 09:43:30,876 Line:5853 25:25.0
 [DEBUG] 2018-01-05 09:43:30,876 Line:5853 26:0.0
 [DEBUG] 2018-01-05 09:43:30,876 Line:5853 27:25.0
 [DEBUG] 2018-01-05 09:43:30,876 Line:5853 28:25.0
 [DEBUG] 2018-01-05 09:43:30,876 Line:5853 29:0.0
 [DEBUG] 2018-01-05 09:43:30,876 Line:5853 30:25.0
 [DEBUG] 2018-01-05 09:43:30,876 Line:5853 31:25.0
 [DEBUG] 2018-01-05 09:43:30,877 Line:5853 32:0.0
 [DEBUG] 2018-01-05 09:43:30,877 Line:5853 33:0.0
 [DEBUG] 2018-01-05 09:43:30,877 Line:5853 34:0.0
 [DEBUG] 2018-01-05 09:43:30,877 Line:5853 35:0.0
 [DEBUG] 2018-01-05 09:43:30,877 Line:5853 36:0.0
 [DEBUG] 2018-01-05 09:43:30,877 Line:5853 37:
 [DEBUG] 2018-01-05 09:43:30,877 Line:5853 38:0.0
 [DEBUG] 2018-01-05 09:43:30,878 Line:5853 39:0.0
 [DEBUG] 2018-01-05 09:43:30,878 Line:5853 40:0.0
 [DEBUG] 2018-01-05 09:43:30,878 Line:5853 41:0.0
 [DEBUG] 2018-01-05 09:43:30,878 Line:5853 42:0.0
 [DEBUG] 2018-01-05 09:43:30,878 Line:5853 43:0.0
 [DEBUG] 2018-01-05 09:43:30,878 Line:5853 44:0.0
 [DEBUG] 2018-01-05 09:43:30,878 Line:5853 45:0.0
 [DEBUG] 2018-01-05 09:43:30,878 Line:5853 46:0.0
 [DEBUG] 2018-01-05 09:43:30,879 Line:5853 47:0
 [DEBUG] 2018-01-05 09:43:30,879 Line:5853 48:0.0
 [DEBUG] 2018-01-05 09:43:30,879 Line:5853 49:0.0
 [DEBUG] 2018-01-05 09:43:30,879 Line:5853 50:
 [DEBUG] 2018-01-05 09:43:30,879 Line:5853 51:0.0
 [DEBUG] 2018-01-05 09:43:30,879 Line:5853 52:1.0
 [DEBUG] 2018-01-05 09:43:30,879 Line:5853 53:0.0
 [DEBUG] 2018-01-05 09:43:30,880 Line:5853 54:0
 [DEBUG] 2018-01-05 09:43:30,880 Line:5853 55:0
 [DEBUG] 2018-01-05 09:43:30,880 Line:5853 56:
 [DEBUG] 2018-01-05 09:43:30,880 Line:5853 57:0.0
 [DEBUG] 2018-01-05 09:43:30,880 Line:5853 58:0.0
 [DEBUG] 2018-01-05 09:43:30,880 Line:5853 59:
 [DEBUG] 2018-01-05 09:43:30,880 Line:5853 60:0.0
 [DEBUG] 2018-01-05 09:43:30,881 Line:5853 61:00001
 [DEBUG] 2018-01-05 09:43:30,884 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2018-01-05 09:43:30,886 Line:313 exeCondition:tblBuyInStock_Add :25 < 0
 [DEBUG] 2018-01-05 09:43:30,887 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,887 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 09:43:30,888 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,888 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 09:43:30,889 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,889 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 09:43:30,890 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,890 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:43:30,891 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,891 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 09:43:30,891 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,891 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:43:30,892 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,893 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 09:43:30,893 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,893 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,894 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 09:43:30,896 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:43:30,896 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,897 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,897 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:43:30,897 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,897 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,898 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:43:30,901 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:43:30,902 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,902 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,903 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 09:43:30,903 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,903 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,903 Line:988 2值：00003
 [DEBUG] 2018-01-05 09:43:30,907 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:43:30,907 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,907 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,908 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 09:43:30,908 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,908 Line:988 1值：false
 [DEBUG] 2018-01-05 09:43:30,908 Line:988 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,913 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 09:43:30,913 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:43:30,913 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 09:43:30,915 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,915 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 09:43:30,916 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,916 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,920 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:43:30,921 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:43:30,921 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,922 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:43:30,922 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,922 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,925 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:43:30,926 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:43:30,927 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,927 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 09:43:30,927 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,928 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,930 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:43:30,930 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:43:30,931 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,931 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 09:43:30,932 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,932 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,936 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:43:30,936 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:43:30,937 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,937 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 09:43:30,937 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,938 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 09:43:30,938 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,938 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,942 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:43:30,942 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:43:30,943 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,943 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 09:43:30,943 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,944 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 09:43:30,944 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,944 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,946 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:43:30,946 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:43:30,947 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,947 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 09:43:30,948 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,948 Line:988 1值：25
 [DEBUG] 2018-01-05 09:43:30,948 Line:988 2值：0
 [DEBUG] 2018-01-05 09:43:30,948 Line:988 3值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,958 Line:1025 query condition columnName:SumDetAmt----value:25.0
 [DEBUG] 2018-01-05 09:43:30,958 Line:1025 query condition columnName:sumMainAmt----value:25.0
 [DEBUG] 2018-01-05 09:43:30,958 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 09:43:30,958 Line:313 exeCondition:tblBuyInStock_Add :25.0!=25.0
 [DEBUG] 2018-01-05 09:43:30,959 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,959 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 09:43:30,959 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,960 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,967 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 09:43:30,969 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:43:30,969 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,969 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 09:43:30,969 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,971 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,971 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:43:30,971 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 09:43:30,973 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,973 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 09:43:30,973 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,973 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,975 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:43:30,976 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 09:43:30,976 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,977 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 09:43:30,977 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,977 Line:988 1值：
 [DEBUG] 2018-01-05 09:43:30,979 Line:988 2值：00001
 [DEBUG] 2018-01-05 09:43:30,982 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 09:43:30,983 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 09:43:30,983 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:30,983 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,983 Line:988 2值：
 [DEBUG] 2018-01-05 09:43:30,983 Line:988 3值：
 [DEBUG] 2018-01-05 09:43:30,984 Line:988 4值：
 [DEBUG] 2018-01-05 09:43:30,987 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 09:43:30,987 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 09:43:30,988 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,988 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 09:43:30,988 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,988 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 09:43:30,989 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,989 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 09:43:30,990 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:30,990 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:43:30,991 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:30,992 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 09:43:30,993 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:43:30,994 Line:1157 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,997 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:43:30,997 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 09:43:30,998 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:43:30,998 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 09:43:30,998 Line:1157 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:30,998 Line:1157 3值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,005 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:43:31,006 Line:229 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 09:43:31,006 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 09:43:31,006 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,006 Line:1157 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,012 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:43:31,012 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 09:43:31,012 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 09:43:31,013 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,016 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:43:31,016 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 09:43:31,016 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 09:43:31,017 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,021 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:43:31,022 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 09:43:31,022 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 09:43:31,023 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,023 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 09:43:31,023 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,024 Line:1157 2值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,027 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 09:43:31,028 Line:408 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 09:43:31,028 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 09:43:31,029 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,029 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 09:43:31,030 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,030 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:31,030 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,030 Line:1270 add
 [DEBUG] 2018-01-05 09:43:31,031 Line:425 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 09:43:31,032 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 09:43:31,032 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,033 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:43:31,033 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,046 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:43:31,046 Line:408 ************上述语句执行时间：13
 [DEBUG] 2018-01-05 09:43:31,047 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 09:43:31,047 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,059 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 09:43:31,059 Line:408 ************上述语句执行时间：12
 [DEBUG] 2018-01-05 09:43:31,059 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:43:31,060 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,060 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 09:43:31,061 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,061 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 09:43:31,062 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,073 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 09:43:31,074 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,075 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:43:31,075 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,075 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 09:43:31,076 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,076 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:43:31,076 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,077 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 09:43:31,077 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,077 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:43:31,078 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,078 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 09:43:31,079 Line:1157 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,081 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 09:43:31,081 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 09:43:31,081 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:43:31,082 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,082 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:31,082 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,082 Line:1270 add
 [DEBUG] 2018-01-05 09:43:31,084 Line:425 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 09:43:31,084 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 09:43:31,085 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,085 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 09:43:31,085 Line:1270 1
 [DEBUG] 2018-01-05 09:43:31,085 Line:1270 2018
 [DEBUG] 2018-01-05 09:43:31,086 Line:1270 1
 [DEBUG] 2018-01-05 09:43:31,086 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 09:43:31,086 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 09:43:31,086 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,086 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 09:43:31,086 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:43:31,086 Line:1270 BI1801050004
 [DEBUG] 2018-01-05 09:43:31,087 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:43:31,087 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:43:31,087 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 09:43:31,087 Line:1270 1
 [DEBUG] 2018-01-05 09:43:31,087 Line:1270 1
 [DEBUG] 2018-01-05 09:43:31,087 Line:1270 2018-01-05 09:42:52
 [DEBUG] 2018-01-05 09:43:31,088 Line:1270 2018-01-05 09:43:30
 [DEBUG] 2018-01-05 09:43:31,088 Line:1270 00001
 [DEBUG] 2018-01-05 09:43:31,088 Line:1270 
 [DEBUG] 2018-01-05 09:43:31,088 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 09:43:31,088 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:43:31,089 Line:1270 00003
 [DEBUG] 2018-01-05 09:43:31,089 Line:1270 1
 [DEBUG] 2018-01-05 09:43:31,089 Line:1270 00101
 [DEBUG] 2018-01-05 09:43:31,089 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 09:43:31,089 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 09:43:31,089 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 09:43:31,090 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 09:43:31,090 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 09:43:31,090 Line:1270 0
 [DEBUG] 2018-01-05 09:43:31,090 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 09:43:31,090 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 09:43:31,090 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 09:43:31,091 Line:1270 f_ref='3e5b9b0b_1801050942521060013'
 [DEBUG] 2018-01-05 09:43:31,212 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'3e5b9b0b_1801050942521060013','2018-01-05','BI1801050004','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 09:42:52','2018-01-05 09:43:30','00001' from tblBuyInStockDet where f_ref='3e5b9b0b_1801050942521060013' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 09:43:31,212 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 09:43:31,212 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:43:31,212 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 09:43:31,213 Line:425 ************上述语句执行时间：128
 [DEBUG] 2018-01-05 09:43:31,213 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 09:43:31,214 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,214 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:43:31,215 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,216 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 09:43:31,217 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:31,219 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:43:31,219 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 09:43:31,220 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,220 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 09:43:31,220 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,220 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2018-01-05 09:43:31,221 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,221 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:31,221 Line:1270 zh_CN
 [DEBUG] 2018-01-05 09:43:31,222 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,222 Line:1270 00001
 [DEBUG] 2018-01-05 09:43:31,222 Line:1270 1
 [DEBUG] 2018-01-05 09:43:31,362 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='3e5b9b0b_1801050942521060013') or goodPropHash in (select goodPropHash from tblStockDet where BillId='3e5b9b0b_1801050942521060013') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2018-01-05 09:43:31,362 Line:425 ************上述语句执行时间：141
 [DEBUG] 2018-01-05 09:43:31,363 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 09:43:31,363 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:31,363 Line:988 1值：25
 [DEBUG] 2018-01-05 09:43:31,363 Line:988 2值：0
 [DEBUG] 2018-01-05 09:43:31,363 Line:988 3值：25
 [DEBUG] 2018-01-05 09:43:31,363 Line:988 4值：0
 [DEBUG] 2018-01-05 09:43:31,363 Line:988 5值：0
 [DEBUG] 2018-01-05 09:43:31,364 Line:988 6值：1
 [DEBUG] 2018-01-05 09:43:31,365 Line:1023 query condition columnName:RNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 09:43:31,365 Line:1023 query condition columnName:CRNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 09:43:31,365 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 09:43:31,365 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:43:31,365 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 09:43:31,366 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,370 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 09:43:31,373 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 09:43:31,380 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:43:31,385 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:43:31,391 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:43:31,398 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:43:31,405 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:43:31,412 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:43:31,423 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 09:43:31,430 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 09:43:31,475 Line:434 ************上述语句执行时间：109
 [DEBUG] 2018-01-05 09:43:31,476 Line:313 exeCondition:tblBuyInStock_Add_One :25>0
 [DEBUG] 2018-01-05 09:43:31,477 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,478 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:31,478 Line:1270 13e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,478 Line:1270 00003
 [DEBUG] 2018-01-05 09:43:31,478 Line:1270 1
 [DEBUG] 2018-01-05 09:43:31,479 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 09:43:31,479 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=25@SPFieldLink:RelationDocID=3e5b9b0b_1801050942521060013@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=25@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 09:42:52@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 09:43:30@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050004@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 09:43:31,507 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('13e5b9b0b_1801050942521060013',23,'00003','2018-01-05','1','2018','1','0','25','3e5b9b0b_1801050942521060013','','1','0','25','1','2018-01-05 09:42:52','1','2018-01-05 09:43:30','00001','tblBuyInStock','BI1801050004','1','00101','0','')
 [DEBUG] 2018-01-05 09:43:31,507 Line:425 ************上述语句执行时间：29
 [DEBUG] 2018-01-05 09:43:31,508 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 25>0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:43:31,509 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,509 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 09:43:31,510 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,510 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 09:43:31,511 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,511 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&25.00000000>=0
 [DEBUG] 2018-01-05 09:43:31,512 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,512 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 09:43:31,513 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,514 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 09:43:31,515 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,516 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 09:43:31,516 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:31,516 Line:988 1值：25
 [DEBUG] 2018-01-05 09:43:31,516 Line:988 2值：0
 [DEBUG] 2018-01-05 09:43:31,517 Line:988 3值：25
 [DEBUG] 2018-01-05 09:43:31,517 Line:988 4值：0
 [DEBUG] 2018-01-05 09:43:31,517 Line:988 5值：0
 [DEBUG] 2018-01-05 09:43:31,517 Line:988 6值：0
 [DEBUG] 2018-01-05 09:43:31,518 Line:1023 query condition columnName:RNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 09:43:31,518 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 09:43:31,519 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 09:43:31,519 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 09:43:31,519 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:43:31,520 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,520 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 09:43:31,520 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,520 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:43:31,521 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,521 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 09:43:31,522 Line:321 flag:false
 [DEBUG] 2018-01-05 09:43:31,522 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 09:43:31,522 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,523 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 09:43:31,523 Line:1270 3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,523 Line:1270 add
 [DEBUG] 2018-01-05 09:43:31,525 Line:425 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 09:43:31,526 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2018-01-05 09:43:31,527 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:31,527 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2018-01-05 09:43:31,528 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2018-01-05 09:43:31,528 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2018-01-05 09:43:31,528 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2018-01-05 09:43:31,528 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2018-01-05 09:43:31,528 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2018-01-05 09:43:31,528 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 09:43:31,529 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select TotalAmount from tblBuyInStock where id = ? 
 [DEBUG] 2018-01-05 09:43:31,529 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 09:43:31,529 Line:988 1值：3e5b9b0b_1801050942521060013
 [DEBUG] 2018-01-05 09:43:31,530 Line:1023 query condition columnName:TotalAmount----value:25.00000000
 [DEBUG] 2018-01-05 09:43:31,530 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 09:43:31,531 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 09:43:31,531 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,531 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 09:43:31,547 Line:86 HiveServlet:---->{"state": 1,"reason":  "成功??","count":"25"}
 [DEBUG] 2018-01-05 09:43:31,547 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 09:43:31,548 Line:443 ************上述语句执行时间：17
 [DEBUG] 2018-01-05 09:43:31,548 Line:313 exeCondition:tblBuyInStock_Add : 25.00000000 == 25 
 [DEBUG] 2018-01-05 09:43:31,549 Line:321 flag:true
 [DEBUG] 2018-01-05 09:43:31,549 Line:372 ---error，返回信息：'1' ,'25' ,'成功??'url=
 [ERROR] 2018-01-05 09:43:31,550 Line:5205 DynDBManager after update defineSql Error code = -2102 Msg=[Ljava.lang.String;@7011cdb
 [DEBUG] 2018-01-05 10:08:35,490 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 10:38:56,083 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 11:09:16,740 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 11:31:41,335 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-05 11:31:41,336 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-05 11:31:41,423 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-05 11:31:41,423 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-05 11:31:41,567 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515123101553
 [DEBUG] 2018-01-05 11:31:41,568 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515123101553,];
 [DEBUG] 2018-01-05 11:31:43,160 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515123103159
 [DEBUG] 2018-01-05 11:31:43,161 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515123103159,];
 [DEBUG] 2018-01-05 11:31:43,165 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515123103164
 [DEBUG] 2018-01-05 11:31:43,165 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515123103164,];
 [DEBUG] 2018-01-05 11:31:43,174 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-05 11:31:43,174 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-05 11:31:43,229 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-05 11:31:43,239 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-05 11:31:43,319 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 11:31:43,320 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 11:31:43,320 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 11:31:43,518 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 11:31:43,519 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 11:31:43,536 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 11:31:43,537 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 11:31:43,538 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 11:31:43,548 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 11:31:43,548 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 11:31:43,549 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 11:31:43,556 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 11:31:43,556 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 11:31:43,557 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 11:31:43,564 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 11:31:43,564 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 11:31:43,565 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 11:31:48,446 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?src=menu&winCurIndex=1
 [DEBUG] 2018-01-05 11:31:48,447 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-05 11:31:48,447 Line:215 ---------->SET Page 1 DEFAULT URL = /OAMyWorkFlow.do
 [DEBUG] 2018-01-05 11:31:48,545 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-05 11:32:42,554 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2018-01-05 11:32:42,554 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];loginId=[,];type=[deliverToAll,];approveStatus=[transing,];empFullName=[,];deptFullName=[,];tableFullName=[,];addTHhead=[$addTHhead,];keyWord=[,];timeType=[,];beginTime=[,];endTime=[,];flowBelong=[all,];pageNo=[1,];pageSize=[100,];
 [DEBUG] 2018-01-05 11:32:42,588 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-05 11:33:00,929 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2018-01-05 11:33:00,929 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];loginId=[,];type=[deliverToAll,];approveStatus=[transing,];empFullName=[,];deptFullName=[,];tableFullName=[,];addTHhead=[$addTHhead,];keyWord=[,];timeType=[,];beginTime=[,];endTime=[,];flowBelong=[all,];pageNo=[1,];pageSize=[100,];
 [DEBUG] 2018-01-05 11:33:00,933 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-05 11:39:38,404 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 12:09:58,694 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 12:40:23,226 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 13:44:41,219 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 13:54:40,515 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2018-01-05 13:54:40,517 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2018-01-05 13:54:40,533 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2018-01-05 14:40:29,942 Line:206 系统开始启动，最大内存：1792;目前总内存：254;目前空闲内存：169
 [INFO ] 2018-01-05 14:40:30,193 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-05 14:40:37,808 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-05 14:40:38,085 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-05 14:40:38,102 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-05 14:40:38,105 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-05 14:40:38,107 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-05 14:40:38,116 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-05 14:40:38,125 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-05 14:40:39,242 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 14:40:39,271 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-05 14:40:39,306 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-05 14:40:39,320 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-05 14:40:41,140 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-05 14:40:41,140 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-05 14:40:42,306 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-05 14:40:42,484 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-05 14:40:44,189 Line:538 ------Init TableInfo record:639
 [DEBUG] 2018-01-05 14:40:44,240 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-05 14:40:44,251 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-05 14:40:44,274 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-05 14:40:44,301 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-05 14:40:44,313 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-05 14:40:44,376 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-05 14:40:48,414 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-05 14:40:48,735 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,737 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,741 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,743 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,747 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,749 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,752 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,754 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,756 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,758 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,820 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,851 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,886 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,956 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,959 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,962 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:48,965 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,001 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,005 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,007 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,010 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,014 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,017 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,053 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,106 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,109 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,113 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,115 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,117 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,119 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,149 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,151 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,154 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,219 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,252 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,299 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,302 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,304 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 14:40:49,333 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-05 14:40:49,352 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-05 14:40:49,413 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-05 14:40:50,109 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-05 14:40:50,109 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-05 14:40:52,667 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-06 00:00:00
 [INFO ] 2018-01-05 14:40:52,668 Line:137 SAFE 碎片任务启动，时间2018-01-07 00:00:00
 [DEBUG] 2018-01-05 14:41:50,362 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 14:42:53,350 Line:5242 GlobalsTool.js 生成js 时间52:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-05 14:42:53,429 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-05 14:42:53,431 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-05 14:42:53,708 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515134573689
 [DEBUG] 2018-01-05 14:42:53,719 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515134573689,];
 [DEBUG] 2018-01-05 14:42:53,808 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-05 14:42:53,809 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-05 14:42:55,269 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515134575266
 [DEBUG] 2018-01-05 14:42:55,269 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515134575266,];
 [DEBUG] 2018-01-05 14:42:55,393 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515134575391
 [DEBUG] 2018-01-05 14:42:55,393 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515134575391,];
 [DEBUG] 2018-01-05 14:42:55,485 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-05 14:42:55,485 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-05 14:42:55,560 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-05 14:42:55,578 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-05 14:42:55,718 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 14:42:55,718 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 14:42:55,726 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 14:42:56,001 Line:5242 GlobalsTool.js 生成js 时间41:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-05 14:42:56,270 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 14:42:56,270 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 14:42:56,271 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 14:42:56,271 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 14:42:56,272 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 14:42:56,289 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 14:42:56,290 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 14:42:56,291 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 14:42:56,304 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 14:42:56,304 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 14:42:56,305 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 14:42:56,315 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 14:42:56,315 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 14:42:56,316 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 14:42:58,683 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=1
 [DEBUG] 2018-01-05 14:42:58,684 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-05 14:42:58,685 Line:215 ---------->SET Page 1 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-05 14:42:59,569 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-05 14:42:59,569 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-05 14:43:00,558 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-05 14:43:00,559 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-05 14:43:00,559 Line:215 ---------->SET Page 2 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-05 14:43:06,364 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-05 14:43:06,365 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[2,];search=[采购入库单,];
 [DEBUG] 2018-01-05 14:43:16,725 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-05 14:43:16,726 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-05 14:43:16,989 Line:5242 GlobalsTool.js 生成js 时间15:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 14:43:18,242 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-05 14:43:18,243 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-05 14:43:19,535 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 14:43:24,317 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineOp
 [DEBUG] 2018-01-05 14:43:24,318 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineOp,];
 [DEBUG] 2018-01-05 14:43:36,473 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2018-01-05 14:43:36,474 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2018-01-05 14:43:36,556 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB439E7F948857D1420C98562ED3F03CD4
 [DEBUG] 2018-01-05 14:43:36,559 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2018-01-05 14:44:05,888 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB6DC12AA95D1AA3000A1BB597E5395919
 [ERROR] 2018-01-05 14:44:05,961 Line:119 ------保存成功
 [DEBUG] 2018-01-05 14:45:30,907 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2018-01-05 14:45:30,908 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2018-01-05 14:45:30,925 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB1A4AD8030E7454CB8AD219FA989EC390
 [DEBUG] 2018-01-05 14:45:30,926 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2018-01-05 14:46:43,798 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 14:46:43,799 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 14:46:43,802 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 14:46:43,959 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 14:46:43,959 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 14:46:43,971 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 14:46:43,971 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 14:46:43,972 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 14:46:43,987 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 14:46:43,987 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 14:46:43,988 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 14:46:43,996 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 14:46:43,997 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 14:46:43,997 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 14:46:44,003 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 14:46:44,004 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 14:46:44,005 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 14:46:46,087 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=1
 [DEBUG] 2018-01-05 14:46:46,088 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-05 14:46:46,088 Line:215 ---------->SET Page 1 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-05 14:46:47,068 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-05 14:46:47,069 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-05 14:46:48,488 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-05 14:46:48,488 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-05 14:46:48,489 Line:215 ---------->SET Page 2 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-05 14:46:52,516 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-05 14:46:52,516 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[2,];search=[采购入库,];
 [DEBUG] 2018-01-05 14:46:54,418 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93&popWinName=TablemgtDiv
 [DEBUG] 2018-01-05 14:46:54,418 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-05 14:46:54,612 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-05 14:46:54,613 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-05 14:46:55,279 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 14:47:02,028 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineOp
 [DEBUG] 2018-01-05 14:47:02,029 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineOp,];
 [DEBUG] 2018-01-05 14:47:14,190 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2018-01-05 14:47:14,190 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2018-01-05 14:47:14,208 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB1DD234EA9FF7B5A91A9149AA833C7396
 [DEBUG] 2018-01-05 14:47:14,209 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2018-01-05 15:12:12,910 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 15:14:25,283 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineOp
 [DEBUG] 2018-01-05 15:14:25,283 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineOp,];
 [DEBUG] 2018-01-05 15:14:26,792 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2018-01-05 15:14:26,792 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2018-01-05 15:14:26,811 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB9039373AEDA680600C98562ED3F03CD4
 [DEBUG] 2018-01-05 15:14:26,812 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2018-01-05 15:15:51,153 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2018-01-05 15:15:51,154 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2018-01-05 15:15:51,171 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB3E30EF4231CEA3205038F594B7A91F37
 [DEBUG] 2018-01-05 15:15:51,172 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2018-01-05 15:19:03,508 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB6FE3024CC2D60BB333A3E039F5C82ECB
 [ERROR] 2018-01-05 15:19:03,574 Line:119 ------保存成功
 [DEBUG] 2018-01-05 15:19:21,054 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB541573254407F3035038F594B7A91F37
 [ERROR] 2018-01-05 15:19:21,114 Line:119 ------保存成功
 [DEBUG] 2018-01-05 15:19:27,342 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=3
 [DEBUG] 2018-01-05 15:19:27,342 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-05 15:19:27,343 Line:215 ---------->SET Page 3 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-05 15:19:27,831 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-05 15:19:27,839 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-05 15:19:27,925 Line:689 通过SQL读原始数据：86
 [DEBUG] 2018-01-05 15:19:27,927 Line:1391 整理数据：2
 [DEBUG] 2018-01-05 15:19:28,245 Line:5242 GlobalsTool.js 生成js 时间74:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-05 15:19:28,338 Line:5242 GlobalsTool.js 生成js 时间93:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 15:19:30,255 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=3&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 15:19:30,257 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 15:19:31,620 Line:5242 GlobalsTool.js 生成js 时间1053:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 15:19:34,457 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 15:19:34,457 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 15:19:34,546 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 15:19:34,546 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 15:19:34,547 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 15:19:34,547 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 15:19:34,548 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-05 15:19:34,586 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-05'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 15:19:34,763 Line:5242 GlobalsTool.js 生成js 时间22:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2018-01-05 15:19:34,792 Line:5242 GlobalsTool.js 生成js 时间27:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 15:19:36,782 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 15:19:36,783 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 15:19:36,825 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 15:19:36,827 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 15:19:36,828 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 15:19:36,828 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-05 15:19:36,828 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 15:19:36,834 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 15:19:39,497 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-05 15:19:39,497 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-05 15:19:39,539 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 15:19:39,540 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-05 15:19:39,540 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 15:19:39,541 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 15:19:39,541 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-05 15:19:39,554 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 15:19:44,293 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 15:19:44,295 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050005,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 15:19:44,297 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 15:19:44,336 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 15:19:44,337 Line:5853 1:0.0
 [DEBUG] 2018-01-05 15:19:44,337 Line:5853 2:
 [DEBUG] 2018-01-05 15:19:44,337 Line:5853 3:e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,337 Line:5853 4:-1
 [DEBUG] 2018-01-05 15:19:44,337 Line:5853 5:finish
 [DEBUG] 2018-01-05 15:19:44,338 Line:5853 6:0.0
 [DEBUG] 2018-01-05 15:19:44,338 Line:5853 7:0
 [DEBUG] 2018-01-05 15:19:44,338 Line:5853 8:0.0
 [DEBUG] 2018-01-05 15:19:44,338 Line:5853 9:BI1801050005
 [DEBUG] 2018-01-05 15:19:44,338 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 15:19:44,339 Line:5853 11:00003
 [DEBUG] 2018-01-05 15:19:44,339 Line:5853 12:00101
 [DEBUG] 2018-01-05 15:19:44,339 Line:5853 13:1
 [DEBUG] 2018-01-05 15:19:44,339 Line:5853 14:00001
 [DEBUG] 2018-01-05 15:19:44,339 Line:5853 15:3
 [DEBUG] 2018-01-05 15:19:44,339 Line:5853 16:0.0
 [DEBUG] 2018-01-05 15:19:44,340 Line:5853 17:0.0
 [DEBUG] 2018-01-05 15:19:44,340 Line:5853 18:0.0
 [DEBUG] 2018-01-05 15:19:44,340 Line:5853 19:0.0
 [DEBUG] 2018-01-05 15:19:44,340 Line:5853 20:
 [DEBUG] 2018-01-05 15:19:44,340 Line:5853 21:0.0
 [DEBUG] 2018-01-05 15:19:44,340 Line:5853 22:0.0
 [DEBUG] 2018-01-05 15:19:44,341 Line:5853 23:0.0
 [DEBUG] 2018-01-05 15:19:44,341 Line:5853 24:
 [DEBUG] 2018-01-05 15:19:44,341 Line:5853 25:0.0
 [DEBUG] 2018-01-05 15:19:44,341 Line:5853 26:0.0
 [DEBUG] 2018-01-05 15:19:44,341 Line:5853 27:0.0
 [DEBUG] 2018-01-05 15:19:44,341 Line:5853 28:
 [DEBUG] 2018-01-05 15:19:44,342 Line:5853 29:1
 [DEBUG] 2018-01-05 15:19:44,342 Line:5853 30:1
 [DEBUG] 2018-01-05 15:19:44,342 Line:5853 31:2018
 [DEBUG] 2018-01-05 15:19:44,342 Line:5853 32:
 [DEBUG] 2018-01-05 15:19:44,342 Line:5853 33:0.0
 [DEBUG] 2018-01-05 15:19:44,343 Line:5853 34:0.0
 [DEBUG] 2018-01-05 15:19:44,343 Line:5853 35:0.0
 [DEBUG] 2018-01-05 15:19:44,343 Line:5853 36:
 [DEBUG] 2018-01-05 15:19:44,343 Line:5853 37:
 [DEBUG] 2018-01-05 15:19:44,343 Line:5853 38:
 [DEBUG] 2018-01-05 15:19:44,344 Line:5853 39:0.0
 [DEBUG] 2018-01-05 15:19:44,344 Line:5853 40:0.0
 [DEBUG] 2018-01-05 15:19:44,344 Line:5853 41:
 [DEBUG] 2018-01-05 15:19:44,344 Line:5853 42:
 [DEBUG] 2018-01-05 15:19:44,344 Line:5853 43:100.0
 [DEBUG] 2018-01-05 15:19:44,344 Line:5853 44:0.0
 [DEBUG] 2018-01-05 15:19:44,345 Line:5853 45:0.0
 [DEBUG] 2018-01-05 15:19:44,345 Line:5853 46:
 [DEBUG] 2018-01-05 15:19:44,345 Line:5853 47:1.0
 [DEBUG] 2018-01-05 15:19:44,345 Line:5853 48:1.0
 [DEBUG] 2018-01-05 15:19:44,345 Line:5853 49:1.0
 [DEBUG] 2018-01-05 15:19:44,345 Line:5853 50:0.0
 [DEBUG] 2018-01-05 15:19:44,346 Line:5853 51:1.0
 [DEBUG] 2018-01-05 15:19:44,346 Line:5853 52:
 [DEBUG] 2018-01-05 15:19:44,346 Line:5853 53:
 [DEBUG] 2018-01-05 15:19:44,346 Line:5853 54:0.0
 [DEBUG] 2018-01-05 15:19:44,346 Line:5853 55:0.0
 [DEBUG] 2018-01-05 15:19:44,346 Line:5853 56:0.0
 [DEBUG] 2018-01-05 15:19:44,347 Line:5853 57:0
 [DEBUG] 2018-01-05 15:19:44,347 Line:5853 58:00001
 [DEBUG] 2018-01-05 15:19:44,347 Line:5853 59:0
 [DEBUG] 2018-01-05 15:19:44,347 Line:5853 60:2018-01-05 15:19:44
 [DEBUG] 2018-01-05 15:19:44,347 Line:5853 61:1
 [DEBUG] 2018-01-05 15:19:44,347 Line:5853 62:2018-01-05 15:19:44
 [DEBUG] 2018-01-05 15:19:44,347 Line:5853 63:1
 [DEBUG] 2018-01-05 15:19:44,348 Line:5853 64:2018-01-05 15:19:44
 [DEBUG] 2018-01-05 15:19:44,362 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 15:19:44,363 Line:5853 1:e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,363 Line:5853 2:e8705601_1801051519443620006
 [DEBUG] 2018-01-05 15:19:44,363 Line:5853 3:
 [DEBUG] 2018-01-05 15:19:44,364 Line:5853 4:
 [DEBUG] 2018-01-05 15:19:44,364 Line:5853 5:
 [DEBUG] 2018-01-05 15:19:44,364 Line:5853 6:
 [DEBUG] 2018-01-05 15:19:44,364 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 15:19:44,364 Line:5853 8:
 [DEBUG] 2018-01-05 15:19:44,365 Line:5853 9:
 [DEBUG] 2018-01-05 15:19:44,366 Line:5853 10:
 [DEBUG] 2018-01-05 15:19:44,366 Line:5853 11:
 [DEBUG] 2018-01-05 15:19:44,366 Line:5853 12:
 [DEBUG] 2018-01-05 15:19:44,366 Line:5853 13:
 [DEBUG] 2018-01-05 15:19:44,366 Line:5853 14:
 [DEBUG] 2018-01-05 15:19:44,366 Line:5853 15:1.0
 [DEBUG] 2018-01-05 15:19:44,367 Line:5853 16:1.0
 [DEBUG] 2018-01-05 15:19:44,367 Line:5853 17:1.0
 [DEBUG] 2018-01-05 15:19:44,367 Line:5853 18:0.0
 [DEBUG] 2018-01-05 15:19:44,367 Line:5853 19:0
 [DEBUG] 2018-01-05 15:19:44,367 Line:5853 20:0.0
 [DEBUG] 2018-01-05 15:19:44,367 Line:5853 21:0.0
 [DEBUG] 2018-01-05 15:19:44,368 Line:5853 22:0.0
 [DEBUG] 2018-01-05 15:19:44,368 Line:5853 23:100.0
 [DEBUG] 2018-01-05 15:19:44,368 Line:5853 24:1.0
 [DEBUG] 2018-01-05 15:19:44,368 Line:5853 25:1.0
 [DEBUG] 2018-01-05 15:19:44,368 Line:5853 26:0.0
 [DEBUG] 2018-01-05 15:19:44,368 Line:5853 27:1.0
 [DEBUG] 2018-01-05 15:19:44,368 Line:5853 28:1.0
 [DEBUG] 2018-01-05 15:19:44,369 Line:5853 29:0.0
 [DEBUG] 2018-01-05 15:19:44,369 Line:5853 30:1.0
 [DEBUG] 2018-01-05 15:19:44,369 Line:5853 31:1.0
 [DEBUG] 2018-01-05 15:19:44,369 Line:5853 32:0.0
 [DEBUG] 2018-01-05 15:19:44,369 Line:5853 33:0.0
 [DEBUG] 2018-01-05 15:19:44,369 Line:5853 34:0.0
 [DEBUG] 2018-01-05 15:19:44,370 Line:5853 35:0.0
 [DEBUG] 2018-01-05 15:19:44,370 Line:5853 36:0.0
 [DEBUG] 2018-01-05 15:19:44,370 Line:5853 37:
 [DEBUG] 2018-01-05 15:19:44,370 Line:5853 38:0.0
 [DEBUG] 2018-01-05 15:19:44,370 Line:5853 39:0.0
 [DEBUG] 2018-01-05 15:19:44,370 Line:5853 40:0.0
 [DEBUG] 2018-01-05 15:19:44,371 Line:5853 41:0.0
 [DEBUG] 2018-01-05 15:19:44,371 Line:5853 42:0.0
 [DEBUG] 2018-01-05 15:19:44,371 Line:5853 43:0.0
 [DEBUG] 2018-01-05 15:19:44,371 Line:5853 44:0.0
 [DEBUG] 2018-01-05 15:19:44,371 Line:5853 45:0.0
 [DEBUG] 2018-01-05 15:19:44,372 Line:5853 46:0.0
 [DEBUG] 2018-01-05 15:19:44,372 Line:5853 47:0
 [DEBUG] 2018-01-05 15:19:44,372 Line:5853 48:0.0
 [DEBUG] 2018-01-05 15:19:44,372 Line:5853 49:0.0
 [DEBUG] 2018-01-05 15:19:44,372 Line:5853 50:0
 [DEBUG] 2018-01-05 15:19:44,373 Line:5853 51:
 [DEBUG] 2018-01-05 15:19:44,373 Line:5853 52:0.0
 [DEBUG] 2018-01-05 15:19:44,374 Line:5853 53:0.0
 [DEBUG] 2018-01-05 15:19:44,374 Line:5853 54:0.0
 [DEBUG] 2018-01-05 15:19:44,374 Line:5853 55:0
 [DEBUG] 2018-01-05 15:19:44,374 Line:5853 56:0
 [DEBUG] 2018-01-05 15:19:44,375 Line:5853 57:
 [DEBUG] 2018-01-05 15:19:44,375 Line:5853 58:0.0
 [DEBUG] 2018-01-05 15:19:44,375 Line:5853 59:0.0
 [DEBUG] 2018-01-05 15:19:44,375 Line:5853 60:
 [DEBUG] 2018-01-05 15:19:44,375 Line:5853 61:0.0
 [DEBUG] 2018-01-05 15:19:44,375 Line:5853 62:00001
 [DEBUG] 2018-01-05 15:19:44,574 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 15:19:44,861 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,862 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 15:19:44,864 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,865 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 15:19:44,866 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,866 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 15:19:44,867 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,867 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 15:19:44,868 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,868 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 15:19:44,869 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,869 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 15:19:44,870 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:44,872 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 15:19:44,872 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,872 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,873 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 15:19:44,875 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 15:19:44,876 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 15:19:44,877 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,877 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 15:19:44,877 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,877 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,878 Line:988 2值：00003
 [DEBUG] 2018-01-05 15:19:44,881 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 15:19:44,882 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 15:19:44,882 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,883 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 15:19:44,883 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,883 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,883 Line:988 2值：00003
 [DEBUG] 2018-01-05 15:19:44,893 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 15:19:44,893 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 15:19:44,894 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,894 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 15:19:44,894 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,895 Line:988 1值：false
 [DEBUG] 2018-01-05 15:19:44,895 Line:988 2值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,903 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 15:19:44,903 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 15:19:44,903 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 15:19:44,905 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,905 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 15:19:44,905 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,906 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,913 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 15:19:44,913 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 15:19:44,915 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,916 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 15:19:44,916 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,917 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,922 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 15:19:44,923 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 15:19:44,925 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,926 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 15:19:44,926 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,927 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,933 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 15:19:44,934 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 15:19:44,936 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,937 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 15:19:44,937 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,938 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,943 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 15:19:44,943 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 15:19:44,944 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,944 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 15:19:44,946 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,946 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 15:19:44,946 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,946 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,949 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 15:19:44,950 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 15:19:44,951 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,951 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 15:19:44,952 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,952 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 15:19:44,952 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,952 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,954 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 15:19:44,955 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 15:19:44,956 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,956 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 15:19:44,956 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,956 Line:988 1值：1
 [DEBUG] 2018-01-05 15:19:44,956 Line:988 2值：0
 [DEBUG] 2018-01-05 15:19:44,957 Line:988 3值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:44,994 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 15:19:44,994 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 15:19:44,995 Line:1043 ---上述语句时间---39
 [DEBUG] 2018-01-05 15:19:44,995 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 15:19:44,996 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:44,996 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 15:19:44,997 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:44,997 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,006 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 15:19:45,007 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 15:19:45,008 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,009 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 15:19:45,009 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:45,009 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,011 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 15:19:45,011 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 15:19:45,012 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,012 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 15:19:45,012 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:45,013 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,015 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 15:19:45,016 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 15:19:45,016 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,017 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 15:19:45,017 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:45,017 Line:988 1值：
 [DEBUG] 2018-01-05 15:19:45,017 Line:988 2值：00001
 [DEBUG] 2018-01-05 15:19:45,026 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 15:19:45,027 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 15:19:45,027 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:45,027 Line:988 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,027 Line:988 2值：
 [DEBUG] 2018-01-05 15:19:45,028 Line:988 3值：
 [DEBUG] 2018-01-05 15:19:45,028 Line:988 4值：
 [DEBUG] 2018-01-05 15:19:45,031 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 15:19:45,031 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 15:19:45,032 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,033 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 15:19:45,033 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,034 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 15:19:45,034 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,034 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 15:19:45,035 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,035 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 15:19:45,036 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,037 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 15:19:45,037 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 15:19:45,037 Line:1157 2值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,040 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 15:19:45,040 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 15:19:45,041 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 15:19:45,041 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 15:19:45,041 Line:1157 2值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,041 Line:1157 3值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,047 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 15:19:45,047 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 15:19:45,047 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 15:19:45,048 Line:1157 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,048 Line:1157 2值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,052 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 15:19:45,052 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 15:19:45,053 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 15:19:45,053 Line:1157 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,055 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 15:19:45,055 Line:229 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 15:19:45,056 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 15:19:45,056 Line:1157 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,059 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 15:19:45,059 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 15:19:45,059 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 15:19:45,060 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,061 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 15:19:45,061 Line:1157 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,061 Line:1157 2值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,064 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 15:19:45,064 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 15:19:45,065 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 15:19:45,066 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,066 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 15:19:45,066 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,067 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 15:19:45,067 Line:1270 e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,067 Line:1270 add
 [DEBUG] 2018-01-05 15:19:45,136 Line:425 ************上述语句执行时间：69
 [DEBUG] 2018-01-05 15:19:45,136 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 15:19:45,137 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,138 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 15:19:45,138 Line:1157 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,150 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 15:19:45,150 Line:408 ************上述语句执行时间：12
 [DEBUG] 2018-01-05 15:19:45,150 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 15:19:45,151 Line:1157 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,159 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 15:19:45,160 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 15:19:45,161 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 15:19:45,162 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,162 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 15:19:45,163 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,163 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 15:19:45,164 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,178 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 15:19:45,179 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,179 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 15:19:45,182 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,182 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 15:19:45,182 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,182 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 15:19:45,184 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,184 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 15:19:45,185 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,186 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 15:19:45,187 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,187 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 15:19:45,188 Line:1157 1值：e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,190 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 15:19:45,190 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 15:19:45,190 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 15:19:45,191 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,192 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 15:19:45,192 Line:1270 e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,192 Line:1270 add
 [DEBUG] 2018-01-05 15:19:45,258 Line:425 ************上述语句执行时间：67
 [DEBUG] 2018-01-05 15:19:45,259 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 15:19:45,260 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,260 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 15:19:45,261 Line:1270 1
 [DEBUG] 2018-01-05 15:19:45,261 Line:1270 2018
 [DEBUG] 2018-01-05 15:19:45,261 Line:1270 1
 [DEBUG] 2018-01-05 15:19:45,261 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 15:19:45,261 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 15:19:45,262 Line:1270 e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,262 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 15:19:45,262 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 15:19:45,262 Line:1270 BI1801050005
 [DEBUG] 2018-01-05 15:19:45,262 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 15:19:45,263 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 15:19:45,263 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 15:19:45,263 Line:1270 1
 [DEBUG] 2018-01-05 15:19:45,263 Line:1270 1
 [DEBUG] 2018-01-05 15:19:45,264 Line:1270 2018-01-05 15:19:44
 [DEBUG] 2018-01-05 15:19:45,264 Line:1270 2018-01-05 15:19:44
 [DEBUG] 2018-01-05 15:19:45,264 Line:1270 00001
 [DEBUG] 2018-01-05 15:19:45,264 Line:1270 
 [DEBUG] 2018-01-05 15:19:45,265 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 15:19:45,265 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 15:19:45,265 Line:1270 00003
 [DEBUG] 2018-01-05 15:19:45,266 Line:1270 1
 [DEBUG] 2018-01-05 15:19:45,266 Line:1270 00101
 [DEBUG] 2018-01-05 15:19:45,266 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 15:19:45,267 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 15:19:45,268 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 15:19:45,268 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 15:19:45,268 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 15:19:45,268 Line:1270 0
 [DEBUG] 2018-01-05 15:19:45,268 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 15:19:45,269 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 15:19:45,269 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 15:19:45,269 Line:1270 f_ref='e8705601_1801051519443300005'
 [DEBUG] 2018-01-05 15:19:45,476 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'e8705601_1801051519443300005','2018-01-05','BI1801050005','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 15:19:44','2018-01-05 15:19:44','00001' from tblBuyInStockDet where f_ref='e8705601_1801051519443300005' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 15:19:45,476 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 15:19:45,477 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 15:19:45,477 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 15:19:45,477 Line:425 ************上述语句执行时间：217
 [DEBUG] 2018-01-05 15:19:45,477 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 15:19:45,478 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,478 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 15:19:45,479 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,480 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 15:19:45,480 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:45,482 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 15:19:45,482 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 15:19:45,483 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,483 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 15:19:45,484 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,485 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 15:19:45,486 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,486 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 15:19:45,487 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:45,487 Line:988 1值：1
 [DEBUG] 2018-01-05 15:19:45,487 Line:988 2值：0
 [DEBUG] 2018-01-05 15:19:45,487 Line:988 3值：1
 [DEBUG] 2018-01-05 15:19:45,487 Line:988 4值：0
 [DEBUG] 2018-01-05 15:19:45,488 Line:988 5值：0
 [DEBUG] 2018-01-05 15:19:45,488 Line:988 6值：1
 [DEBUG] 2018-01-05 15:19:45,489 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 15:19:45,489 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 15:19:45,490 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 15:19:45,490 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 15:19:45,490 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 15:19:45,491 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,537 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 15:19:45,541 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 15:19:45,553 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 15:19:45,563 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 15:19:45,571 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 15:19:45,581 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 15:19:45,591 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 15:19:45,600 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 15:19:45,616 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 15:19:45,626 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 15:19:45,734 Line:434 ************上述语句执行时间：242
 [DEBUG] 2018-01-05 15:19:45,735 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 15:19:45,735 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,736 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 15:19:45,736 Line:1270 1e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,736 Line:1270 00003
 [DEBUG] 2018-01-05 15:19:45,736 Line:1270 1
 [DEBUG] 2018-01-05 15:19:45,737 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 15:19:45,737 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=e8705601_1801051519443300005@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 15:19:44@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 15:19:44@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050005@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 15:19:45,794 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1e8705601_1801051519443300005',24,'00003','2018-01-05','1','2018','1','0','1','e8705601_1801051519443300005','','1','0','1','1','2018-01-05 15:19:44','1','2018-01-05 15:19:44','00001','tblBuyInStock','BI1801050005','1','00101','0','')
 [DEBUG] 2018-01-05 15:19:45,794 Line:425 ************上述语句执行时间：58
 [DEBUG] 2018-01-05 15:19:45,794 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 15:19:45,795 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,795 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 15:19:45,796 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,797 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 15:19:45,797 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,798 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 15:19:45,798 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,799 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 15:19:45,800 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,800 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 15:19:45,801 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,801 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 15:19:45,801 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 15:19:45,801 Line:988 1值：1
 [DEBUG] 2018-01-05 15:19:45,802 Line:988 2值：0
 [DEBUG] 2018-01-05 15:19:45,802 Line:988 3值：1
 [DEBUG] 2018-01-05 15:19:45,802 Line:988 4值：0
 [DEBUG] 2018-01-05 15:19:45,802 Line:988 5值：0
 [DEBUG] 2018-01-05 15:19:45,802 Line:988 6值：0
 [DEBUG] 2018-01-05 15:19:45,804 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 15:19:45,804 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 15:19:45,805 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 15:19:45,805 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 15:19:45,805 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 15:19:45,806 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,807 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 15:19:45,807 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,807 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 15:19:45,808 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,808 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 15:19:45,809 Line:321 flag:false
 [DEBUG] 2018-01-05 15:19:45,809 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 15:19:45,809 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,810 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 15:19:45,810 Line:1270 e8705601_1801051519443300005
 [DEBUG] 2018-01-05 15:19:45,811 Line:1270 add
 [DEBUG] 2018-01-05 15:19:45,819 Line:425 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 15:19:45,820 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 15:19:45,820 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,825 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 15:19:45,881 Line:85 HiveServlet:---->{"state": 1,"reason":  "成功??","count":"25"}
 [DEBUG] 2018-01-05 15:19:45,906 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 15:19:45,906 Line:443 ************上述语句执行时间：85
 [DEBUG] 2018-01-05 15:19:45,906 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 15:19:45,907 Line:321 flag:true
 [DEBUG] 2018-01-05 15:19:45,907 Line:372 ---error，返回信息：25url=
 [ERROR] 2018-01-05 15:19:45,907 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=25
 [DEBUG] 2018-01-05 15:42:32,726 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 16:08:16,990 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2018-01-05 16:08:16,991 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2018-01-05 16:08:16,998 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2018-01-05 16:08:24,047 Line:206 系统开始启动，最大内存：1792;目前总内存：306;目前空闲内存：214
 [INFO ] 2018-01-05 16:08:24,173 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-05 16:08:29,258 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-05 16:08:29,546 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-05 16:08:29,569 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-05 16:08:29,574 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-05 16:08:29,579 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-05 16:08:29,597 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-05 16:08:29,610 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-05 16:08:30,979 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 16:08:31,003 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-05 16:08:31,035 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-05 16:08:31,051 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-05 16:08:31,962 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-05 16:08:31,962 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-05 16:08:32,499 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-05 16:08:32,581 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-05 16:08:33,325 Line:538 ------Init TableInfo record:639
 [DEBUG] 2018-01-05 16:08:33,354 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-05 16:08:33,362 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-05 16:08:33,374 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-05 16:08:33,386 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-05 16:08:33,394 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-05 16:08:33,426 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-05 16:08:36,765 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-05 16:08:37,025 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,027 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,029 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,031 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,033 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,035 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,037 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,039 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,041 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,043 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,095 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,117 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,143 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,212 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,214 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,217 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,219 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,248 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,251 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,253 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,255 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,258 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,260 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,287 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,328 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,331 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,333 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,336 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,338 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,341 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,369 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,372 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,375 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,434 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,465 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,505 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,507 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,510 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 16:08:37,536 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-05 16:08:37,554 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-05 16:08:37,606 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-05 16:08:38,241 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-05 16:08:38,242 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-05 16:08:40,162 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-06 00:00:00
 [INFO ] 2018-01-05 16:08:40,162 Line:137 SAFE 碎片任务启动，时间2018-01-07 00:00:00
 [DEBUG] 2018-01-05 16:09:00,382 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFBD79FB15E209FBFFF8AD219FA989EC390
 [ERROR] 2018-01-05 16:09:00,510 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:09:06,131 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 16:09:06,131 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2018-01-05 16:09:06,131 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2018-01-05 16:09:06,630 Line:5242 GlobalsTool.js 生成js 时间68:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-05 16:09:06,677 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-05 16:09:06,678 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-05 16:09:06,891 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515139746882
 [DEBUG] 2018-01-05 16:09:06,897 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515139746882,];
 [DEBUG] 2018-01-05 16:09:06,963 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-05 16:09:06,963 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-05 16:09:08,784 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515139748781
 [DEBUG] 2018-01-05 16:09:08,784 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515139748781,];
 [DEBUG] 2018-01-05 16:09:08,839 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515139748837
 [DEBUG] 2018-01-05 16:09:08,839 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515139748837,];
 [DEBUG] 2018-01-05 16:09:08,905 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-05 16:09:08,905 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-05 16:09:08,960 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-05 16:09:08,973 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-05 16:09:09,079 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 16:09:09,080 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 16:09:09,088 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:09:09,334 Line:5242 GlobalsTool.js 生成js 时间30:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-05 16:09:09,530 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 16:09:09,530 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 16:09:09,530 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 16:09:09,531 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:09:09,532 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:09:09,547 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 16:09:09,547 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:09:09,548 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:09:09,557 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 16:09:09,557 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:09:09,558 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:09:09,570 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 16:09:09,570 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:09:09,571 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:09:11,849 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-05 16:09:11,849 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-05 16:09:11,850 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-05 16:09:12,289 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-05 16:09:12,298 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-05 16:09:12,325 Line:689 通过SQL读原始数据：27
 [DEBUG] 2018-01-05 16:09:12,327 Line:1391 整理数据：1
 [DEBUG] 2018-01-05 16:09:12,644 Line:5242 GlobalsTool.js 生成js 时间86:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-05 16:09:12,752 Line:5242 GlobalsTool.js 生成js 时间107:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 16:09:14,937 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 16:09:14,939 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 16:09:15,215 Line:5242 GlobalsTool.js 生成js 时间19:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 16:09:16,454 Line:5242 GlobalsTool.js 生成js 时间1239:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 16:09:19,179 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 16:09:19,179 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 16:09:19,289 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 16:09:19,289 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 16:09:19,290 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 16:09:19,291 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 16:09:19,293 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-05 16:09:19,345 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-05'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 16:09:19,545 Line:5242 GlobalsTool.js 生成js 时间22:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2018-01-05 16:09:19,574 Line:5242 GlobalsTool.js 生成js 时间29:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 16:09:21,393 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 16:09:21,394 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 16:09:21,422 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 16:09:21,422 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 16:09:21,423 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 16:09:21,424 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 16:09:21,424 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-05 16:09:21,427 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 16:09:23,675 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-05 16:09:23,676 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-05 16:09:23,707 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 16:09:23,707 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-05 16:09:23,708 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 16:09:23,708 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 16:09:23,708 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-05 16:09:23,721 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 16:09:27,667 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:09:27,669 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050006,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:09:27,671 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:09:27,704 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:09:27,705 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:09:27,706 Line:5853 2:
 [DEBUG] 2018-01-05 16:09:27,706 Line:5853 3:0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:27,706 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:09:27,706 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:09:27,706 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:09:27,706 Line:5853 7:0
 [DEBUG] 2018-01-05 16:09:27,707 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:09:27,707 Line:5853 9:BI1801050006
 [DEBUG] 2018-01-05 16:09:27,707 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:09:27,707 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:09:27,707 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:09:27,707 Line:5853 13:1
 [DEBUG] 2018-01-05 16:09:27,708 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:09:27,708 Line:5853 15:3
 [DEBUG] 2018-01-05 16:09:27,708 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:09:27,708 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:09:27,708 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:09:27,708 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:09:27,709 Line:5853 20:
 [DEBUG] 2018-01-05 16:09:27,709 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:09:27,709 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:09:27,709 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:09:27,709 Line:5853 24:
 [DEBUG] 2018-01-05 16:09:27,709 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:09:27,709 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:09:27,710 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:09:27,710 Line:5853 28:
 [DEBUG] 2018-01-05 16:09:27,710 Line:5853 29:1
 [DEBUG] 2018-01-05 16:09:27,710 Line:5853 30:1
 [DEBUG] 2018-01-05 16:09:27,710 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:09:27,710 Line:5853 32:
 [DEBUG] 2018-01-05 16:09:27,711 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:09:27,711 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:09:27,711 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:09:27,711 Line:5853 36:
 [DEBUG] 2018-01-05 16:09:27,711 Line:5853 37:
 [DEBUG] 2018-01-05 16:09:27,711 Line:5853 38:
 [DEBUG] 2018-01-05 16:09:27,712 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:09:27,712 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:09:27,712 Line:5853 41:
 [DEBUG] 2018-01-05 16:09:27,712 Line:5853 42:
 [DEBUG] 2018-01-05 16:09:27,712 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:09:27,712 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:09:27,713 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:09:27,713 Line:5853 46:
 [DEBUG] 2018-01-05 16:09:27,713 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:09:27,713 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:09:27,713 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:09:27,713 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:09:27,714 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:09:27,714 Line:5853 52:
 [DEBUG] 2018-01-05 16:09:27,714 Line:5853 53:
 [DEBUG] 2018-01-05 16:09:27,714 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:09:27,714 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:09:27,715 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:09:27,715 Line:5853 57:0
 [DEBUG] 2018-01-05 16:09:27,715 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:09:27,715 Line:5853 59:0
 [DEBUG] 2018-01-05 16:09:27,715 Line:5853 60:2018-01-05 16:09:27
 [DEBUG] 2018-01-05 16:09:27,715 Line:5853 61:1
 [DEBUG] 2018-01-05 16:09:27,715 Line:5853 62:2018-01-05 16:09:27
 [DEBUG] 2018-01-05 16:09:27,716 Line:5853 63:1
 [DEBUG] 2018-01-05 16:09:27,716 Line:5853 64:2018-01-05 16:09:27
 [DEBUG] 2018-01-05 16:09:27,784 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:09:27,785 Line:5853 1:0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:27,785 Line:5853 2:0e7d2067_1801051609277840004
 [DEBUG] 2018-01-05 16:09:27,785 Line:5853 3:
 [DEBUG] 2018-01-05 16:09:27,786 Line:5853 4:
 [DEBUG] 2018-01-05 16:09:27,786 Line:5853 5:
 [DEBUG] 2018-01-05 16:09:27,786 Line:5853 6:
 [DEBUG] 2018-01-05 16:09:27,786 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:09:27,786 Line:5853 8:
 [DEBUG] 2018-01-05 16:09:27,786 Line:5853 9:
 [DEBUG] 2018-01-05 16:09:27,787 Line:5853 10:
 [DEBUG] 2018-01-05 16:09:27,787 Line:5853 11:
 [DEBUG] 2018-01-05 16:09:27,787 Line:5853 12:
 [DEBUG] 2018-01-05 16:09:27,787 Line:5853 13:
 [DEBUG] 2018-01-05 16:09:27,787 Line:5853 14:
 [DEBUG] 2018-01-05 16:09:27,787 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:09:27,787 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:09:27,788 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:09:27,788 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:09:27,788 Line:5853 19:0
 [DEBUG] 2018-01-05 16:09:27,788 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:09:27,788 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:09:27,789 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:09:27,789 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:09:27,789 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:09:27,789 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:09:27,790 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:09:27,790 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:09:27,790 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:09:27,791 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:09:27,791 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:09:27,791 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:09:27,791 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:09:27,791 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:09:27,792 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:09:27,792 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:09:27,792 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:09:27,792 Line:5853 37:
 [DEBUG] 2018-01-05 16:09:27,792 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:09:27,792 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:09:27,793 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:09:27,793 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:09:27,793 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:09:27,793 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:09:27,793 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:09:27,793 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:09:27,794 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:09:27,794 Line:5853 47:0
 [DEBUG] 2018-01-05 16:09:27,794 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:09:27,794 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:09:27,794 Line:5853 50:0
 [DEBUG] 2018-01-05 16:09:27,794 Line:5853 51:
 [DEBUG] 2018-01-05 16:09:27,795 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:09:27,795 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:09:27,795 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:09:27,795 Line:5853 55:0
 [DEBUG] 2018-01-05 16:09:27,795 Line:5853 56:0
 [DEBUG] 2018-01-05 16:09:27,795 Line:5853 57:
 [DEBUG] 2018-01-05 16:09:27,796 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:09:27,796 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:09:27,796 Line:5853 60:
 [DEBUG] 2018-01-05 16:09:27,796 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:09:27,796 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:09:27,986 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:09:28,223 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,223 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:09:28,225 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,226 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:09:28,226 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,227 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:09:28,228 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,229 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:09:28,230 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,230 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:09:28,231 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,231 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:09:28,232 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,233 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:09:28,233 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,233 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,234 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:09:28,237 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:09:28,237 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:09:28,238 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,239 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:09:28,239 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,239 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,239 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:09:28,245 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 16:09:28,245 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:09:28,246 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,247 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:09:28,247 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,247 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,248 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:09:28,252 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:09:28,252 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:09:28,254 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,254 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:09:28,254 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,254 Line:988 1值：false
 [DEBUG] 2018-01-05 16:09:28,255 Line:988 2值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,260 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:09:28,261 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 16:09:28,261 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:09:28,262 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,262 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:09:28,262 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,263 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,268 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:09:28,269 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:09:28,270 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,271 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:09:28,271 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,272 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,277 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:09:28,278 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:09:28,281 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,282 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:09:28,283 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,284 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,288 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:09:28,289 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:09:28,290 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,291 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:09:28,291 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,291 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,297 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:09:28,297 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:09:28,299 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,299 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:09:28,301 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,301 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:09:28,301 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,302 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,308 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 16:09:28,309 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:09:28,310 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,310 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:09:28,311 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,312 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:09:28,312 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,312 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,314 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:09:28,315 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:09:28,316 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,317 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:09:28,317 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,317 Line:988 1值：1
 [DEBUG] 2018-01-05 16:09:28,318 Line:988 2值：0
 [DEBUG] 2018-01-05 16:09:28,318 Line:988 3值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,328 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:09:28,329 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:09:28,329 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-05 16:09:28,330 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:09:28,331 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,332 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:09:28,332 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,332 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,346 Line:1043 ---上述语句时间---14
 [DEBUG] 2018-01-05 16:09:28,346 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:09:28,348 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,349 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:09:28,349 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,349 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,351 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:09:28,352 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:09:28,353 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,354 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:09:28,355 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,356 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,359 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:09:28,360 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:09:28,361 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,361 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:09:28,362 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,362 Line:988 1值：
 [DEBUG] 2018-01-05 16:09:28,363 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:09:28,365 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:09:28,365 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:09:28,366 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,366 Line:988 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,366 Line:988 2值：
 [DEBUG] 2018-01-05 16:09:28,366 Line:988 3值：
 [DEBUG] 2018-01-05 16:09:28,367 Line:988 4值：
 [DEBUG] 2018-01-05 16:09:28,371 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:09:28,372 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:09:28,373 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,373 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:09:28,374 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,374 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:09:28,375 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,376 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:09:28,377 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,378 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:09:28,379 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,380 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:09:28,381 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:09:28,381 Line:1157 2值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,386 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:09:28,387 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:09:28,387 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:09:28,387 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:09:28,388 Line:1157 2值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,388 Line:1157 3值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,393 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:09:28,393 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:09:28,394 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:09:28,394 Line:1157 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,394 Line:1157 2值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,401 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:09:28,402 Line:229 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 16:09:28,402 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:09:28,402 Line:1157 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,407 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:09:28,408 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:09:28,408 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:09:28,408 Line:1157 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,413 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:09:28,413 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:09:28,414 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:09:28,415 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,416 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:09:28,416 Line:1157 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,417 Line:1157 2值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,421 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:09:28,422 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:09:28,422 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:09:28,423 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,424 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:09:28,425 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,425 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:09:28,425 Line:1270 0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,426 Line:1270 add
 [DEBUG] 2018-01-05 16:09:28,505 Line:425 ************上述语句执行时间：80
 [DEBUG] 2018-01-05 16:09:28,505 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:09:28,507 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,507 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:09:28,508 Line:1157 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,522 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:09:28,523 Line:408 ************上述语句执行时间：16
 [DEBUG] 2018-01-05 16:09:28,523 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:09:28,523 Line:1157 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,533 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:09:28,533 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 16:09:28,534 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:09:28,535 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,535 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:09:28,536 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,536 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:09:28,538 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,554 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:09:28,556 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,556 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:09:28,557 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,557 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:09:28,558 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,558 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:09:28,559 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,560 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:09:28,561 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,561 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:09:28,562 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,562 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:09:28,563 Line:1157 1值：0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,565 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:09:28,565 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:09:28,566 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:09:28,567 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,567 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:09:28,567 Line:1270 0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,568 Line:1270 add
 [DEBUG] 2018-01-05 16:09:28,625 Line:425 ************上述语句执行时间：58
 [DEBUG] 2018-01-05 16:09:28,625 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:09:28,626 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,627 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:09:28,628 Line:1270 1
 [DEBUG] 2018-01-05 16:09:28,628 Line:1270 2018
 [DEBUG] 2018-01-05 16:09:28,628 Line:1270 1
 [DEBUG] 2018-01-05 16:09:28,628 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:09:28,629 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:09:28,629 Line:1270 0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:28,629 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:09:28,629 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:09:28,629 Line:1270 BI1801050006
 [DEBUG] 2018-01-05 16:09:28,630 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:09:28,630 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:09:28,630 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:09:28,630 Line:1270 1
 [DEBUG] 2018-01-05 16:09:28,630 Line:1270 1
 [DEBUG] 2018-01-05 16:09:28,631 Line:1270 2018-01-05 16:09:27
 [DEBUG] 2018-01-05 16:09:28,631 Line:1270 2018-01-05 16:09:27
 [DEBUG] 2018-01-05 16:09:28,631 Line:1270 00001
 [DEBUG] 2018-01-05 16:09:28,631 Line:1270 
 [DEBUG] 2018-01-05 16:09:28,631 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:09:28,632 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:09:28,632 Line:1270 00003
 [DEBUG] 2018-01-05 16:09:28,632 Line:1270 1
 [DEBUG] 2018-01-05 16:09:28,632 Line:1270 00101
 [DEBUG] 2018-01-05 16:09:28,633 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:09:28,633 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:09:28,633 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:09:28,634 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:09:28,634 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:09:28,634 Line:1270 0
 [DEBUG] 2018-01-05 16:09:28,634 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:09:28,635 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:09:28,635 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:09:28,635 Line:1270 f_ref='0e7d2067_1801051609276970003'
 [DEBUG] 2018-01-05 16:09:28,822 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051609276970003','2018-01-05','BI1801050006','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:09:27','2018-01-05 16:09:27','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051609276970003' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:09:28,823 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:09:28,823 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:09:28,823 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:09:28,823 Line:425 ************上述语句执行时间：196
 [DEBUG] 2018-01-05 16:09:28,824 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:09:28,824 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,825 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:09:28,825 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,826 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:09:28,826 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,827 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:09:28,828 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:09:28,829 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,829 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:09:28,829 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,830 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:09:28,830 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:28,831 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:09:28,831 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:28,831 Line:988 1值：1
 [DEBUG] 2018-01-05 16:09:28,831 Line:988 2值：0
 [DEBUG] 2018-01-05 16:09:28,831 Line:988 3值：1
 [DEBUG] 2018-01-05 16:09:28,832 Line:988 4值：0
 [DEBUG] 2018-01-05 16:09:28,832 Line:988 5值：0
 [DEBUG] 2018-01-05 16:09:28,832 Line:988 6值：1
 [DEBUG] 2018-01-05 16:09:28,833 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:09:28,833 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:09:28,834 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:09:28,834 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:09:28,834 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:09:28,835 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:28,879 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:09:28,883 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:09:28,891 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:09:28,897 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:09:28,903 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:09:28,909 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:09:28,916 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:09:28,922 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:09:28,937 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:09:28,948 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:09:29,056 Line:434 ************上述语句执行时间：221
 [DEBUG] 2018-01-05 16:09:29,056 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:09:29,057 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:29,058 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:09:29,059 Line:1270 10e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:29,059 Line:1270 00003
 [DEBUG] 2018-01-05 16:09:29,060 Line:1270 1
 [DEBUG] 2018-01-05 16:09:29,061 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:09:29,061 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051609276970003@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:09:27@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:09:27@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:09:29,112 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051609276970003',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051609276970003','','1','0','1','1','2018-01-05 16:09:27','1','2018-01-05 16:09:27','00001','tblBuyInStock','BI1801050006','1','00101','0','')
 [DEBUG] 2018-01-05 16:09:29,112 Line:425 ************上述语句执行时间：54
 [DEBUG] 2018-01-05 16:09:29,113 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:09:29,114 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:29,114 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:09:29,115 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:29,115 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:09:29,116 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:29,117 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:09:29,118 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:29,119 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:09:29,120 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:29,121 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:09:29,122 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:29,123 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:09:29,123 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:09:29,123 Line:988 1值：1
 [DEBUG] 2018-01-05 16:09:29,124 Line:988 2值：0
 [DEBUG] 2018-01-05 16:09:29,124 Line:988 3值：1
 [DEBUG] 2018-01-05 16:09:29,124 Line:988 4值：0
 [DEBUG] 2018-01-05 16:09:29,124 Line:988 5值：0
 [DEBUG] 2018-01-05 16:09:29,124 Line:988 6值：0
 [DEBUG] 2018-01-05 16:09:29,125 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:09:29,126 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:09:29,126 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:09:29,126 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:09:29,126 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:09:29,127 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:29,127 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:09:29,128 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:29,128 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:09:29,129 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:29,129 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:09:29,130 Line:321 flag:false
 [DEBUG] 2018-01-05 16:09:29,130 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:09:29,130 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:29,131 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:09:29,131 Line:1270 0e7d2067_1801051609276970003
 [DEBUG] 2018-01-05 16:09:29,131 Line:1270 add
 [DEBUG] 2018-01-05 16:09:29,139 Line:425 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 16:09:29,140 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:09:29,141 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:29,146 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:09:29,180 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:09:29,181 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:09:29,181 Line:443 ************上述语句执行时间：40
 [DEBUG] 2018-01-05 16:09:29,181 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:09:29,182 Line:321 flag:true
 [DEBUG] 2018-01-05 16:09:29,182 Line:372 ---error，返回信息："25"url=
 [ERROR] 2018-01-05 16:09:29,182 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg="25"
 [DEBUG] 2018-01-05 16:09:38,348 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 16:10:24,111 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB5C579E0FF02055851A9149AA833C7396
 [ERROR] 2018-01-05 16:10:24,166 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:10:31,179 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFBAB3F305A7921B0FE5038F594B7A91F37
 [ERROR] 2018-01-05 16:10:31,230 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:10:37,148 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:10:37,150 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050006,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:10:37,151 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:10:37,174 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:10:37,174 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:10:37,175 Line:5853 2:
 [DEBUG] 2018-01-05 16:10:37,175 Line:5853 3:0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,175 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:10:37,175 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:10:37,175 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:10:37,175 Line:5853 7:0
 [DEBUG] 2018-01-05 16:10:37,176 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:10:37,176 Line:5853 9:BI1801050006
 [DEBUG] 2018-01-05 16:10:37,176 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:10:37,176 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:10:37,176 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:10:37,176 Line:5853 13:1
 [DEBUG] 2018-01-05 16:10:37,176 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:10:37,177 Line:5853 15:3
 [DEBUG] 2018-01-05 16:10:37,177 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:10:37,177 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:10:37,177 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:10:37,177 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:10:37,177 Line:5853 20:
 [DEBUG] 2018-01-05 16:10:37,178 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:10:37,178 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:10:37,178 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:10:37,178 Line:5853 24:
 [DEBUG] 2018-01-05 16:10:37,178 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:10:37,178 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:10:37,179 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:10:37,179 Line:5853 28:
 [DEBUG] 2018-01-05 16:10:37,179 Line:5853 29:1
 [DEBUG] 2018-01-05 16:10:37,179 Line:5853 30:1
 [DEBUG] 2018-01-05 16:10:37,179 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:10:37,179 Line:5853 32:
 [DEBUG] 2018-01-05 16:10:37,179 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:10:37,180 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:10:37,180 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:10:37,180 Line:5853 36:
 [DEBUG] 2018-01-05 16:10:37,180 Line:5853 37:
 [DEBUG] 2018-01-05 16:10:37,180 Line:5853 38:
 [DEBUG] 2018-01-05 16:10:37,180 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:10:37,181 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:10:37,181 Line:5853 41:
 [DEBUG] 2018-01-05 16:10:37,181 Line:5853 42:
 [DEBUG] 2018-01-05 16:10:37,181 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:10:37,181 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:10:37,181 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:10:37,181 Line:5853 46:
 [DEBUG] 2018-01-05 16:10:37,182 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:10:37,182 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:10:37,182 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:10:37,182 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:10:37,182 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:10:37,182 Line:5853 52:
 [DEBUG] 2018-01-05 16:10:37,183 Line:5853 53:
 [DEBUG] 2018-01-05 16:10:37,183 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:10:37,183 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:10:37,183 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:10:37,183 Line:5853 57:0
 [DEBUG] 2018-01-05 16:10:37,183 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:10:37,183 Line:5853 59:0
 [DEBUG] 2018-01-05 16:10:37,184 Line:5853 60:2018-01-05 16:10:37
 [DEBUG] 2018-01-05 16:10:37,184 Line:5853 61:1
 [DEBUG] 2018-01-05 16:10:37,184 Line:5853 62:2018-01-05 16:10:37
 [DEBUG] 2018-01-05 16:10:37,184 Line:5853 63:1
 [DEBUG] 2018-01-05 16:10:37,184 Line:5853 64:2018-01-05 16:10:37
 [DEBUG] 2018-01-05 16:10:37,189 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:10:37,189 Line:5853 1:0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,190 Line:5853 2:0e7d2067_1801051610371890010
 [DEBUG] 2018-01-05 16:10:37,190 Line:5853 3:
 [DEBUG] 2018-01-05 16:10:37,190 Line:5853 4:
 [DEBUG] 2018-01-05 16:10:37,190 Line:5853 5:
 [DEBUG] 2018-01-05 16:10:37,190 Line:5853 6:
 [DEBUG] 2018-01-05 16:10:37,190 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:10:37,191 Line:5853 8:
 [DEBUG] 2018-01-05 16:10:37,191 Line:5853 9:
 [DEBUG] 2018-01-05 16:10:37,191 Line:5853 10:
 [DEBUG] 2018-01-05 16:10:37,191 Line:5853 11:
 [DEBUG] 2018-01-05 16:10:37,191 Line:5853 12:
 [DEBUG] 2018-01-05 16:10:37,191 Line:5853 13:
 [DEBUG] 2018-01-05 16:10:37,191 Line:5853 14:
 [DEBUG] 2018-01-05 16:10:37,192 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:10:37,192 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:10:37,192 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:10:37,192 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:10:37,192 Line:5853 19:0
 [DEBUG] 2018-01-05 16:10:37,192 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:10:37,193 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:10:37,193 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:10:37,193 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:10:37,193 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:10:37,193 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:10:37,193 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:10:37,193 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:10:37,194 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:10:37,194 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:10:37,194 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:10:37,194 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:10:37,194 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:10:37,194 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:10:37,194 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:10:37,195 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:10:37,195 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:10:37,195 Line:5853 37:
 [DEBUG] 2018-01-05 16:10:37,195 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:10:37,195 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:10:37,196 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:10:37,196 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:10:37,196 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:10:37,196 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:10:37,196 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:10:37,197 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:10:37,197 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:10:37,197 Line:5853 47:0
 [DEBUG] 2018-01-05 16:10:37,198 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:10:37,198 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:10:37,198 Line:5853 50:0
 [DEBUG] 2018-01-05 16:10:37,198 Line:5853 51:
 [DEBUG] 2018-01-05 16:10:37,199 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:10:37,199 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:10:37,199 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:10:37,200 Line:5853 55:0
 [DEBUG] 2018-01-05 16:10:37,200 Line:5853 56:0
 [DEBUG] 2018-01-05 16:10:37,201 Line:5853 57:
 [DEBUG] 2018-01-05 16:10:37,201 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:10:37,201 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:10:37,201 Line:5853 60:
 [DEBUG] 2018-01-05 16:10:37,202 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:10:37,202 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:10:37,212 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:10:37,213 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,214 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:10:37,215 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,216 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:10:37,217 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,218 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:10:37,219 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,219 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:10:37,220 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,222 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:10:37,223 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,224 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:10:37,225 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,226 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:10:37,226 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,226 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,227 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:10:37,240 Line:1043 ---上述语句时间---14
 [DEBUG] 2018-01-05 16:10:37,241 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:10:37,242 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,242 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:10:37,242 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,242 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,242 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:10:37,257 Line:1043 ---上述语句时间---15
 [DEBUG] 2018-01-05 16:10:37,257 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:10:37,258 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,258 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:10:37,258 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,259 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,259 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:10:37,269 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 16:10:37,270 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:10:37,271 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,272 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:10:37,272 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,272 Line:988 1值：false
 [DEBUG] 2018-01-05 16:10:37,272 Line:988 2值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,285 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:10:37,285 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-05 16:10:37,285 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:10:37,286 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,286 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:10:37,287 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,287 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,295 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 16:10:37,295 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:10:37,296 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,296 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:10:37,296 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,297 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,306 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:10:37,306 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:10:37,307 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,307 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:10:37,307 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,308 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,314 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 16:10:37,314 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:10:37,315 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,315 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:10:37,316 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,316 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,324 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 16:10:37,324 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:10:37,326 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,327 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:10:37,328 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,328 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:10:37,328 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,328 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,334 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:10:37,335 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:10:37,335 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,336 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:10:37,337 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,338 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:10:37,339 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,339 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,345 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 16:10:37,345 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:10:37,346 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,346 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:10:37,346 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,346 Line:988 1值：1
 [DEBUG] 2018-01-05 16:10:37,346 Line:988 2值：0
 [DEBUG] 2018-01-05 16:10:37,347 Line:988 3值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,391 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:10:37,392 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:10:37,392 Line:1043 ---上述语句时间---46
 [DEBUG] 2018-01-05 16:10:37,392 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:10:37,393 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,394 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:10:37,394 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,394 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,404 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:10:37,405 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:10:37,406 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,407 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:10:37,407 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,407 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,412 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:10:37,412 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:10:37,413 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,413 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:10:37,413 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,413 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,416 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:10:37,416 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:10:37,417 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,417 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:10:37,418 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,418 Line:988 1值：
 [DEBUG] 2018-01-05 16:10:37,418 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:10:37,427 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:10:37,427 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:10:37,427 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,427 Line:988 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,428 Line:988 2值：
 [DEBUG] 2018-01-05 16:10:37,428 Line:988 3值：
 [DEBUG] 2018-01-05 16:10:37,428 Line:988 4值：
 [DEBUG] 2018-01-05 16:10:37,431 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:10:37,431 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:10:37,432 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,432 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:10:37,433 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,433 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:10:37,434 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,434 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:10:37,435 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,435 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:10:37,435 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,436 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:10:37,436 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:10:37,437 Line:1157 2值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,444 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:10:37,444 Line:229 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 16:10:37,444 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:10:37,444 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:10:37,445 Line:1157 2值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,445 Line:1157 3值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,455 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:10:37,456 Line:229 ************上述语句执行时间：12
 [DEBUG] 2018-01-05 16:10:37,456 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:10:37,456 Line:1157 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,456 Line:1157 2值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,467 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:10:37,467 Line:229 ************上述语句执行时间：11
 [DEBUG] 2018-01-05 16:10:37,467 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:10:37,467 Line:1157 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,473 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:10:37,473 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:10:37,473 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:10:37,473 Line:1157 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,479 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:10:37,480 Line:229 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 16:10:37,480 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:10:37,481 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,481 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:10:37,481 Line:1157 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,481 Line:1157 2值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,491 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:10:37,491 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 16:10:37,491 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:10:37,492 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,492 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:10:37,492 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,493 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:10:37,493 Line:1270 0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,493 Line:1270 add
 [DEBUG] 2018-01-05 16:10:37,564 Line:425 ************上述语句执行时间：71
 [DEBUG] 2018-01-05 16:10:37,565 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:10:37,565 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,566 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:10:37,566 Line:1157 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,578 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:10:37,579 Line:408 ************上述语句执行时间：13
 [DEBUG] 2018-01-05 16:10:37,579 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:10:37,579 Line:1157 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,590 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:10:37,591 Line:408 ************上述语句执行时间：12
 [DEBUG] 2018-01-05 16:10:37,591 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:10:37,593 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,593 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:10:37,594 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,595 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:10:37,596 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,628 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:10:37,628 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,629 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:10:37,629 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,630 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:10:37,631 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,631 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:10:37,632 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,632 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:10:37,633 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,633 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:10:37,634 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,634 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:10:37,634 Line:1157 1值：0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,640 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:10:37,640 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:10:37,640 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:10:37,641 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,641 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:10:37,641 Line:1270 0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,642 Line:1270 add
 [DEBUG] 2018-01-05 16:10:37,690 Line:425 ************上述语句执行时间：49
 [DEBUG] 2018-01-05 16:10:37,691 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:10:37,692 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,692 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:10:37,692 Line:1270 1
 [DEBUG] 2018-01-05 16:10:37,692 Line:1270 2018
 [DEBUG] 2018-01-05 16:10:37,693 Line:1270 1
 [DEBUG] 2018-01-05 16:10:37,693 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:10:37,693 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:10:37,693 Line:1270 0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:37,693 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:10:37,693 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:10:37,693 Line:1270 BI1801050006
 [DEBUG] 2018-01-05 16:10:37,694 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:10:37,694 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:10:37,694 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:10:37,694 Line:1270 1
 [DEBUG] 2018-01-05 16:10:37,694 Line:1270 1
 [DEBUG] 2018-01-05 16:10:37,694 Line:1270 2018-01-05 16:10:37
 [DEBUG] 2018-01-05 16:10:37,694 Line:1270 2018-01-05 16:10:37
 [DEBUG] 2018-01-05 16:10:37,695 Line:1270 00001
 [DEBUG] 2018-01-05 16:10:37,695 Line:1270 
 [DEBUG] 2018-01-05 16:10:37,695 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:10:37,695 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:10:37,695 Line:1270 00003
 [DEBUG] 2018-01-05 16:10:37,695 Line:1270 1
 [DEBUG] 2018-01-05 16:10:37,695 Line:1270 00101
 [DEBUG] 2018-01-05 16:10:37,696 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:10:37,696 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:10:37,696 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:10:37,696 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:10:37,696 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:10:37,696 Line:1270 0
 [DEBUG] 2018-01-05 16:10:37,696 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:10:37,697 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:10:37,697 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:10:37,697 Line:1270 f_ref='0e7d2067_1801051610371640009'
 [DEBUG] 2018-01-05 16:10:37,873 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051610371640009','2018-01-05','BI1801050006','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:10:37','2018-01-05 16:10:37','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051610371640009' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:10:37,873 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:10:37,873 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:10:37,874 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:10:37,874 Line:425 ************上述语句执行时间：182
 [DEBUG] 2018-01-05 16:10:37,874 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:10:37,875 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,875 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:10:37,875 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,876 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:10:37,876 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,877 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:10:37,878 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:10:37,878 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,878 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:10:37,879 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,879 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:10:37,880 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:37,880 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:10:37,880 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:37,880 Line:988 1值：1
 [DEBUG] 2018-01-05 16:10:37,880 Line:988 2值：0
 [DEBUG] 2018-01-05 16:10:37,880 Line:988 3值：1
 [DEBUG] 2018-01-05 16:10:37,881 Line:988 4值：0
 [DEBUG] 2018-01-05 16:10:37,881 Line:988 5值：0
 [DEBUG] 2018-01-05 16:10:37,881 Line:988 6值：1
 [DEBUG] 2018-01-05 16:10:37,882 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:10:37,882 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:10:37,882 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:10:37,882 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:10:37,882 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:10:37,883 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:37,890 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:10:37,896 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:10:37,911 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:10:37,920 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:10:37,931 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:10:37,942 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:10:37,949 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:10:37,958 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:10:37,974 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:10:37,989 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:10:38,108 Line:434 ************上述语句执行时间：225
 [DEBUG] 2018-01-05 16:10:38,109 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:10:38,109 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:38,110 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:10:38,110 Line:1270 10e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:38,110 Line:1270 00003
 [DEBUG] 2018-01-05 16:10:38,110 Line:1270 1
 [DEBUG] 2018-01-05 16:10:38,110 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:10:38,111 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051610371640009@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:10:37@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:10:37@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:10:38,171 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051610371640009',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051610371640009','','1','0','1','1','2018-01-05 16:10:37','1','2018-01-05 16:10:37','00001','tblBuyInStock','BI1801050006','1','00101','0','')
 [DEBUG] 2018-01-05 16:10:38,171 Line:425 ************上述语句执行时间：61
 [DEBUG] 2018-01-05 16:10:38,171 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:10:38,172 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,172 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:10:38,173 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,173 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:10:38,174 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,174 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:10:38,175 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,175 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:10:38,176 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,176 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:10:38,177 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,177 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:10:38,177 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:10:38,178 Line:988 1值：1
 [DEBUG] 2018-01-05 16:10:38,178 Line:988 2值：0
 [DEBUG] 2018-01-05 16:10:38,178 Line:988 3值：1
 [DEBUG] 2018-01-05 16:10:38,178 Line:988 4值：0
 [DEBUG] 2018-01-05 16:10:38,178 Line:988 5值：0
 [DEBUG] 2018-01-05 16:10:38,178 Line:988 6值：0
 [DEBUG] 2018-01-05 16:10:38,179 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:10:38,180 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:10:38,180 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:10:38,180 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:10:38,180 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:10:38,181 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,181 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:10:38,182 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,182 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:10:38,182 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,183 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:10:38,183 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,183 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:10:38,184 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:38,184 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:10:38,184 Line:1270 0e7d2067_1801051610371640009
 [DEBUG] 2018-01-05 16:10:38,184 Line:1270 add
 [DEBUG] 2018-01-05 16:10:38,193 Line:425 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:10:38,193 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:10:38,194 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:38,194 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:10:38,216 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:10:38,216 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:10:38,217 Line:443 ************上述语句执行时间：23
 [DEBUG] 2018-01-05 16:10:38,217 Line:313 exeCondition:tblBuyInStock_Add : '\"25\"' == '25' 
 [DEBUG] 2018-01-05 16:10:38,218 Line:321 flag:false
 [DEBUG] 2018-01-05 16:10:38,218 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:10:38,218 Line:321 flag:true
 [DEBUG] 2018-01-05 16:10:38,219 Line:372 ---error，返回信息："25"url=
 [ERROR] 2018-01-05 16:10:38,219 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg="25"
 [DEBUG] 2018-01-05 16:10:51,415 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFBD467BA0B345A5C2E5038F594B7A91F37
 [ERROR] 2018-01-05 16:10:51,472 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:11:00,685 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:11:00,687 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050006,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:11:00,688 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:11:00,695 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:11:00,696 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:11:00,697 Line:5853 2:
 [DEBUG] 2018-01-05 16:11:00,697 Line:5853 3:0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,698 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:11:00,698 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:11:00,699 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:11:00,699 Line:5853 7:0
 [DEBUG] 2018-01-05 16:11:00,699 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:11:00,699 Line:5853 9:BI1801050006
 [DEBUG] 2018-01-05 16:11:00,699 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:11:00,700 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:11:00,700 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:11:00,700 Line:5853 13:1
 [DEBUG] 2018-01-05 16:11:00,700 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:11:00,700 Line:5853 15:3
 [DEBUG] 2018-01-05 16:11:00,700 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:11:00,701 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:11:00,701 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:11:00,701 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:11:00,701 Line:5853 20:
 [DEBUG] 2018-01-05 16:11:00,701 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:11:00,701 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:11:00,702 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:11:00,702 Line:5853 24:
 [DEBUG] 2018-01-05 16:11:00,702 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:11:00,702 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:11:00,702 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:11:00,702 Line:5853 28:
 [DEBUG] 2018-01-05 16:11:00,703 Line:5853 29:1
 [DEBUG] 2018-01-05 16:11:00,703 Line:5853 30:1
 [DEBUG] 2018-01-05 16:11:00,703 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:11:00,703 Line:5853 32:
 [DEBUG] 2018-01-05 16:11:00,703 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:11:00,703 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:11:00,704 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:11:00,704 Line:5853 36:
 [DEBUG] 2018-01-05 16:11:00,704 Line:5853 37:
 [DEBUG] 2018-01-05 16:11:00,704 Line:5853 38:
 [DEBUG] 2018-01-05 16:11:00,704 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:11:00,704 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:11:00,705 Line:5853 41:
 [DEBUG] 2018-01-05 16:11:00,705 Line:5853 42:
 [DEBUG] 2018-01-05 16:11:00,705 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:11:00,705 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:11:00,705 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:11:00,705 Line:5853 46:
 [DEBUG] 2018-01-05 16:11:00,705 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:11:00,706 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:11:00,706 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:11:00,706 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:11:00,706 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:11:00,706 Line:5853 52:
 [DEBUG] 2018-01-05 16:11:00,706 Line:5853 53:
 [DEBUG] 2018-01-05 16:11:00,706 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:11:00,707 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:11:00,707 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:11:00,707 Line:5853 57:0
 [DEBUG] 2018-01-05 16:11:00,707 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:11:00,707 Line:5853 59:0
 [DEBUG] 2018-01-05 16:11:00,707 Line:5853 60:2018-01-05 16:11:00
 [DEBUG] 2018-01-05 16:11:00,708 Line:5853 61:1
 [DEBUG] 2018-01-05 16:11:00,708 Line:5853 62:2018-01-05 16:11:00
 [DEBUG] 2018-01-05 16:11:00,709 Line:5853 63:1
 [DEBUG] 2018-01-05 16:11:00,710 Line:5853 64:2018-01-05 16:11:00
 [DEBUG] 2018-01-05 16:11:00,712 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:11:00,713 Line:5853 1:0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,713 Line:5853 2:0e7d2067_1801051611007120015
 [DEBUG] 2018-01-05 16:11:00,714 Line:5853 3:
 [DEBUG] 2018-01-05 16:11:00,715 Line:5853 4:
 [DEBUG] 2018-01-05 16:11:00,715 Line:5853 5:
 [DEBUG] 2018-01-05 16:11:00,715 Line:5853 6:
 [DEBUG] 2018-01-05 16:11:00,715 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:11:00,715 Line:5853 8:
 [DEBUG] 2018-01-05 16:11:00,716 Line:5853 9:
 [DEBUG] 2018-01-05 16:11:00,716 Line:5853 10:
 [DEBUG] 2018-01-05 16:11:00,717 Line:5853 11:
 [DEBUG] 2018-01-05 16:11:00,717 Line:5853 12:
 [DEBUG] 2018-01-05 16:11:00,717 Line:5853 13:
 [DEBUG] 2018-01-05 16:11:00,717 Line:5853 14:
 [DEBUG] 2018-01-05 16:11:00,717 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:11:00,717 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:11:00,718 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:11:00,718 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:11:00,718 Line:5853 19:0
 [DEBUG] 2018-01-05 16:11:00,718 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:11:00,718 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:11:00,718 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:11:00,718 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:11:00,719 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:11:00,719 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:11:00,719 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:11:00,719 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:11:00,719 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:11:00,719 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:11:00,720 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:11:00,720 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:11:00,720 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:11:00,720 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:11:00,720 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:11:00,720 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:11:00,721 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:11:00,721 Line:5853 37:
 [DEBUG] 2018-01-05 16:11:00,721 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:11:00,722 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:11:00,723 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:11:00,723 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:11:00,723 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:11:00,723 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:11:00,723 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:11:00,724 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:11:00,724 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:11:00,724 Line:5853 47:0
 [DEBUG] 2018-01-05 16:11:00,724 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:11:00,724 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:11:00,724 Line:5853 50:0
 [DEBUG] 2018-01-05 16:11:00,725 Line:5853 51:
 [DEBUG] 2018-01-05 16:11:00,725 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:11:00,725 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:11:00,726 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:11:00,726 Line:5853 55:0
 [DEBUG] 2018-01-05 16:11:00,726 Line:5853 56:0
 [DEBUG] 2018-01-05 16:11:00,726 Line:5853 57:
 [DEBUG] 2018-01-05 16:11:00,726 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:11:00,727 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:11:00,727 Line:5853 60:
 [DEBUG] 2018-01-05 16:11:00,727 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:11:00,727 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:11:00,729 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:11:00,730 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,730 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:11:00,732 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,733 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:11:00,733 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,734 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:11:00,734 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,735 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:11:00,735 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,735 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:11:00,736 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,736 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:11:00,737 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,738 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:11:00,738 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,738 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,738 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:11:00,739 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,739 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:11:00,740 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,740 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:11:00,740 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,741 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,741 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:11:00,742 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:11:00,742 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:11:00,743 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,743 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:11:00,744 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,744 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,744 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:11:00,745 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:11:00,745 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:11:00,746 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,746 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:11:00,747 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,747 Line:988 1值：false
 [DEBUG] 2018-01-05 16:11:00,747 Line:988 2值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,748 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:11:00,748 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:11:00,748 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:11:00,749 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,749 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:11:00,749 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,749 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,750 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,750 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:11:00,751 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,751 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:11:00,752 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,752 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,752 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,753 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:11:00,753 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,754 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:11:00,754 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,754 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,755 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,755 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:11:00,756 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,756 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:11:00,756 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,756 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,757 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,757 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:11:00,758 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,758 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:11:00,759 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,759 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:11:00,759 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,759 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,760 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,760 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:11:00,761 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,761 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:11:00,762 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,762 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:11:00,762 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,762 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,763 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,763 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:11:00,764 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,764 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:11:00,764 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,764 Line:988 1值：1
 [DEBUG] 2018-01-05 16:11:00,764 Line:988 2值：0
 [DEBUG] 2018-01-05 16:11:00,765 Line:988 3值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,765 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:11:00,766 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:11:00,766 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:11:00,766 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:11:00,767 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,767 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:11:00,767 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,767 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,768 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,768 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:11:00,768 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,769 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:11:00,769 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,769 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,770 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,770 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:11:00,771 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,771 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:11:00,771 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,771 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,772 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,772 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:11:00,773 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,773 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:11:00,773 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,773 Line:988 1值：
 [DEBUG] 2018-01-05 16:11:00,774 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:11:00,774 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,774 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:11:00,775 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,775 Line:988 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,775 Line:988 2值：
 [DEBUG] 2018-01-05 16:11:00,775 Line:988 3值：
 [DEBUG] 2018-01-05 16:11:00,775 Line:988 4值：
 [DEBUG] 2018-01-05 16:11:00,776 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:11:00,776 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:11:00,778 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,778 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:11:00,778 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,778 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:11:00,778 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,780 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:11:00,780 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,780 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:11:00,780 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,781 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:11:00,781 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:11:00,781 Line:1157 2值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,782 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:11:00,782 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:11:00,782 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:11:00,783 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:11:00,783 Line:1157 2值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,783 Line:1157 3值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,784 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:11:00,784 Line:229 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:11:00,784 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:11:00,784 Line:1157 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,785 Line:1157 2值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,785 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:11:00,786 Line:229 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:11:00,788 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:11:00,788 Line:1157 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,788 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:11:00,788 Line:229 ************上述语句执行时间：0
 [DEBUG] 2018-01-05 16:11:00,788 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:11:00,790 Line:1157 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,790 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:11:00,790 Line:229 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:11:00,791 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:11:00,791 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,792 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:11:00,792 Line:1157 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,792 Line:1157 2值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,793 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:11:00,793 Line:408 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:11:00,793 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:11:00,794 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,794 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:11:00,795 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,796 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:11:00,796 Line:1270 0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,796 Line:1270 add
 [DEBUG] 2018-01-05 16:11:00,797 Line:425 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:11:00,797 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:11:00,799 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,800 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:11:00,801 Line:1157 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,801 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:11:00,801 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:11:00,802 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:11:00,802 Line:1157 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,802 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:11:00,803 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:11:00,803 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:11:00,803 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,804 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:11:00,804 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,804 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:11:00,805 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,807 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:11:00,808 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,808 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:11:00,809 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,809 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:11:00,809 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,810 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:11:00,810 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,811 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:11:00,811 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,812 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:11:00,812 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,813 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:11:00,813 Line:1157 1值：0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,814 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:11:00,814 Line:408 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:11:00,814 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:11:00,815 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,816 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:11:00,816 Line:1270 0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,816 Line:1270 add
 [DEBUG] 2018-01-05 16:11:00,817 Line:425 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:11:00,817 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:11:00,818 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,819 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:11:00,819 Line:1270 1
 [DEBUG] 2018-01-05 16:11:00,819 Line:1270 2018
 [DEBUG] 2018-01-05 16:11:00,819 Line:1270 1
 [DEBUG] 2018-01-05 16:11:00,819 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:11:00,819 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:11:00,819 Line:1270 0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,820 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:11:00,820 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:11:00,820 Line:1270 BI1801050006
 [DEBUG] 2018-01-05 16:11:00,820 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:11:00,820 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:11:00,820 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:11:00,820 Line:1270 1
 [DEBUG] 2018-01-05 16:11:00,821 Line:1270 1
 [DEBUG] 2018-01-05 16:11:00,821 Line:1270 2018-01-05 16:11:00
 [DEBUG] 2018-01-05 16:11:00,821 Line:1270 2018-01-05 16:11:00
 [DEBUG] 2018-01-05 16:11:00,821 Line:1270 00001
 [DEBUG] 2018-01-05 16:11:00,821 Line:1270 
 [DEBUG] 2018-01-05 16:11:00,821 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:11:00,822 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:11:00,822 Line:1270 00003
 [DEBUG] 2018-01-05 16:11:00,822 Line:1270 1
 [DEBUG] 2018-01-05 16:11:00,822 Line:1270 00101
 [DEBUG] 2018-01-05 16:11:00,822 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:11:00,822 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:11:00,822 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:11:00,823 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:11:00,823 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:11:00,823 Line:1270 0
 [DEBUG] 2018-01-05 16:11:00,823 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:11:00,823 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:11:00,823 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:11:00,823 Line:1270 f_ref='0e7d2067_1801051611006940014'
 [DEBUG] 2018-01-05 16:11:00,834 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051611006940014','2018-01-05','BI1801050006','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:11:00','2018-01-05 16:11:00','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051611006940014' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:11:00,834 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:11:00,834 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:11:00,834 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:11:00,834 Line:425 ************上述语句执行时间：16
 [DEBUG] 2018-01-05 16:11:00,834 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:11:00,835 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,835 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:11:00,836 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,836 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:11:00,837 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,837 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:11:00,837 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:11:00,838 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,839 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:11:00,839 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,840 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:11:00,841 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,841 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:11:00,841 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,842 Line:988 1值：1
 [DEBUG] 2018-01-05 16:11:00,842 Line:988 2值：0
 [DEBUG] 2018-01-05 16:11:00,843 Line:988 3值：1
 [DEBUG] 2018-01-05 16:11:00,843 Line:988 4值：0
 [DEBUG] 2018-01-05 16:11:00,843 Line:988 5值：0
 [DEBUG] 2018-01-05 16:11:00,843 Line:988 6值：1
 [DEBUG] 2018-01-05 16:11:00,844 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:11:00,844 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:11:00,844 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:11:00,844 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:11:00,844 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:11:00,845 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,846 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:11:00,847 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:11:00,847 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:11:00,849 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:11:00,850 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:11:00,851 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:11:00,852 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:11:00,852 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:11:00,853 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:11:00,854 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:11:00,861 Line:434 ************上述语句执行时间：16
 [DEBUG] 2018-01-05 16:11:00,861 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:11:00,862 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,863 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:11:00,863 Line:1270 10e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,863 Line:1270 00003
 [DEBUG] 2018-01-05 16:11:00,863 Line:1270 1
 [DEBUG] 2018-01-05 16:11:00,864 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:11:00,864 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051611006940014@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:11:00@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:11:00@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:11:00,867 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051611006940014',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051611006940014','','1','0','1','1','2018-01-05 16:11:00','1','2018-01-05 16:11:00','00001','tblBuyInStock','BI1801050006','1','00101','0','')
 [DEBUG] 2018-01-05 16:11:00,867 Line:425 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:11:00,867 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:11:00,868 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,868 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:11:00,869 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,869 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:11:00,870 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,870 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:11:00,872 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,872 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:11:00,873 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,873 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:11:00,874 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,874 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:11:00,874 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:11:00,874 Line:988 1值：1
 [DEBUG] 2018-01-05 16:11:00,874 Line:988 2值：0
 [DEBUG] 2018-01-05 16:11:00,874 Line:988 3值：1
 [DEBUG] 2018-01-05 16:11:00,875 Line:988 4值：0
 [DEBUG] 2018-01-05 16:11:00,875 Line:988 5值：0
 [DEBUG] 2018-01-05 16:11:00,875 Line:988 6值：0
 [DEBUG] 2018-01-05 16:11:00,876 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:11:00,876 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:11:00,876 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:11:00,876 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:11:00,876 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:11:00,877 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,877 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:11:00,878 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,878 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:11:00,879 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,879 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:11:00,880 Line:321 flag:false
 [DEBUG] 2018-01-05 16:11:00,880 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:11:00,880 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,881 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:11:00,881 Line:1270 0e7d2067_1801051611006940014
 [DEBUG] 2018-01-05 16:11:00,881 Line:1270 add
 [DEBUG] 2018-01-05 16:11:00,883 Line:425 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:11:00,883 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:11:00,884 Line:321 flag:true
 [DEBUG] 2018-01-05 16:11:00,884 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:11:00,899 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:11:00,900 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:11:00,900 Line:443 ************上述语句执行时间：16
 [DEBUG] 2018-01-05 16:11:00,900 Line:313 exeCondition:tblBuyInStock_Add : \"25\" == '25' 
 [ERROR] 2018-01-05 16:11:00,909 Line:318 DefineSQLBean.execute javaScript Error exeCondition= @SqlReturn:Hivecount == '25'  :result= \"25\" == '25' 
 [ERROR] 2018-01-05 16:11:00,910 Line:500 DefineSQLBean execute() 
 org.apache.bsf.BSFException: JavaScript Error: illegal character
	at org.apache.bsf.engines.javascript.JavaScriptEngine.handleError(JavaScriptEngine.java:195)
	at org.apache.bsf.engines.javascript.JavaScriptEngine.eval(JavaScriptEngine.java:147)
	at org.apache.bsf.BSFManager$5.run(BSFManager.java:445)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.bsf.BSFManager.eval(BSFManager.java:442)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:316)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2018-01-05 16:11:00,911 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=JavaScript Error: illegal character
 [DEBUG] 2018-01-05 16:12:00,691 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB45DC136700F663018AD219FA989EC390
 [ERROR] 2018-01-05 16:12:00,741 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:12:04,487 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:12:04,489 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050006,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:12:04,490 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:12:04,501 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:12:04,501 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:12:04,502 Line:5853 2:
 [DEBUG] 2018-01-05 16:12:04,503 Line:5853 3:0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,505 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:12:04,506 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:12:04,506 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:12:04,506 Line:5853 7:0
 [DEBUG] 2018-01-05 16:12:04,507 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:12:04,507 Line:5853 9:BI1801050006
 [DEBUG] 2018-01-05 16:12:04,507 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:12:04,507 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:12:04,507 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:12:04,508 Line:5853 13:1
 [DEBUG] 2018-01-05 16:12:04,509 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:12:04,509 Line:5853 15:3
 [DEBUG] 2018-01-05 16:12:04,509 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:12:04,510 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:12:04,510 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:12:04,510 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:12:04,510 Line:5853 20:
 [DEBUG] 2018-01-05 16:12:04,510 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:12:04,510 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:12:04,511 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:12:04,511 Line:5853 24:
 [DEBUG] 2018-01-05 16:12:04,511 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:12:04,511 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:12:04,511 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:12:04,511 Line:5853 28:
 [DEBUG] 2018-01-05 16:12:04,511 Line:5853 29:1
 [DEBUG] 2018-01-05 16:12:04,512 Line:5853 30:1
 [DEBUG] 2018-01-05 16:12:04,512 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:12:04,512 Line:5853 32:
 [DEBUG] 2018-01-05 16:12:04,512 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:12:04,512 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:12:04,512 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:12:04,512 Line:5853 36:
 [DEBUG] 2018-01-05 16:12:04,513 Line:5853 37:
 [DEBUG] 2018-01-05 16:12:04,513 Line:5853 38:
 [DEBUG] 2018-01-05 16:12:04,513 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:12:04,513 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:12:04,513 Line:5853 41:
 [DEBUG] 2018-01-05 16:12:04,513 Line:5853 42:
 [DEBUG] 2018-01-05 16:12:04,513 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:12:04,514 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:12:04,514 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:12:04,514 Line:5853 46:
 [DEBUG] 2018-01-05 16:12:04,514 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:12:04,514 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:12:04,514 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:12:04,514 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:12:04,515 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:12:04,515 Line:5853 52:
 [DEBUG] 2018-01-05 16:12:04,515 Line:5853 53:
 [DEBUG] 2018-01-05 16:12:04,515 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:12:04,515 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:12:04,516 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:12:04,516 Line:5853 57:0
 [DEBUG] 2018-01-05 16:12:04,516 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:12:04,516 Line:5853 59:0
 [DEBUG] 2018-01-05 16:12:04,517 Line:5853 60:2018-01-05 16:12:04
 [DEBUG] 2018-01-05 16:12:04,517 Line:5853 61:1
 [DEBUG] 2018-01-05 16:12:04,518 Line:5853 62:2018-01-05 16:12:04
 [DEBUG] 2018-01-05 16:12:04,518 Line:5853 63:1
 [DEBUG] 2018-01-05 16:12:04,518 Line:5853 64:2018-01-05 16:12:04
 [DEBUG] 2018-01-05 16:12:04,522 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:12:04,522 Line:5853 1:0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,523 Line:5853 2:0e7d2067_1801051612045220020
 [DEBUG] 2018-01-05 16:12:04,523 Line:5853 3:
 [DEBUG] 2018-01-05 16:12:04,523 Line:5853 4:
 [DEBUG] 2018-01-05 16:12:04,523 Line:5853 5:
 [DEBUG] 2018-01-05 16:12:04,523 Line:5853 6:
 [DEBUG] 2018-01-05 16:12:04,523 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:12:04,524 Line:5853 8:
 [DEBUG] 2018-01-05 16:12:04,524 Line:5853 9:
 [DEBUG] 2018-01-05 16:12:04,524 Line:5853 10:
 [DEBUG] 2018-01-05 16:12:04,524 Line:5853 11:
 [DEBUG] 2018-01-05 16:12:04,524 Line:5853 12:
 [DEBUG] 2018-01-05 16:12:04,524 Line:5853 13:
 [DEBUG] 2018-01-05 16:12:04,525 Line:5853 14:
 [DEBUG] 2018-01-05 16:12:04,525 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:12:04,525 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:12:04,525 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:12:04,525 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:12:04,525 Line:5853 19:0
 [DEBUG] 2018-01-05 16:12:04,525 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:12:04,526 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:12:04,526 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:12:04,526 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:12:04,526 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:12:04,526 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:12:04,526 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:12:04,526 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:12:04,527 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:12:04,527 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:12:04,527 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:12:04,527 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:12:04,527 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:12:04,527 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:12:04,527 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:12:04,528 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:12:04,528 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:12:04,528 Line:5853 37:
 [DEBUG] 2018-01-05 16:12:04,528 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:12:04,528 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:12:04,528 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:12:04,528 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:12:04,529 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:12:04,529 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:12:04,529 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:12:04,529 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:12:04,529 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:12:04,529 Line:5853 47:0
 [DEBUG] 2018-01-05 16:12:04,529 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:12:04,529 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:12:04,530 Line:5853 50:0
 [DEBUG] 2018-01-05 16:12:04,530 Line:5853 51:
 [DEBUG] 2018-01-05 16:12:04,530 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:12:04,530 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:12:04,530 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:12:04,530 Line:5853 55:0
 [DEBUG] 2018-01-05 16:12:04,530 Line:5853 56:0
 [DEBUG] 2018-01-05 16:12:04,531 Line:5853 57:
 [DEBUG] 2018-01-05 16:12:04,531 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:12:04,531 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:12:04,531 Line:5853 60:
 [DEBUG] 2018-01-05 16:12:04,531 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:12:04,531 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:12:04,537 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:12:04,538 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,538 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:12:04,539 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,539 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:12:04,540 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,540 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:12:04,541 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,541 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:12:04,542 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,542 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:12:04,543 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,543 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:12:04,544 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:04,545 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:12:04,545 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,545 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,545 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:12:04,551 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:12:04,552 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:04,553 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,553 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:12:04,553 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,553 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,553 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:12:04,562 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 16:12:04,563 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:04,564 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,564 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:12:04,564 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,565 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,565 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:12:04,573 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 16:12:04,573 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:04,574 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,574 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:12:04,574 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,575 Line:988 1值：false
 [DEBUG] 2018-01-05 16:12:04,575 Line:988 2值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,579 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:12:04,580 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:12:04,580 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:12:04,580 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,581 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:12:04,581 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,581 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,589 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 16:12:04,589 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:04,590 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,590 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:12:04,590 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,591 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,598 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 16:12:04,598 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:04,599 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,599 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:12:04,599 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,599 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,605 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:12:04,606 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:04,607 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,607 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:12:04,607 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,607 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,614 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 16:12:04,614 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:12:04,615 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,616 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:12:04,616 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,616 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:12:04,617 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,617 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,624 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 16:12:04,624 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:04,625 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,625 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:12:04,626 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,626 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:12:04,626 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,627 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,632 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:12:04,632 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:04,634 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,635 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:12:04,635 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,635 Line:988 1值：1
 [DEBUG] 2018-01-05 16:12:04,635 Line:988 2值：0
 [DEBUG] 2018-01-05 16:12:04,635 Line:988 3值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,648 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:12:04,649 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:12:04,649 Line:1043 ---上述语句时间---14
 [DEBUG] 2018-01-05 16:12:04,649 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:12:04,650 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,650 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:12:04,650 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,650 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,658 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 16:12:04,658 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:04,659 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,660 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:12:04,660 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,660 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,665 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:12:04,666 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:04,666 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,667 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:12:04,667 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,667 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,670 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:12:04,670 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:12:04,671 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,672 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:12:04,672 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,672 Line:988 1值：
 [DEBUG] 2018-01-05 16:12:04,672 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:12:04,675 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:12:04,675 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:12:04,675 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:04,676 Line:988 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,676 Line:988 2值：
 [DEBUG] 2018-01-05 16:12:04,676 Line:988 3值：
 [DEBUG] 2018-01-05 16:12:04,677 Line:988 4值：
 [DEBUG] 2018-01-05 16:12:04,680 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:12:04,680 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:12:04,681 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,681 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:04,682 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,683 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:12:04,683 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,684 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:12:04,685 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,685 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:12:04,686 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:04,687 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:12:04,687 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:12:04,689 Line:1157 2值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,695 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:04,695 Line:229 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 16:12:04,696 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:12:04,696 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:12:04,696 Line:1157 2值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,696 Line:1157 3值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,708 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:04,708 Line:229 ************上述语句执行时间：12
 [DEBUG] 2018-01-05 16:12:04,708 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:12:04,709 Line:1157 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,709 Line:1157 2值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,719 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:04,720 Line:229 ************上述语句执行时间：12
 [DEBUG] 2018-01-05 16:12:04,720 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:12:04,720 Line:1157 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,725 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:04,726 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:12:04,726 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:12:04,726 Line:1157 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,732 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:04,733 Line:229 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 16:12:04,733 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:12:04,733 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:04,734 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:12:04,734 Line:1157 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,734 Line:1157 2值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,744 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:04,744 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 16:12:04,745 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:12:04,745 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,746 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:12:04,746 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:04,746 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:04,747 Line:1270 0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,747 Line:1270 add
 [DEBUG] 2018-01-05 16:12:04,812 Line:425 ************上述语句执行时间：66
 [DEBUG] 2018-01-05 16:12:04,813 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:12:04,813 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:04,814 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:12:04,814 Line:1157 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,826 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:12:04,826 Line:408 ************上述语句执行时间：12
 [DEBUG] 2018-01-05 16:12:04,826 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:12:04,827 Line:1157 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,838 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:12:04,838 Line:408 ************上述语句执行时间：12
 [DEBUG] 2018-01-05 16:12:04,839 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:12:04,839 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,840 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:12:04,840 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,840 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:12:04,841 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:04,847 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:12:04,848 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,848 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:12:04,849 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,849 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:12:04,849 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,849 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:12:04,850 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,850 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:12:04,851 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:04,851 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:04,851 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:04,852 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:12:04,852 Line:1157 1值：0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,858 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:12:04,858 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:12:04,858 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:04,859 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:04,859 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:04,860 Line:1270 0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,860 Line:1270 add
 [DEBUG] 2018-01-05 16:12:04,905 Line:425 ************上述语句执行时间：46
 [DEBUG] 2018-01-05 16:12:04,905 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:12:04,906 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:04,906 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:12:04,906 Line:1270 1
 [DEBUG] 2018-01-05 16:12:04,906 Line:1270 2018
 [DEBUG] 2018-01-05 16:12:04,907 Line:1270 1
 [DEBUG] 2018-01-05 16:12:04,907 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:12:04,907 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:12:04,907 Line:1270 0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:04,907 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:12:04,907 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:12:04,907 Line:1270 BI1801050006
 [DEBUG] 2018-01-05 16:12:04,908 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:12:04,908 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:12:04,908 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:12:04,908 Line:1270 1
 [DEBUG] 2018-01-05 16:12:04,908 Line:1270 1
 [DEBUG] 2018-01-05 16:12:04,908 Line:1270 2018-01-05 16:12:04
 [DEBUG] 2018-01-05 16:12:04,908 Line:1270 2018-01-05 16:12:04
 [DEBUG] 2018-01-05 16:12:04,909 Line:1270 00001
 [DEBUG] 2018-01-05 16:12:04,909 Line:1270 
 [DEBUG] 2018-01-05 16:12:04,909 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:12:04,909 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:12:04,909 Line:1270 00003
 [DEBUG] 2018-01-05 16:12:04,909 Line:1270 1
 [DEBUG] 2018-01-05 16:12:04,909 Line:1270 00101
 [DEBUG] 2018-01-05 16:12:04,910 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:12:04,910 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:12:04,910 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:12:04,910 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:12:04,910 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:12:04,910 Line:1270 0
 [DEBUG] 2018-01-05 16:12:04,911 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:12:04,911 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:12:04,911 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:12:04,911 Line:1270 f_ref='0e7d2067_1801051612044970019'
 [DEBUG] 2018-01-05 16:12:05,057 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051612044970019','2018-01-05','BI1801050006','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:12:04','2018-01-05 16:12:04','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051612044970019' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:12:05,057 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:12:05,057 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:12:05,058 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:12:05,058 Line:425 ************上述语句执行时间：152
 [DEBUG] 2018-01-05 16:12:05,058 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:12:05,059 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,059 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:05,060 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:05,061 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:12:05,061 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:05,062 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:12:05,062 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:12:05,063 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,063 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:12:05,064 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,064 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:12:05,065 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,065 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:12:05,065 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:05,065 Line:988 1值：1
 [DEBUG] 2018-01-05 16:12:05,066 Line:988 2值：0
 [DEBUG] 2018-01-05 16:12:05,066 Line:988 3值：1
 [DEBUG] 2018-01-05 16:12:05,066 Line:988 4值：0
 [DEBUG] 2018-01-05 16:12:05,066 Line:988 5值：0
 [DEBUG] 2018-01-05 16:12:05,066 Line:988 6值：1
 [DEBUG] 2018-01-05 16:12:05,067 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:12:05,068 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:12:05,068 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:12:05,068 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:12:05,068 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:12:05,069 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:05,072 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:12:05,078 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:12:05,088 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:05,096 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:05,106 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:05,115 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:05,123 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:05,132 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:05,145 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:05,157 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:12:05,252 Line:434 ************上述语句执行时间：183
 [DEBUG] 2018-01-05 16:12:05,252 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:12:05,253 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:05,254 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:05,254 Line:1270 10e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:05,254 Line:1270 00003
 [DEBUG] 2018-01-05 16:12:05,254 Line:1270 1
 [DEBUG] 2018-01-05 16:12:05,254 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:12:05,255 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051612044970019@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:12:04@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:12:04@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:12:05,296 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051612044970019',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051612044970019','','1','0','1','1','2018-01-05 16:12:04','1','2018-01-05 16:12:04','00001','tblBuyInStock','BI1801050006','1','00101','0','')
 [DEBUG] 2018-01-05 16:12:05,296 Line:425 ************上述语句执行时间：43
 [DEBUG] 2018-01-05 16:12:05,296 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:12:05,297 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,297 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:12:05,298 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,298 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:12:05,299 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,299 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:12:05,301 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,301 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:12:05,302 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,302 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:12:05,303 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,304 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:12:05,304 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:05,304 Line:988 1值：1
 [DEBUG] 2018-01-05 16:12:05,304 Line:988 2值：0
 [DEBUG] 2018-01-05 16:12:05,304 Line:988 3值：1
 [DEBUG] 2018-01-05 16:12:05,305 Line:988 4值：0
 [DEBUG] 2018-01-05 16:12:05,305 Line:988 5值：0
 [DEBUG] 2018-01-05 16:12:05,305 Line:988 6值：0
 [DEBUG] 2018-01-05 16:12:05,306 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:12:05,306 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:12:05,307 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:12:05,307 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:12:05,307 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:12:05,308 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,308 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:12:05,309 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,309 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:12:05,310 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,310 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:12:05,311 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:05,311 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:05,312 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:05,312 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:05,312 Line:1270 0e7d2067_1801051612044970019
 [DEBUG] 2018-01-05 16:12:05,313 Line:1270 add
 [DEBUG] 2018-01-05 16:12:05,320 Line:425 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 16:12:05,320 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:12:05,321 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:05,321 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:12:05,454 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:12:05,454 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:12:05,454 Line:443 ************上述语句执行时间：133
 [DEBUG] 2018-01-05 16:12:05,455 Line:313 exeCondition:tblBuyInStock_Add : \"25\" == 25 
 [ERROR] 2018-01-05 16:12:05,455 Line:318 DefineSQLBean.execute javaScript Error exeCondition= @SqlReturn:Hivecount == 25  :result= \"25\" == 25 
 [ERROR] 2018-01-05 16:12:05,456 Line:500 DefineSQLBean execute() 
 org.apache.bsf.BSFException: JavaScript Error: illegal character
	at org.apache.bsf.engines.javascript.JavaScriptEngine.handleError(JavaScriptEngine.java:195)
	at org.apache.bsf.engines.javascript.JavaScriptEngine.eval(JavaScriptEngine.java:147)
	at org.apache.bsf.BSFManager$5.run(BSFManager.java:445)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.bsf.BSFManager.eval(BSFManager.java:442)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:316)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2018-01-05 16:12:05,456 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=JavaScript Error: illegal character
 [DEBUG] 2018-01-05 16:12:14,919 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB4A4BC2DB58671D2B1A9149AA833C7396
 [ERROR] 2018-01-05 16:12:14,992 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:12:22,289 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFBBD315382466D6AA85622FDE4212056BC
 [ERROR] 2018-01-05 16:12:22,341 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:12:25,129 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:12:25,130 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050006,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:12:25,132 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:12:25,177 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:12:25,177 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:12:25,177 Line:5853 2:
 [DEBUG] 2018-01-05 16:12:25,177 Line:5853 3:0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,177 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:12:25,178 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:12:25,178 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:12:25,178 Line:5853 7:0
 [DEBUG] 2018-01-05 16:12:25,179 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:12:25,179 Line:5853 9:BI1801050006
 [DEBUG] 2018-01-05 16:12:25,179 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:12:25,179 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:12:25,180 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:12:25,180 Line:5853 13:1
 [DEBUG] 2018-01-05 16:12:25,180 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:12:25,180 Line:5853 15:3
 [DEBUG] 2018-01-05 16:12:25,180 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:12:25,180 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:12:25,180 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:12:25,181 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:12:25,181 Line:5853 20:
 [DEBUG] 2018-01-05 16:12:25,181 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:12:25,181 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:12:25,181 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:12:25,181 Line:5853 24:
 [DEBUG] 2018-01-05 16:12:25,181 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:12:25,182 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:12:25,182 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:12:25,182 Line:5853 28:
 [DEBUG] 2018-01-05 16:12:25,182 Line:5853 29:1
 [DEBUG] 2018-01-05 16:12:25,182 Line:5853 30:1
 [DEBUG] 2018-01-05 16:12:25,182 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:12:25,182 Line:5853 32:
 [DEBUG] 2018-01-05 16:12:25,183 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:12:25,183 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:12:25,183 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:12:25,183 Line:5853 36:
 [DEBUG] 2018-01-05 16:12:25,183 Line:5853 37:
 [DEBUG] 2018-01-05 16:12:25,183 Line:5853 38:
 [DEBUG] 2018-01-05 16:12:25,183 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:12:25,184 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:12:25,184 Line:5853 41:
 [DEBUG] 2018-01-05 16:12:25,184 Line:5853 42:
 [DEBUG] 2018-01-05 16:12:25,184 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:12:25,184 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:12:25,184 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:12:25,184 Line:5853 46:
 [DEBUG] 2018-01-05 16:12:25,185 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:12:25,185 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:12:25,185 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:12:25,185 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:12:25,185 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:12:25,185 Line:5853 52:
 [DEBUG] 2018-01-05 16:12:25,186 Line:5853 53:
 [DEBUG] 2018-01-05 16:12:25,186 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:12:25,186 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:12:25,186 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:12:25,186 Line:5853 57:0
 [DEBUG] 2018-01-05 16:12:25,186 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:12:25,186 Line:5853 59:0
 [DEBUG] 2018-01-05 16:12:25,187 Line:5853 60:2018-01-05 16:12:25
 [DEBUG] 2018-01-05 16:12:25,187 Line:5853 61:1
 [DEBUG] 2018-01-05 16:12:25,187 Line:5853 62:2018-01-05 16:12:25
 [DEBUG] 2018-01-05 16:12:25,187 Line:5853 63:1
 [DEBUG] 2018-01-05 16:12:25,187 Line:5853 64:2018-01-05 16:12:25
 [DEBUG] 2018-01-05 16:12:25,191 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:12:25,191 Line:5853 1:0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,191 Line:5853 2:0e7d2067_1801051612251910026
 [DEBUG] 2018-01-05 16:12:25,192 Line:5853 3:
 [DEBUG] 2018-01-05 16:12:25,192 Line:5853 4:
 [DEBUG] 2018-01-05 16:12:25,192 Line:5853 5:
 [DEBUG] 2018-01-05 16:12:25,192 Line:5853 6:
 [DEBUG] 2018-01-05 16:12:25,192 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:12:25,192 Line:5853 8:
 [DEBUG] 2018-01-05 16:12:25,192 Line:5853 9:
 [DEBUG] 2018-01-05 16:12:25,193 Line:5853 10:
 [DEBUG] 2018-01-05 16:12:25,193 Line:5853 11:
 [DEBUG] 2018-01-05 16:12:25,193 Line:5853 12:
 [DEBUG] 2018-01-05 16:12:25,193 Line:5853 13:
 [DEBUG] 2018-01-05 16:12:25,193 Line:5853 14:
 [DEBUG] 2018-01-05 16:12:25,193 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:12:25,194 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:12:25,194 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:12:25,194 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:12:25,194 Line:5853 19:0
 [DEBUG] 2018-01-05 16:12:25,194 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:12:25,194 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:12:25,194 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:12:25,195 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:12:25,195 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:12:25,195 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:12:25,195 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:12:25,195 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:12:25,195 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:12:25,196 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:12:25,196 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:12:25,196 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:12:25,196 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:12:25,196 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:12:25,196 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:12:25,197 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:12:25,197 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:12:25,197 Line:5853 37:
 [DEBUG] 2018-01-05 16:12:25,197 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:12:25,197 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:12:25,197 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:12:25,198 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:12:25,198 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:12:25,198 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:12:25,198 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:12:25,198 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:12:25,198 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:12:25,199 Line:5853 47:0
 [DEBUG] 2018-01-05 16:12:25,199 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:12:25,199 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:12:25,199 Line:5853 50:0
 [DEBUG] 2018-01-05 16:12:25,199 Line:5853 51:
 [DEBUG] 2018-01-05 16:12:25,200 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:12:25,200 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:12:25,200 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:12:25,200 Line:5853 55:0
 [DEBUG] 2018-01-05 16:12:25,200 Line:5853 56:0
 [DEBUG] 2018-01-05 16:12:25,200 Line:5853 57:
 [DEBUG] 2018-01-05 16:12:25,201 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:12:25,201 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:12:25,201 Line:5853 60:
 [DEBUG] 2018-01-05 16:12:25,201 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:12:25,202 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:12:25,218 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:12:25,219 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,219 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:12:25,220 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,220 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:12:25,221 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,221 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:12:25,222 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,222 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:12:25,223 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,224 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:12:25,224 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,224 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:12:25,225 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,226 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:12:25,226 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,227 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,227 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:12:25,240 Line:1043 ---上述语句时间---14
 [DEBUG] 2018-01-05 16:12:25,241 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:25,241 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,242 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:12:25,242 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,242 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,242 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:12:25,257 Line:1043 ---上述语句时间---15
 [DEBUG] 2018-01-05 16:12:25,257 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:25,258 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,258 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:12:25,258 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,259 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,259 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:12:25,267 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 16:12:25,268 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:25,268 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,269 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:12:25,269 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,269 Line:988 1值：false
 [DEBUG] 2018-01-05 16:12:25,269 Line:988 2值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,279 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:12:25,279 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:12:25,280 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:12:25,280 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,281 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:12:25,281 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,281 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,286 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:12:25,286 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:25,287 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,287 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:12:25,287 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,288 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,298 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 16:12:25,298 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:25,299 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,299 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:12:25,300 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,300 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,304 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:12:25,304 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:25,305 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,305 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:12:25,305 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,305 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,309 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:12:25,309 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:12:25,310 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,310 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:12:25,311 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,311 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:12:25,311 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,311 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,316 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:12:25,316 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:25,317 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,317 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:12:25,318 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,318 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:12:25,318 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,319 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,321 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:12:25,322 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:25,323 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,323 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:12:25,323 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,324 Line:988 1值：1
 [DEBUG] 2018-01-05 16:12:25,324 Line:988 2值：0
 [DEBUG] 2018-01-05 16:12:25,325 Line:988 3值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,361 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:12:25,362 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:12:25,362 Line:1043 ---上述语句时间---39
 [DEBUG] 2018-01-05 16:12:25,362 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:12:25,363 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,363 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:12:25,363 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,363 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,373 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:12:25,373 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:25,374 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,375 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:12:25,375 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,376 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,379 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:12:25,379 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:25,380 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,380 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:12:25,380 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,381 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,384 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:12:25,384 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:12:25,385 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,386 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:12:25,386 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,387 Line:988 1值：
 [DEBUG] 2018-01-05 16:12:25,387 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:12:25,397 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 16:12:25,397 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:12:25,397 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,398 Line:988 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,398 Line:988 2值：
 [DEBUG] 2018-01-05 16:12:25,398 Line:988 3值：
 [DEBUG] 2018-01-05 16:12:25,398 Line:988 4值：
 [DEBUG] 2018-01-05 16:12:25,401 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:12:25,401 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:12:25,402 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,402 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:25,403 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,404 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:12:25,405 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,405 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:12:25,406 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,406 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:12:25,406 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,407 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:12:25,407 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:12:25,408 Line:1157 2值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,411 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:25,412 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:12:25,412 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:12:25,412 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:12:25,412 Line:1157 2值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,412 Line:1157 3值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,418 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:25,419 Line:229 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 16:12:25,419 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:12:25,419 Line:1157 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,419 Line:1157 2值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,424 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:25,424 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:12:25,424 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:12:25,425 Line:1157 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,427 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:25,427 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:12:25,427 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:12:25,428 Line:1157 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,431 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:25,431 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:12:25,431 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:12:25,432 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,432 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:12:25,432 Line:1157 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,432 Line:1157 2值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,435 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:25,436 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:12:25,436 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:12:25,437 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,437 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:12:25,438 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,438 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:25,438 Line:1270 0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,439 Line:1270 add
 [DEBUG] 2018-01-05 16:12:25,501 Line:425 ************上述语句执行时间：63
 [DEBUG] 2018-01-05 16:12:25,502 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:12:25,503 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,504 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:12:25,504 Line:1157 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,513 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:12:25,513 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:12:25,513 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:12:25,514 Line:1157 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,522 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:12:25,522 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:12:25,522 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:12:25,523 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,523 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:12:25,524 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,524 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:12:25,524 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,531 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:12:25,532 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,532 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:12:25,533 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,533 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:12:25,534 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,534 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:12:25,534 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,534 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:12:25,535 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,535 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:25,536 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,536 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:12:25,536 Line:1157 1值：0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,538 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:12:25,538 Line:408 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:12:25,539 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:25,539 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,539 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:25,540 Line:1270 0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,540 Line:1270 add
 [DEBUG] 2018-01-05 16:12:25,584 Line:425 ************上述语句执行时间：45
 [DEBUG] 2018-01-05 16:12:25,584 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:12:25,585 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,586 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:12:25,586 Line:1270 1
 [DEBUG] 2018-01-05 16:12:25,586 Line:1270 2018
 [DEBUG] 2018-01-05 16:12:25,586 Line:1270 1
 [DEBUG] 2018-01-05 16:12:25,587 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:12:25,587 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:12:25,587 Line:1270 0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,587 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:12:25,587 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:12:25,587 Line:1270 BI1801050006
 [DEBUG] 2018-01-05 16:12:25,587 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:12:25,588 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:12:25,588 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:12:25,588 Line:1270 1
 [DEBUG] 2018-01-05 16:12:25,588 Line:1270 1
 [DEBUG] 2018-01-05 16:12:25,588 Line:1270 2018-01-05 16:12:25
 [DEBUG] 2018-01-05 16:12:25,589 Line:1270 2018-01-05 16:12:25
 [DEBUG] 2018-01-05 16:12:25,589 Line:1270 00001
 [DEBUG] 2018-01-05 16:12:25,589 Line:1270 
 [DEBUG] 2018-01-05 16:12:25,589 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:12:25,589 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:12:25,589 Line:1270 00003
 [DEBUG] 2018-01-05 16:12:25,589 Line:1270 1
 [DEBUG] 2018-01-05 16:12:25,590 Line:1270 00101
 [DEBUG] 2018-01-05 16:12:25,590 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:12:25,590 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:12:25,590 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:12:25,590 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:12:25,590 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:12:25,590 Line:1270 0
 [DEBUG] 2018-01-05 16:12:25,591 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:12:25,591 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:12:25,591 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:12:25,591 Line:1270 f_ref='0e7d2067_1801051612251520025'
 [DEBUG] 2018-01-05 16:12:25,740 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051612251520025','2018-01-05','BI1801050006','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:12:25','2018-01-05 16:12:25','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051612251520025' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:12:25,740 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:12:25,741 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:12:25,741 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:12:25,741 Line:425 ************上述语句执行时间：156
 [DEBUG] 2018-01-05 16:12:25,741 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:12:25,743 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,743 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:25,744 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,745 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:12:25,746 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,747 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:12:25,747 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:12:25,748 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,748 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:12:25,749 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,749 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:12:25,750 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,750 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:12:25,750 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,750 Line:988 1值：1
 [DEBUG] 2018-01-05 16:12:25,750 Line:988 2值：0
 [DEBUG] 2018-01-05 16:12:25,750 Line:988 3值：1
 [DEBUG] 2018-01-05 16:12:25,751 Line:988 4值：0
 [DEBUG] 2018-01-05 16:12:25,751 Line:988 5值：0
 [DEBUG] 2018-01-05 16:12:25,751 Line:988 6值：1
 [DEBUG] 2018-01-05 16:12:25,752 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:12:25,752 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:12:25,752 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:12:25,752 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:12:25,753 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:12:25,753 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,757 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:12:25,760 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:12:25,766 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:25,772 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:25,778 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:25,784 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:25,791 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:25,797 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:25,808 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:25,816 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:12:25,905 Line:434 ************上述语句执行时间：152
 [DEBUG] 2018-01-05 16:12:25,906 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:12:25,907 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,907 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:25,907 Line:1270 10e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,908 Line:1270 00003
 [DEBUG] 2018-01-05 16:12:25,908 Line:1270 1
 [DEBUG] 2018-01-05 16:12:25,908 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:12:25,908 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051612251520025@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:12:25@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:12:25@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:12:25,953 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051612251520025',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051612251520025','','1','0','1','1','2018-01-05 16:12:25','1','2018-01-05 16:12:25','00001','tblBuyInStock','BI1801050006','1','00101','0','')
 [DEBUG] 2018-01-05 16:12:25,953 Line:425 ************上述语句执行时间：46
 [DEBUG] 2018-01-05 16:12:25,953 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:12:25,954 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,954 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:12:25,955 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,955 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:12:25,955 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,956 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:12:25,956 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,956 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:12:25,957 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,957 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:12:25,958 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,958 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:12:25,958 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:25,958 Line:988 1值：1
 [DEBUG] 2018-01-05 16:12:25,958 Line:988 2值：0
 [DEBUG] 2018-01-05 16:12:25,959 Line:988 3值：1
 [DEBUG] 2018-01-05 16:12:25,959 Line:988 4值：0
 [DEBUG] 2018-01-05 16:12:25,959 Line:988 5值：0
 [DEBUG] 2018-01-05 16:12:25,959 Line:988 6值：0
 [DEBUG] 2018-01-05 16:12:25,960 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:12:25,961 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:12:25,961 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:12:25,961 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:12:25,961 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:12:25,962 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,962 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:12:25,962 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,963 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:12:25,963 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,964 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:12:25,964 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,965 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:25,965 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,966 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:25,966 Line:1270 0e7d2067_1801051612251520025
 [DEBUG] 2018-01-05 16:12:25,966 Line:1270 add
 [DEBUG] 2018-01-05 16:12:25,973 Line:425 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 16:12:25,973 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:12:25,974 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,974 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:12:25,994 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:12:25,995 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:12:25,996 Line:443 ************上述语句执行时间：22
 [DEBUG] 2018-01-05 16:12:25,996 Line:313 exeCondition:tblBuyInStock_Add : '\"25\"' == 25 
 [DEBUG] 2018-01-05 16:12:25,997 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:25,997 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:12:25,998 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:25,998 Line:372 ---error，返回信息：'"25"'url=
 [ERROR] 2018-01-05 16:12:25,998 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg='"25"'
 [DEBUG] 2018-01-05 16:12:42,408 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB0B42F90ADFCCEE765622FDE4212056BC
 [ERROR] 2018-01-05 16:12:42,455 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:12:48,337 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB0B42F90ADFCCEE7617BB8C487E591A94
 [ERROR] 2018-01-05 16:12:48,388 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:12:51,481 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:12:51,483 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050006,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:12:51,484 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:12:51,488 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:12:51,489 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:12:51,489 Line:5853 2:
 [DEBUG] 2018-01-05 16:12:51,490 Line:5853 3:0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,490 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:12:51,490 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:12:51,490 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:12:51,491 Line:5853 7:0
 [DEBUG] 2018-01-05 16:12:51,491 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:12:51,491 Line:5853 9:BI1801050006
 [DEBUG] 2018-01-05 16:12:51,491 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:12:51,491 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:12:51,491 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:12:51,492 Line:5853 13:1
 [DEBUG] 2018-01-05 16:12:51,492 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:12:51,492 Line:5853 15:3
 [DEBUG] 2018-01-05 16:12:51,492 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:12:51,492 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:12:51,492 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:12:51,493 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:12:51,493 Line:5853 20:
 [DEBUG] 2018-01-05 16:12:51,493 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:12:51,493 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:12:51,494 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:12:51,494 Line:5853 24:
 [DEBUG] 2018-01-05 16:12:51,494 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:12:51,494 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:12:51,494 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:12:51,495 Line:5853 28:
 [DEBUG] 2018-01-05 16:12:51,495 Line:5853 29:1
 [DEBUG] 2018-01-05 16:12:51,495 Line:5853 30:1
 [DEBUG] 2018-01-05 16:12:51,495 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:12:51,495 Line:5853 32:
 [DEBUG] 2018-01-05 16:12:51,495 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:12:51,495 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:12:51,496 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:12:51,496 Line:5853 36:
 [DEBUG] 2018-01-05 16:12:51,496 Line:5853 37:
 [DEBUG] 2018-01-05 16:12:51,496 Line:5853 38:
 [DEBUG] 2018-01-05 16:12:51,496 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:12:51,497 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:12:51,497 Line:5853 41:
 [DEBUG] 2018-01-05 16:12:51,497 Line:5853 42:
 [DEBUG] 2018-01-05 16:12:51,497 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:12:51,497 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:12:51,497 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:12:51,498 Line:5853 46:
 [DEBUG] 2018-01-05 16:12:51,498 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:12:51,498 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:12:51,498 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:12:51,498 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:12:51,499 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:12:51,500 Line:5853 52:
 [DEBUG] 2018-01-05 16:12:51,501 Line:5853 53:
 [DEBUG] 2018-01-05 16:12:51,501 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:12:51,501 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:12:51,501 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:12:51,502 Line:5853 57:0
 [DEBUG] 2018-01-05 16:12:51,502 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:12:51,502 Line:5853 59:0
 [DEBUG] 2018-01-05 16:12:51,502 Line:5853 60:2018-01-05 16:12:51
 [DEBUG] 2018-01-05 16:12:51,502 Line:5853 61:1
 [DEBUG] 2018-01-05 16:12:51,502 Line:5853 62:2018-01-05 16:12:51
 [DEBUG] 2018-01-05 16:12:51,502 Line:5853 63:1
 [DEBUG] 2018-01-05 16:12:51,503 Line:5853 64:2018-01-05 16:12:51
 [DEBUG] 2018-01-05 16:12:51,504 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:12:51,504 Line:5853 1:0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,504 Line:5853 2:0e7d2067_1801051612515030032
 [DEBUG] 2018-01-05 16:12:51,505 Line:5853 3:
 [DEBUG] 2018-01-05 16:12:51,505 Line:5853 4:
 [DEBUG] 2018-01-05 16:12:51,506 Line:5853 5:
 [DEBUG] 2018-01-05 16:12:51,506 Line:5853 6:
 [DEBUG] 2018-01-05 16:12:51,506 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:12:51,506 Line:5853 8:
 [DEBUG] 2018-01-05 16:12:51,507 Line:5853 9:
 [DEBUG] 2018-01-05 16:12:51,507 Line:5853 10:
 [DEBUG] 2018-01-05 16:12:51,507 Line:5853 11:
 [DEBUG] 2018-01-05 16:12:51,507 Line:5853 12:
 [DEBUG] 2018-01-05 16:12:51,508 Line:5853 13:
 [DEBUG] 2018-01-05 16:12:51,508 Line:5853 14:
 [DEBUG] 2018-01-05 16:12:51,508 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:12:51,508 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:12:51,508 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:12:51,508 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:12:51,508 Line:5853 19:0
 [DEBUG] 2018-01-05 16:12:51,509 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:12:51,509 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:12:51,509 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:12:51,509 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:12:51,509 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:12:51,509 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:12:51,509 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:12:51,510 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:12:51,510 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:12:51,510 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:12:51,510 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:12:51,510 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:12:51,510 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:12:51,510 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:12:51,511 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:12:51,511 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:12:51,511 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:12:51,511 Line:5853 37:
 [DEBUG] 2018-01-05 16:12:51,511 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:12:51,511 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:12:51,511 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:12:51,511 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:12:51,512 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:12:51,512 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:12:51,512 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:12:51,512 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:12:51,512 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:12:51,512 Line:5853 47:0
 [DEBUG] 2018-01-05 16:12:51,512 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:12:51,513 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:12:51,513 Line:5853 50:0
 [DEBUG] 2018-01-05 16:12:51,513 Line:5853 51:
 [DEBUG] 2018-01-05 16:12:51,513 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:12:51,513 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:12:51,513 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:12:51,513 Line:5853 55:0
 [DEBUG] 2018-01-05 16:12:51,513 Line:5853 56:0
 [DEBUG] 2018-01-05 16:12:51,514 Line:5853 57:
 [DEBUG] 2018-01-05 16:12:51,514 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:12:51,514 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:12:51,514 Line:5853 60:
 [DEBUG] 2018-01-05 16:12:51,514 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:12:51,514 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:12:51,516 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:12:51,517 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,517 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:12:51,518 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,518 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:12:51,519 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,519 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:12:51,520 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,520 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:12:51,522 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,522 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:12:51,523 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,523 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:12:51,524 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,525 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:12:51,525 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,526 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,526 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:12:51,527 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:12:51,527 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:51,528 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,528 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:12:51,528 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,529 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,529 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:12:51,529 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:12:51,530 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:51,531 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,531 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:12:51,532 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,532 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,532 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:12:51,533 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:12:51,533 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:51,535 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,535 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:12:51,535 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,538 Line:988 1值：false
 [DEBUG] 2018-01-05 16:12:51,538 Line:988 2值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,539 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:12:51,539 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:12:51,540 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:12:51,540 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,542 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:12:51,542 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,542 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,542 Line:1043 ---上述语句时间---0
 [DEBUG] 2018-01-05 16:12:51,542 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:51,543 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,543 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:12:51,543 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,544 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,544 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:12:51,544 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:51,545 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,545 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:12:51,545 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,546 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,546 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:12:51,546 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:51,548 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,548 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:12:51,548 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,549 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,549 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:12:51,549 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:12:51,550 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,551 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:12:51,551 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,551 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:12:51,552 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,552 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,552 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:12:51,553 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:51,553 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,554 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:12:51,554 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,554 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:12:51,555 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,555 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,556 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:12:51,556 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:51,557 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,557 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:12:51,557 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,558 Line:988 1值：1
 [DEBUG] 2018-01-05 16:12:51,558 Line:988 2值：0
 [DEBUG] 2018-01-05 16:12:51,558 Line:988 3值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,559 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:12:51,559 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:12:51,560 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:12:51,560 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:12:51,560 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,561 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:12:51,561 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,561 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,562 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:12:51,562 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:51,563 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,563 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:12:51,564 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,564 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,564 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:12:51,565 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:12:51,565 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,566 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:12:51,566 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,566 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,567 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:12:51,567 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:12:51,568 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,568 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:12:51,568 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,568 Line:988 1值：
 [DEBUG] 2018-01-05 16:12:51,568 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:12:51,569 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:12:51,569 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:12:51,570 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,570 Line:988 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,570 Line:988 2值：
 [DEBUG] 2018-01-05 16:12:51,570 Line:988 3值：
 [DEBUG] 2018-01-05 16:12:51,570 Line:988 4值：
 [DEBUG] 2018-01-05 16:12:51,571 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:12:51,571 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:12:51,572 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,572 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:12:51,573 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,573 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:12:51,574 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,574 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:12:51,575 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,575 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:12:51,576 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,576 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:12:51,576 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:12:51,577 Line:1157 2值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,577 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:51,577 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:12:51,577 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:12:51,578 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:12:51,578 Line:1157 2值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,578 Line:1157 3值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,578 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:51,579 Line:229 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:12:51,579 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:12:51,579 Line:1157 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,579 Line:1157 2值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,579 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:51,580 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:12:51,580 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:12:51,580 Line:1157 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,580 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:51,580 Line:229 ************上述语句执行时间：0
 [DEBUG] 2018-01-05 16:12:51,581 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:12:51,581 Line:1157 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,581 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:51,581 Line:229 ************上述语句执行时间：0
 [DEBUG] 2018-01-05 16:12:51,582 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:12:51,582 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,583 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:12:51,583 Line:1157 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,583 Line:1157 2值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,584 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:12:51,584 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:12:51,584 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:12:51,585 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,585 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:12:51,585 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,586 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:51,586 Line:1270 0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,586 Line:1270 add
 [DEBUG] 2018-01-05 16:12:51,587 Line:425 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:12:51,588 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:12:51,589 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,589 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:12:51,589 Line:1157 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,590 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:12:51,590 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:12:51,591 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:12:51,591 Line:1157 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,592 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:12:51,592 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:12:51,592 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:12:51,593 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,594 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:12:51,595 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,595 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:12:51,597 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,600 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:12:51,601 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,601 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:12:51,601 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,602 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:12:51,602 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,602 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:12:51,603 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,603 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:12:51,604 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,604 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:51,604 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,605 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:12:51,605 Line:1157 1值：0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,606 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:12:51,606 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:12:51,607 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:51,607 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,608 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:51,608 Line:1270 0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,608 Line:1270 add
 [DEBUG] 2018-01-05 16:12:51,609 Line:425 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:12:51,609 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:12:51,610 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,610 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:12:51,611 Line:1270 1
 [DEBUG] 2018-01-05 16:12:51,611 Line:1270 2018
 [DEBUG] 2018-01-05 16:12:51,611 Line:1270 1
 [DEBUG] 2018-01-05 16:12:51,611 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:12:51,611 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:12:51,611 Line:1270 0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,612 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:12:51,612 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:12:51,612 Line:1270 BI1801050006
 [DEBUG] 2018-01-05 16:12:51,612 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:12:51,612 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:12:51,612 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:12:51,612 Line:1270 1
 [DEBUG] 2018-01-05 16:12:51,613 Line:1270 1
 [DEBUG] 2018-01-05 16:12:51,613 Line:1270 2018-01-05 16:12:51
 [DEBUG] 2018-01-05 16:12:51,613 Line:1270 2018-01-05 16:12:51
 [DEBUG] 2018-01-05 16:12:51,613 Line:1270 00001
 [DEBUG] 2018-01-05 16:12:51,613 Line:1270 
 [DEBUG] 2018-01-05 16:12:51,613 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:12:51,613 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:12:51,614 Line:1270 00003
 [DEBUG] 2018-01-05 16:12:51,614 Line:1270 1
 [DEBUG] 2018-01-05 16:12:51,614 Line:1270 00101
 [DEBUG] 2018-01-05 16:12:51,614 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:12:51,614 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:12:51,614 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:12:51,614 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:12:51,615 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:12:51,615 Line:1270 0
 [DEBUG] 2018-01-05 16:12:51,615 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:12:51,615 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:12:51,615 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:12:51,615 Line:1270 f_ref='0e7d2067_1801051612514870031'
 [DEBUG] 2018-01-05 16:12:51,626 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051612514870031','2018-01-05','BI1801050006','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:12:51','2018-01-05 16:12:51','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051612514870031' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:12:51,626 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:12:51,626 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:12:51,626 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:12:51,626 Line:425 ************上述语句执行时间：16
 [DEBUG] 2018-01-05 16:12:51,627 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:12:51,627 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,627 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:51,628 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,629 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:12:51,629 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,629 Line:1043 ---上述语句时间---0
 [DEBUG] 2018-01-05 16:12:51,630 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:12:51,630 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,631 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:12:51,631 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,631 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:12:51,632 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,632 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:12:51,632 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,632 Line:988 1值：1
 [DEBUG] 2018-01-05 16:12:51,632 Line:988 2值：0
 [DEBUG] 2018-01-05 16:12:51,633 Line:988 3值：1
 [DEBUG] 2018-01-05 16:12:51,633 Line:988 4值：0
 [DEBUG] 2018-01-05 16:12:51,633 Line:988 5值：0
 [DEBUG] 2018-01-05 16:12:51,633 Line:988 6值：1
 [DEBUG] 2018-01-05 16:12:51,634 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:12:51,634 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:12:51,634 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:12:51,634 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:12:51,634 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:12:51,635 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,636 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:12:51,637 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:12:51,637 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:51,638 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:51,639 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:51,640 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:51,640 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:51,641 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:51,641 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:12:51,642 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:12:51,649 Line:434 ************上述语句执行时间：14
 [DEBUG] 2018-01-05 16:12:51,649 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:12:51,649 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,650 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:51,650 Line:1270 10e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,650 Line:1270 00003
 [DEBUG] 2018-01-05 16:12:51,650 Line:1270 1
 [DEBUG] 2018-01-05 16:12:51,651 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:12:51,651 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051612514870031@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:12:51@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:12:51@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:12:51,653 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051612514870031',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051612514870031','','1','0','1','1','2018-01-05 16:12:51','1','2018-01-05 16:12:51','00001','tblBuyInStock','BI1801050006','1','00101','0','')
 [DEBUG] 2018-01-05 16:12:51,653 Line:425 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:12:51,653 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:12:51,654 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,655 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:12:51,656 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,656 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:12:51,657 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,657 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:12:51,658 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,658 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:12:51,659 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,660 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:12:51,661 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,661 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:12:51,661 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:12:51,661 Line:988 1值：1
 [DEBUG] 2018-01-05 16:12:51,661 Line:988 2值：0
 [DEBUG] 2018-01-05 16:12:51,662 Line:988 3值：1
 [DEBUG] 2018-01-05 16:12:51,662 Line:988 4值：0
 [DEBUG] 2018-01-05 16:12:51,662 Line:988 5值：0
 [DEBUG] 2018-01-05 16:12:51,662 Line:988 6值：0
 [DEBUG] 2018-01-05 16:12:51,663 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:12:51,663 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:12:51,663 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:12:51,663 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:12:51,663 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:12:51,664 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,664 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:12:51,665 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,665 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:12:51,665 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,666 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:12:51,666 Line:321 flag:false
 [DEBUG] 2018-01-05 16:12:51,666 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:12:51,667 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,667 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:12:51,667 Line:1270 0e7d2067_1801051612514870031
 [DEBUG] 2018-01-05 16:12:51,668 Line:1270 add
 [DEBUG] 2018-01-05 16:12:51,669 Line:425 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:12:51,669 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:12:51,670 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,670 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:12:51,694 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:12:51,694 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:12:51,695 Line:443 ************上述语句执行时间：25
 [DEBUG] 2018-01-05 16:12:51,695 Line:313 exeCondition:tblBuyInStock_Add : '\"25\"' == '"25"' 
 [DEBUG] 2018-01-05 16:12:51,696 Line:321 flag:true
 [DEBUG] 2018-01-05 16:12:51,696 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-05 16:12:51,696 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-05 16:13:38,515 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-05 16:13:38,517 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-05 16:13:38,517 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-05 16:13:39,628 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-05 16:13:39,628 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-05 16:13:41,318 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-05 16:13:41,319 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-05 16:13:41,319 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-05 16:13:48,845 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-05 16:13:48,846 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[采购入库单,];
 [DEBUG] 2018-01-05 16:13:51,596 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-05 16:13:51,597 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-05 16:13:52,134 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-05 16:13:52,135 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-05 16:13:52,905 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 16:14:36,882 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB2752996DB437D94B0C98562ED3F03CD4
 [ERROR] 2018-01-05 16:14:36,941 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:14:41,378 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:14:41,380 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050006,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:14:41,381 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:14:41,422 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:14:41,423 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:14:41,423 Line:5853 2:
 [DEBUG] 2018-01-05 16:14:41,423 Line:5853 3:0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,423 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:14:41,423 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:14:41,424 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:14:41,424 Line:5853 7:0
 [DEBUG] 2018-01-05 16:14:41,424 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:14:41,424 Line:5853 9:BI1801050006
 [DEBUG] 2018-01-05 16:14:41,424 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:14:41,424 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:14:41,424 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:14:41,424 Line:5853 13:1
 [DEBUG] 2018-01-05 16:14:41,425 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:14:41,425 Line:5853 15:3
 [DEBUG] 2018-01-05 16:14:41,425 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:14:41,425 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:14:41,425 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:14:41,425 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:14:41,425 Line:5853 20:
 [DEBUG] 2018-01-05 16:14:41,426 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:14:41,426 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:14:41,426 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:14:41,426 Line:5853 24:
 [DEBUG] 2018-01-05 16:14:41,426 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:14:41,426 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:14:41,426 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:14:41,426 Line:5853 28:
 [DEBUG] 2018-01-05 16:14:41,427 Line:5853 29:1
 [DEBUG] 2018-01-05 16:14:41,427 Line:5853 30:1
 [DEBUG] 2018-01-05 16:14:41,427 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:14:41,427 Line:5853 32:
 [DEBUG] 2018-01-05 16:14:41,427 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:14:41,427 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:14:41,427 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:14:41,428 Line:5853 36:
 [DEBUG] 2018-01-05 16:14:41,428 Line:5853 37:
 [DEBUG] 2018-01-05 16:14:41,428 Line:5853 38:
 [DEBUG] 2018-01-05 16:14:41,428 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:14:41,428 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:14:41,428 Line:5853 41:
 [DEBUG] 2018-01-05 16:14:41,428 Line:5853 42:
 [DEBUG] 2018-01-05 16:14:41,428 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:14:41,429 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:14:41,429 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:14:41,429 Line:5853 46:
 [DEBUG] 2018-01-05 16:14:41,429 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:14:41,429 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:14:41,429 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:14:41,429 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:14:41,430 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:14:41,430 Line:5853 52:
 [DEBUG] 2018-01-05 16:14:41,430 Line:5853 53:
 [DEBUG] 2018-01-05 16:14:41,430 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:14:41,430 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:14:41,430 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:14:41,430 Line:5853 57:0
 [DEBUG] 2018-01-05 16:14:41,430 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:14:41,431 Line:5853 59:0
 [DEBUG] 2018-01-05 16:14:41,431 Line:5853 60:2018-01-05 16:14:41
 [DEBUG] 2018-01-05 16:14:41,431 Line:5853 61:1
 [DEBUG] 2018-01-05 16:14:41,431 Line:5853 62:2018-01-05 16:14:41
 [DEBUG] 2018-01-05 16:14:41,431 Line:5853 63:1
 [DEBUG] 2018-01-05 16:14:41,431 Line:5853 64:2018-01-05 16:14:41
 [DEBUG] 2018-01-05 16:14:41,436 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:14:41,437 Line:5853 1:0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,437 Line:5853 2:0e7d2067_1801051614414360037
 [DEBUG] 2018-01-05 16:14:41,437 Line:5853 3:
 [DEBUG] 2018-01-05 16:14:41,437 Line:5853 4:
 [DEBUG] 2018-01-05 16:14:41,437 Line:5853 5:
 [DEBUG] 2018-01-05 16:14:41,437 Line:5853 6:
 [DEBUG] 2018-01-05 16:14:41,437 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:14:41,438 Line:5853 8:
 [DEBUG] 2018-01-05 16:14:41,438 Line:5853 9:
 [DEBUG] 2018-01-05 16:14:41,438 Line:5853 10:
 [DEBUG] 2018-01-05 16:14:41,438 Line:5853 11:
 [DEBUG] 2018-01-05 16:14:41,438 Line:5853 12:
 [DEBUG] 2018-01-05 16:14:41,438 Line:5853 13:
 [DEBUG] 2018-01-05 16:14:41,438 Line:5853 14:
 [DEBUG] 2018-01-05 16:14:41,438 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:14:41,439 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:14:41,439 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:14:41,439 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:14:41,439 Line:5853 19:0
 [DEBUG] 2018-01-05 16:14:41,439 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:14:41,439 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:14:41,439 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:14:41,440 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:14:41,440 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:14:41,440 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:14:41,440 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:14:41,440 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:14:41,440 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:14:41,440 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:14:41,440 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:14:41,441 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:14:41,441 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:14:41,441 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:14:41,441 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:14:41,441 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:14:41,441 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:14:41,441 Line:5853 37:
 [DEBUG] 2018-01-05 16:14:41,442 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:14:41,442 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:14:41,442 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:14:41,442 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:14:41,442 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:14:41,442 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:14:41,442 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:14:41,442 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:14:41,443 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:14:41,443 Line:5853 47:0
 [DEBUG] 2018-01-05 16:14:41,443 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:14:41,443 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:14:41,443 Line:5853 50:0
 [DEBUG] 2018-01-05 16:14:41,443 Line:5853 51:
 [DEBUG] 2018-01-05 16:14:41,443 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:14:41,443 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:14:41,444 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:14:41,444 Line:5853 55:0
 [DEBUG] 2018-01-05 16:14:41,444 Line:5853 56:0
 [DEBUG] 2018-01-05 16:14:41,444 Line:5853 57:
 [DEBUG] 2018-01-05 16:14:41,444 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:14:41,444 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:14:41,445 Line:5853 60:
 [DEBUG] 2018-01-05 16:14:41,445 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:14:41,445 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:14:41,457 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:14:41,458 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,458 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:14:41,458 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,459 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:14:41,459 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,459 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:14:41,460 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,460 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:14:41,461 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,461 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:14:41,462 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,462 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:14:41,463 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,464 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:14:41,464 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,464 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,465 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:14:41,477 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-05 16:14:41,478 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:14:41,479 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,479 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:14:41,479 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,479 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,480 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:14:41,495 Line:1043 ---上述语句时间---16
 [DEBUG] 2018-01-05 16:14:41,496 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:14:41,497 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,497 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:14:41,498 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,498 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,498 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:14:41,506 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 16:14:41,507 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:14:41,507 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,508 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:14:41,508 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,508 Line:988 1值：false
 [DEBUG] 2018-01-05 16:14:41,508 Line:988 2值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,518 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:14:41,518 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:14:41,518 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:14:41,519 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,519 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:14:41,519 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,519 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,524 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:14:41,524 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:41,525 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,525 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:14:41,526 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,526 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,537 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-05 16:14:41,537 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:41,538 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,538 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:14:41,538 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,539 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,542 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:14:41,543 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:41,543 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,545 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:14:41,545 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,545 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,548 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:14:41,549 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:14:41,549 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,550 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:14:41,550 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,550 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:14:41,551 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,551 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,555 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:14:41,556 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:41,557 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,557 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:14:41,558 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,558 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:14:41,558 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,558 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,560 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:14:41,560 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:41,561 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,561 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:14:41,561 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,561 Line:988 1值：1
 [DEBUG] 2018-01-05 16:14:41,562 Line:988 2值：0
 [DEBUG] 2018-01-05 16:14:41,562 Line:988 3值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,595 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:14:41,595 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:14:41,596 Line:1043 ---上述语句时间---35
 [DEBUG] 2018-01-05 16:14:41,596 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:14:41,596 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,597 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:14:41,597 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,597 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,608 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 16:14:41,608 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:41,609 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,610 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:14:41,610 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,610 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,612 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:14:41,613 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:14:41,613 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,614 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:14:41,614 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,614 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,618 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:14:41,618 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:14:41,619 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,619 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:14:41,619 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,619 Line:988 1值：
 [DEBUG] 2018-01-05 16:14:41,620 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:14:41,630 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 16:14:41,630 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:14:41,631 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,631 Line:988 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,631 Line:988 2值：
 [DEBUG] 2018-01-05 16:14:41,631 Line:988 3值：
 [DEBUG] 2018-01-05 16:14:41,631 Line:988 4值：
 [DEBUG] 2018-01-05 16:14:41,634 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:14:41,635 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:14:41,635 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,636 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:41,636 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,637 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:14:41,637 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,638 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:14:41,638 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,638 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:14:41,639 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,639 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:14:41,640 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:14:41,640 Line:1157 2值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,643 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:41,643 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:14:41,643 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:14:41,643 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:14:41,643 Line:1157 2值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,644 Line:1157 3值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,648 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:41,648 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:14:41,649 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:14:41,649 Line:1157 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,649 Line:1157 2值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,654 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:41,654 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:14:41,654 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:14:41,655 Line:1157 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,657 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:41,657 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:14:41,657 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:14:41,657 Line:1157 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,661 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:41,661 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:14:41,661 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:14:41,662 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,662 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:14:41,662 Line:1157 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,662 Line:1157 2值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,665 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:41,666 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:14:41,666 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:14:41,666 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,667 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:14:41,667 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,667 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:14:41,668 Line:1270 0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,668 Line:1270 add
 [DEBUG] 2018-01-05 16:14:41,731 Line:425 ************上述语句执行时间：64
 [DEBUG] 2018-01-05 16:14:41,732 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:14:41,732 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,733 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:14:41,733 Line:1157 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,742 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:14:41,743 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 16:14:41,743 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:14:41,743 Line:1157 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,752 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:14:41,753 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 16:14:41,753 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:14:41,753 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,754 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:14:41,754 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,754 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:14:41,755 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,761 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:14:41,762 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,762 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:14:41,763 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,763 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:14:41,764 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,764 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:14:41,764 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,765 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:14:41,765 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,765 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:14:41,766 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,766 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:14:41,766 Line:1157 1值：0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,768 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:14:41,768 Line:408 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:14:41,769 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:14:41,769 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,769 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:14:41,770 Line:1270 0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,770 Line:1270 add
 [DEBUG] 2018-01-05 16:14:41,813 Line:425 ************上述语句执行时间：44
 [DEBUG] 2018-01-05 16:14:41,813 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:14:41,814 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,814 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:14:41,815 Line:1270 1
 [DEBUG] 2018-01-05 16:14:41,815 Line:1270 2018
 [DEBUG] 2018-01-05 16:14:41,815 Line:1270 1
 [DEBUG] 2018-01-05 16:14:41,815 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:14:41,815 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:14:41,815 Line:1270 0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:41,815 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:14:41,816 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:14:41,816 Line:1270 BI1801050006
 [DEBUG] 2018-01-05 16:14:41,816 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:14:41,816 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:14:41,816 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:14:41,816 Line:1270 1
 [DEBUG] 2018-01-05 16:14:41,816 Line:1270 1
 [DEBUG] 2018-01-05 16:14:41,816 Line:1270 2018-01-05 16:14:41
 [DEBUG] 2018-01-05 16:14:41,817 Line:1270 2018-01-05 16:14:41
 [DEBUG] 2018-01-05 16:14:41,817 Line:1270 00001
 [DEBUG] 2018-01-05 16:14:41,817 Line:1270 
 [DEBUG] 2018-01-05 16:14:41,817 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:14:41,817 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:14:41,817 Line:1270 00003
 [DEBUG] 2018-01-05 16:14:41,817 Line:1270 1
 [DEBUG] 2018-01-05 16:14:41,818 Line:1270 00101
 [DEBUG] 2018-01-05 16:14:41,818 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:14:41,818 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:14:41,818 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:14:41,818 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:14:41,818 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:14:41,818 Line:1270 0
 [DEBUG] 2018-01-05 16:14:41,819 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:14:41,819 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:14:41,819 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:14:41,819 Line:1270 f_ref='0e7d2067_1801051614414000036'
 [DEBUG] 2018-01-05 16:14:41,986 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051614414000036','2018-01-05','BI1801050006','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:14:41','2018-01-05 16:14:41','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051614414000036' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:14:41,986 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:14:41,986 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:14:41,986 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:14:41,986 Line:425 ************上述语句执行时间：172
 [DEBUG] 2018-01-05 16:14:41,987 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:14:41,987 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,987 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:14:41,988 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,989 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:14:41,989 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,990 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:41,990 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:14:41,991 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,991 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:14:41,992 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,992 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:14:41,992 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:41,992 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:14:41,993 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:41,993 Line:988 1值：1
 [DEBUG] 2018-01-05 16:14:41,993 Line:988 2值：0
 [DEBUG] 2018-01-05 16:14:41,993 Line:988 3值：1
 [DEBUG] 2018-01-05 16:14:41,993 Line:988 4值：0
 [DEBUG] 2018-01-05 16:14:41,993 Line:988 5值：0
 [DEBUG] 2018-01-05 16:14:41,993 Line:988 6值：1
 [DEBUG] 2018-01-05 16:14:41,995 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:14:41,995 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:14:41,995 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:14:41,995 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:14:41,995 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:14:41,996 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:41,999 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:14:42,004 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:14:42,011 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:42,017 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:42,023 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:42,029 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:42,037 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:42,043 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:42,055 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:42,062 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:14:42,152 Line:434 ************上述语句执行时间：156
 [DEBUG] 2018-01-05 16:14:42,153 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:14:42,154 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:42,154 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:14:42,155 Line:1270 10e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:42,155 Line:1270 00003
 [DEBUG] 2018-01-05 16:14:42,155 Line:1270 1
 [DEBUG] 2018-01-05 16:14:42,156 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:14:42,156 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051614414000036@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:14:41@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:14:41@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:14:42,200 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051614414000036',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051614414000036','','1','0','1','1','2018-01-05 16:14:41','1','2018-01-05 16:14:41','00001','tblBuyInStock','BI1801050006','1','00101','0','')
 [DEBUG] 2018-01-05 16:14:42,200 Line:425 ************上述语句执行时间：46
 [DEBUG] 2018-01-05 16:14:42,200 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:14:42,201 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:42,201 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:14:42,202 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:42,202 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:14:42,202 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:42,202 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:14:42,203 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:42,203 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:14:42,204 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:42,204 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:14:42,204 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:42,205 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:14:42,205 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:42,205 Line:988 1值：1
 [DEBUG] 2018-01-05 16:14:42,205 Line:988 2值：0
 [DEBUG] 2018-01-05 16:14:42,205 Line:988 3值：1
 [DEBUG] 2018-01-05 16:14:42,205 Line:988 4值：0
 [DEBUG] 2018-01-05 16:14:42,206 Line:988 5值：0
 [DEBUG] 2018-01-05 16:14:42,206 Line:988 6值：0
 [DEBUG] 2018-01-05 16:14:42,207 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:14:42,207 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:14:42,207 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:14:42,207 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:14:42,207 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:14:42,208 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:42,208 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:14:42,209 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:42,209 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:14:42,209 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:42,210 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:14:42,210 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:42,211 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:14:42,211 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:42,211 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:14:42,212 Line:1270 0e7d2067_1801051614414000036
 [DEBUG] 2018-01-05 16:14:42,212 Line:1270 add
 [DEBUG] 2018-01-05 16:14:42,221 Line:425 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 16:14:42,221 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:14:42,222 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:42,222 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:14:42,244 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:14:42,245 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:14:42,245 Line:443 ************上述语句执行时间：23
 [DEBUG] 2018-01-05 16:14:42,245 Line:313 exeCondition:tblBuyInStock_Add : '\"25\"' == '"25"' 
 [DEBUG] 2018-01-05 16:14:42,246 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:42,246 Line:372 ---error，返回信息：'1'url=
 [ERROR] 2018-01-05 16:14:42,246 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg='1'
 [DEBUG] 2018-01-05 16:14:50,250 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB4976CC35762428458AD219FA989EC390
 [ERROR] 2018-01-05 16:14:50,296 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:14:53,560 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:14:53,562 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050006,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:14:53,563 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:14:53,568 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:14:53,568 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:14:53,568 Line:5853 2:
 [DEBUG] 2018-01-05 16:14:53,568 Line:5853 3:0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,569 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:14:53,569 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:14:53,569 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:14:53,569 Line:5853 7:0
 [DEBUG] 2018-01-05 16:14:53,570 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:14:53,570 Line:5853 9:BI1801050006
 [DEBUG] 2018-01-05 16:14:53,570 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:14:53,571 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:14:53,571 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:14:53,571 Line:5853 13:1
 [DEBUG] 2018-01-05 16:14:53,572 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:14:53,572 Line:5853 15:3
 [DEBUG] 2018-01-05 16:14:53,572 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:14:53,572 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:14:53,572 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:14:53,572 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:14:53,573 Line:5853 20:
 [DEBUG] 2018-01-05 16:14:53,573 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:14:53,573 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:14:53,573 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:14:53,573 Line:5853 24:
 [DEBUG] 2018-01-05 16:14:53,573 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:14:53,573 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:14:53,574 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:14:53,574 Line:5853 28:
 [DEBUG] 2018-01-05 16:14:53,574 Line:5853 29:1
 [DEBUG] 2018-01-05 16:14:53,574 Line:5853 30:1
 [DEBUG] 2018-01-05 16:14:53,574 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:14:53,574 Line:5853 32:
 [DEBUG] 2018-01-05 16:14:53,575 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:14:53,575 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:14:53,575 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:14:53,575 Line:5853 36:
 [DEBUG] 2018-01-05 16:14:53,575 Line:5853 37:
 [DEBUG] 2018-01-05 16:14:53,576 Line:5853 38:
 [DEBUG] 2018-01-05 16:14:53,576 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:14:53,576 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:14:53,576 Line:5853 41:
 [DEBUG] 2018-01-05 16:14:53,576 Line:5853 42:
 [DEBUG] 2018-01-05 16:14:53,576 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:14:53,576 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:14:53,577 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:14:53,577 Line:5853 46:
 [DEBUG] 2018-01-05 16:14:53,578 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:14:53,579 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:14:53,580 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:14:53,580 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:14:53,580 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:14:53,580 Line:5853 52:
 [DEBUG] 2018-01-05 16:14:53,580 Line:5853 53:
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 57:0
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 59:0
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 60:2018-01-05 16:14:53
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 61:1
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 62:2018-01-05 16:14:53
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 63:1
 [DEBUG] 2018-01-05 16:14:53,582 Line:5853 64:2018-01-05 16:14:53
 [DEBUG] 2018-01-05 16:14:53,583 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:14:53,583 Line:5853 1:0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,583 Line:5853 2:0e7d2067_1801051614535830042
 [DEBUG] 2018-01-05 16:14:53,583 Line:5853 3:
 [DEBUG] 2018-01-05 16:14:53,583 Line:5853 4:
 [DEBUG] 2018-01-05 16:14:53,585 Line:5853 5:
 [DEBUG] 2018-01-05 16:14:53,585 Line:5853 6:
 [DEBUG] 2018-01-05 16:14:53,585 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:14:53,585 Line:5853 8:
 [DEBUG] 2018-01-05 16:14:53,585 Line:5853 9:
 [DEBUG] 2018-01-05 16:14:53,585 Line:5853 10:
 [DEBUG] 2018-01-05 16:14:53,585 Line:5853 11:
 [DEBUG] 2018-01-05 16:14:53,585 Line:5853 12:
 [DEBUG] 2018-01-05 16:14:53,586 Line:5853 13:
 [DEBUG] 2018-01-05 16:14:53,586 Line:5853 14:
 [DEBUG] 2018-01-05 16:14:53,586 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:14:53,586 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:14:53,586 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:14:53,586 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:14:53,586 Line:5853 19:0
 [DEBUG] 2018-01-05 16:14:53,587 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:14:53,587 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:14:53,587 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:14:53,587 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:14:53,587 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:14:53,587 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:14:53,587 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:14:53,587 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:14:53,588 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:14:53,588 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:14:53,588 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:14:53,588 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:14:53,588 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:14:53,588 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:14:53,588 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:14:53,588 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:14:53,589 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:14:53,589 Line:5853 37:
 [DEBUG] 2018-01-05 16:14:53,589 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:14:53,589 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:14:53,589 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:14:53,589 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:14:53,589 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:14:53,590 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:14:53,590 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:14:53,590 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:14:53,590 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:14:53,590 Line:5853 47:0
 [DEBUG] 2018-01-05 16:14:53,590 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:14:53,590 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:14:53,590 Line:5853 50:0
 [DEBUG] 2018-01-05 16:14:53,591 Line:5853 51:
 [DEBUG] 2018-01-05 16:14:53,591 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:14:53,591 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:14:53,591 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:14:53,591 Line:5853 55:0
 [DEBUG] 2018-01-05 16:14:53,591 Line:5853 56:0
 [DEBUG] 2018-01-05 16:14:53,591 Line:5853 57:
 [DEBUG] 2018-01-05 16:14:53,591 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:14:53,592 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:14:53,592 Line:5853 60:
 [DEBUG] 2018-01-05 16:14:53,592 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:14:53,592 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:14:53,595 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:14:53,596 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,596 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:14:53,597 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,597 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:14:53,598 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,598 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:14:53,598 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,599 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:14:53,599 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,599 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:14:53,600 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,600 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:14:53,600 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,601 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:14:53,601 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,601 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,602 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:14:53,602 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,602 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:14:53,603 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,603 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:14:53,603 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,604 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,604 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:14:53,604 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,604 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:14:53,605 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,605 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:14:53,605 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,606 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,606 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:14:53,606 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,606 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:14:53,607 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,607 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:14:53,607 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,608 Line:988 1值：false
 [DEBUG] 2018-01-05 16:14:53,608 Line:988 2值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,608 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:14:53,609 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:14:53,609 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:14:53,611 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,611 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:14:53,611 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,611 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,612 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,612 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:53,613 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,613 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:14:53,613 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,614 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,615 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:14:53,615 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:53,617 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,617 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:14:53,617 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,618 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,619 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:14:53,619 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:53,620 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,620 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:14:53,620 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,620 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,621 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,621 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:14:53,622 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,622 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:14:53,622 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,623 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:14:53,623 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,623 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,623 Line:1043 ---上述语句时间---0
 [DEBUG] 2018-01-05 16:14:53,624 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:53,624 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,625 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:14:53,625 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,626 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:14:53,627 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,627 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,627 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,628 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:53,628 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,628 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:14:53,629 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,629 Line:988 1值：1
 [DEBUG] 2018-01-05 16:14:53,629 Line:988 2值：0
 [DEBUG] 2018-01-05 16:14:53,629 Line:988 3值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,630 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:14:53,630 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:14:53,630 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:14:53,630 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:14:53,631 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,631 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:14:53,631 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,631 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,632 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,632 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:53,633 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,634 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:14:53,634 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,634 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,635 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,635 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:14:53,636 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,636 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:14:53,636 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,636 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,637 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,637 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:14:53,638 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,638 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:14:53,639 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,639 Line:988 1值：
 [DEBUG] 2018-01-05 16:14:53,639 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:14:53,640 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:14:53,640 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:14:53,640 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,640 Line:988 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,640 Line:988 2值：
 [DEBUG] 2018-01-05 16:14:53,641 Line:988 3值：
 [DEBUG] 2018-01-05 16:14:53,641 Line:988 4值：
 [DEBUG] 2018-01-05 16:14:53,641 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,642 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:14:53,642 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,643 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:14:53,643 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,643 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:14:53,644 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,644 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:14:53,645 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,645 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:14:53,645 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,646 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:14:53,646 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:14:53,647 Line:1157 2值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,647 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:53,647 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,648 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:14:53,648 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:14:53,648 Line:1157 2值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,648 Line:1157 3值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,649 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:53,649 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,649 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:14:53,649 Line:1157 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,650 Line:1157 2值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,650 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:53,650 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,650 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:14:53,650 Line:1157 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,651 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:53,651 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,651 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:14:53,651 Line:1157 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,652 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:53,652 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,652 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:14:53,653 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,653 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:14:53,653 Line:1157 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,654 Line:1157 2值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,654 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:14:53,654 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,655 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:14:53,655 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,656 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:14:53,656 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,656 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:14:53,657 Line:1270 0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,657 Line:1270 add
 [DEBUG] 2018-01-05 16:14:53,657 Line:425 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,658 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:14:53,659 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,659 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:14:53,659 Line:1157 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,660 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:14:53,660 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,660 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:14:53,660 Line:1157 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,661 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:14:53,661 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,661 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:14:53,661 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,662 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:14:53,662 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,662 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:14:53,663 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,664 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:14:53,665 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,666 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:14:53,666 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,666 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:14:53,667 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,667 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:14:53,667 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,667 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:14:53,668 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,668 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:14:53,669 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,669 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:14:53,669 Line:1157 1值：0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,669 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:14:53,670 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,670 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:14:53,670 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,671 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:14:53,671 Line:1270 0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,671 Line:1270 add
 [DEBUG] 2018-01-05 16:14:53,672 Line:425 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:14:53,672 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:14:53,673 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,673 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:14:53,673 Line:1270 1
 [DEBUG] 2018-01-05 16:14:53,674 Line:1270 2018
 [DEBUG] 2018-01-05 16:14:53,674 Line:1270 1
 [DEBUG] 2018-01-05 16:14:53,674 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:14:53,674 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:14:53,674 Line:1270 0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,674 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:14:53,674 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:14:53,675 Line:1270 BI1801050006
 [DEBUG] 2018-01-05 16:14:53,675 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:14:53,675 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:14:53,675 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:14:53,675 Line:1270 1
 [DEBUG] 2018-01-05 16:14:53,675 Line:1270 1
 [DEBUG] 2018-01-05 16:14:53,675 Line:1270 2018-01-05 16:14:53
 [DEBUG] 2018-01-05 16:14:53,676 Line:1270 2018-01-05 16:14:53
 [DEBUG] 2018-01-05 16:14:53,676 Line:1270 00001
 [DEBUG] 2018-01-05 16:14:53,676 Line:1270 
 [DEBUG] 2018-01-05 16:14:53,676 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:14:53,676 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:14:53,676 Line:1270 00003
 [DEBUG] 2018-01-05 16:14:53,676 Line:1270 1
 [DEBUG] 2018-01-05 16:14:53,677 Line:1270 00101
 [DEBUG] 2018-01-05 16:14:53,677 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:14:53,677 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:14:53,677 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:14:53,677 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:14:53,677 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:14:53,677 Line:1270 0
 [DEBUG] 2018-01-05 16:14:53,677 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:14:53,678 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:14:53,678 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:14:53,678 Line:1270 f_ref='0e7d2067_1801051614535660041'
 [DEBUG] 2018-01-05 16:14:53,696 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051614535660041','2018-01-05','BI1801050006','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:14:53','2018-01-05 16:14:53','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051614535660041' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:14:53,696 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:14:53,696 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:14:53,697 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:14:53,697 Line:425 ************上述语句执行时间：24
 [DEBUG] 2018-01-05 16:14:53,697 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:14:53,698 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,698 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:14:53,699 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,699 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:14:53,700 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,700 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:14:53,700 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:14:53,701 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,701 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:14:53,701 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,702 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:14:53,702 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,703 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:14:53,703 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,703 Line:988 1值：1
 [DEBUG] 2018-01-05 16:14:53,703 Line:988 2值：0
 [DEBUG] 2018-01-05 16:14:53,703 Line:988 3值：1
 [DEBUG] 2018-01-05 16:14:53,703 Line:988 4值：0
 [DEBUG] 2018-01-05 16:14:53,703 Line:988 5值：0
 [DEBUG] 2018-01-05 16:14:53,704 Line:988 6值：1
 [DEBUG] 2018-01-05 16:14:53,704 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:14:53,704 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:14:53,704 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:14:53,705 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:14:53,705 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:14:53,705 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,707 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:14:53,707 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:14:53,708 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:53,709 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:53,710 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:53,711 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:53,711 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:53,712 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:53,713 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:14:53,714 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:14:53,721 Line:434 ************上述语句执行时间：15
 [DEBUG] 2018-01-05 16:14:53,722 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:14:53,722 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,723 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:14:53,723 Line:1270 10e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,723 Line:1270 00003
 [DEBUG] 2018-01-05 16:14:53,723 Line:1270 1
 [DEBUG] 2018-01-05 16:14:53,724 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:14:53,724 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051614535660041@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:14:53@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:14:53@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:14:53,726 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051614535660041',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051614535660041','','1','0','1','1','2018-01-05 16:14:53','1','2018-01-05 16:14:53','00001','tblBuyInStock','BI1801050006','1','00101','0','')
 [DEBUG] 2018-01-05 16:14:53,726 Line:425 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:14:53,727 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:14:53,728 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,728 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:14:53,729 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,729 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:14:53,729 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,730 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:14:53,730 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,731 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:14:53,731 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,732 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:14:53,732 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,733 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:14:53,733 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:14:53,733 Line:988 1值：1
 [DEBUG] 2018-01-05 16:14:53,733 Line:988 2值：0
 [DEBUG] 2018-01-05 16:14:53,734 Line:988 3值：1
 [DEBUG] 2018-01-05 16:14:53,734 Line:988 4值：0
 [DEBUG] 2018-01-05 16:14:53,734 Line:988 5值：0
 [DEBUG] 2018-01-05 16:14:53,734 Line:988 6值：0
 [DEBUG] 2018-01-05 16:14:53,735 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:14:53,736 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:14:53,736 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:14:53,736 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:14:53,737 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:14:53,737 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,738 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:14:53,738 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,738 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:14:53,739 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,739 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:14:53,740 Line:321 flag:false
 [DEBUG] 2018-01-05 16:14:53,740 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:14:53,741 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,742 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:14:53,743 Line:1270 0e7d2067_1801051614535660041
 [DEBUG] 2018-01-05 16:14:53,743 Line:1270 add
 [DEBUG] 2018-01-05 16:14:53,745 Line:425 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:14:53,745 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:14:53,746 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,746 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:14:53,760 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:14:53,760 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:14:53,761 Line:443 ************上述语句执行时间：15
 [DEBUG] 2018-01-05 16:14:53,761 Line:313 exeCondition:tblBuyInStock_Add : '\"25\"' == '"25"' 
 [DEBUG] 2018-01-05 16:14:53,762 Line:321 flag:true
 [DEBUG] 2018-01-05 16:14:53,762 Line:372 ---error，返回信息：'"1"'url=
 [ERROR] 2018-01-05 16:14:53,763 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg='"1"'
 [DEBUG] 2018-01-05 16:15:15,006 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB82EA17B5F97CC5A81A9149AA833C7396
 [ERROR] 2018-01-05 16:15:15,060 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:15:20,309 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB2EF512D184132D668AD219FA989EC390
 [ERROR] 2018-01-05 16:15:20,359 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:15:33,151 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:15:33,153 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050006,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[25,];TotalTaxAmount=[25,];TotalCoTaxAmt=[0,];CurTotalAmount=[25,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[25,];tblBuyInStockDet_Amount=[25,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[25,];tblBuyInStockDet_DisBackAmt=[25,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[25,];tblBuyInStockDet_TaxAmount=[25,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[25,];tblBuyInStockDet_CurAmount=[25,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:15:33,154 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:15:33,199 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:15:33,200 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:15:33,200 Line:5853 2:
 [DEBUG] 2018-01-05 16:15:33,200 Line:5853 3:0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,200 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:15:33,200 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:15:33,200 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:15:33,201 Line:5853 7:0
 [DEBUG] 2018-01-05 16:15:33,201 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:15:33,201 Line:5853 9:BI1801050006
 [DEBUG] 2018-01-05 16:15:33,201 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:15:33,201 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:15:33,201 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:15:33,201 Line:5853 13:1
 [DEBUG] 2018-01-05 16:15:33,202 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:15:33,202 Line:5853 15:3
 [DEBUG] 2018-01-05 16:15:33,202 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:15:33,202 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:15:33,202 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:15:33,202 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:15:33,202 Line:5853 20:
 [DEBUG] 2018-01-05 16:15:33,203 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:15:33,203 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:15:33,203 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:15:33,203 Line:5853 24:
 [DEBUG] 2018-01-05 16:15:33,203 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:15:33,203 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:15:33,203 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:15:33,203 Line:5853 28:
 [DEBUG] 2018-01-05 16:15:33,204 Line:5853 29:1
 [DEBUG] 2018-01-05 16:15:33,204 Line:5853 30:1
 [DEBUG] 2018-01-05 16:15:33,204 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:15:33,204 Line:5853 32:
 [DEBUG] 2018-01-05 16:15:33,204 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:15:33,204 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:15:33,204 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:15:33,205 Line:5853 36:
 [DEBUG] 2018-01-05 16:15:33,205 Line:5853 37:
 [DEBUG] 2018-01-05 16:15:33,205 Line:5853 38:
 [DEBUG] 2018-01-05 16:15:33,205 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:15:33,205 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:15:33,205 Line:5853 41:
 [DEBUG] 2018-01-05 16:15:33,205 Line:5853 42:
 [DEBUG] 2018-01-05 16:15:33,205 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:15:33,206 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:15:33,206 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:15:33,206 Line:5853 46:
 [DEBUG] 2018-01-05 16:15:33,206 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:15:33,206 Line:5853 48:25.0
 [DEBUG] 2018-01-05 16:15:33,206 Line:5853 49:25.0
 [DEBUG] 2018-01-05 16:15:33,206 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:15:33,207 Line:5853 51:25.0
 [DEBUG] 2018-01-05 16:15:33,207 Line:5853 52:
 [DEBUG] 2018-01-05 16:15:33,207 Line:5853 53:
 [DEBUG] 2018-01-05 16:15:33,207 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:15:33,207 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:15:33,207 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:15:33,207 Line:5853 57:0
 [DEBUG] 2018-01-05 16:15:33,207 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:15:33,208 Line:5853 59:0
 [DEBUG] 2018-01-05 16:15:33,208 Line:5853 60:2018-01-05 16:15:33
 [DEBUG] 2018-01-05 16:15:33,208 Line:5853 61:1
 [DEBUG] 2018-01-05 16:15:33,208 Line:5853 62:2018-01-05 16:15:33
 [DEBUG] 2018-01-05 16:15:33,208 Line:5853 63:1
 [DEBUG] 2018-01-05 16:15:33,208 Line:5853 64:2018-01-05 16:15:33
 [DEBUG] 2018-01-05 16:15:33,212 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:15:33,212 Line:5853 1:0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,212 Line:5853 2:0e7d2067_1801051615332120048
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 3:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 4:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 5:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 6:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 8:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 9:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 10:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 11:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 12:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 13:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 14:
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 16:25.0
 [DEBUG] 2018-01-05 16:15:33,214 Line:5853 17:25.0
 [DEBUG] 2018-01-05 16:15:33,216 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:15:33,216 Line:5853 19:0
 [DEBUG] 2018-01-05 16:15:33,216 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:15:33,216 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:15:33,216 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:15:33,216 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:15:33,216 Line:5853 24:25.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 25:25.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 27:25.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 28:25.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 30:25.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 31:25.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 37:
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:15:33,217 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:15:33,218 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:15:33,218 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:15:33,218 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:15:33,218 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:15:33,219 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:15:33,219 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:15:33,219 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:15:33,219 Line:5853 47:0
 [DEBUG] 2018-01-05 16:15:33,219 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:15:33,221 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:15:33,221 Line:5853 50:0
 [DEBUG] 2018-01-05 16:15:33,221 Line:5853 51:
 [DEBUG] 2018-01-05 16:15:33,222 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:15:33,222 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:15:33,222 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:15:33,222 Line:5853 55:0
 [DEBUG] 2018-01-05 16:15:33,222 Line:5853 56:0
 [DEBUG] 2018-01-05 16:15:33,222 Line:5853 57:
 [DEBUG] 2018-01-05 16:15:33,222 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:15:33,223 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:15:33,223 Line:5853 60:
 [DEBUG] 2018-01-05 16:15:33,223 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:15:33,223 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:15:33,235 Line:313 exeCondition:tblBuyInStock_Add :25 < 0
 [DEBUG] 2018-01-05 16:15:33,236 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,236 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:15:33,237 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,237 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:15:33,237 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,237 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:15:33,238 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,238 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:15:33,239 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,239 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:15:33,240 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,240 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:15:33,240 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,241 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:15:33,242 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,242 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,242 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:15:33,254 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-05 16:15:33,254 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:15:33,256 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,256 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:15:33,256 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,256 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,257 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:15:33,272 Line:1043 ---上述语句时间---16
 [DEBUG] 2018-01-05 16:15:33,272 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:15:33,273 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,274 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:15:33,274 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,275 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,275 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:15:33,284 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:15:33,284 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:15:33,285 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,285 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:15:33,285 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,286 Line:988 1值：false
 [DEBUG] 2018-01-05 16:15:33,286 Line:988 2值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,295 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:15:33,295 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:15:33,295 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:15:33,296 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,296 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:15:33,296 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,296 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,301 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:15:33,301 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:15:33,302 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,302 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:15:33,302 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,303 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,315 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-05 16:15:33,315 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:15:33,316 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,316 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:15:33,316 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,316 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,320 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:15:33,320 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:15:33,321 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,321 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:15:33,321 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,321 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,325 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:15:33,325 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:15:33,326 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,326 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:15:33,327 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,327 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:15:33,327 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,327 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,330 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:15:33,330 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:15:33,331 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,331 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:15:33,332 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,332 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:15:33,332 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,333 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,335 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:15:33,335 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:15:33,336 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,336 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:15:33,337 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,337 Line:988 1值：25
 [DEBUG] 2018-01-05 16:15:33,338 Line:988 2值：0
 [DEBUG] 2018-01-05 16:15:33,338 Line:988 3值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,370 Line:1025 query condition columnName:SumDetAmt----value:25.0
 [DEBUG] 2018-01-05 16:15:33,371 Line:1025 query condition columnName:sumMainAmt----value:25.0
 [DEBUG] 2018-01-05 16:15:33,371 Line:1043 ---上述语句时间---35
 [DEBUG] 2018-01-05 16:15:33,371 Line:313 exeCondition:tblBuyInStock_Add :25.0!=25.0
 [DEBUG] 2018-01-05 16:15:33,372 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,372 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:15:33,372 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,372 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,382 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:15:33,382 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:15:33,383 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,384 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:15:33,384 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,384 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,386 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:15:33,386 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:15:33,387 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,387 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:15:33,387 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,388 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,390 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:15:33,390 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:15:33,391 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,392 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:15:33,392 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,392 Line:988 1值：
 [DEBUG] 2018-01-05 16:15:33,392 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:15:33,403 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 16:15:33,404 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:15:33,404 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,404 Line:988 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,404 Line:988 2值：
 [DEBUG] 2018-01-05 16:15:33,405 Line:988 3值：
 [DEBUG] 2018-01-05 16:15:33,405 Line:988 4值：
 [DEBUG] 2018-01-05 16:15:33,408 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:15:33,408 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:15:33,409 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,409 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:15:33,410 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,410 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:15:33,411 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,411 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:15:33,411 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,411 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:15:33,412 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,413 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:15:33,413 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:15:33,413 Line:1157 2值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,417 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:15:33,417 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:15:33,417 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:15:33,417 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:15:33,418 Line:1157 2值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,418 Line:1157 3值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,422 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:15:33,422 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:15:33,422 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:15:33,423 Line:1157 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,423 Line:1157 2值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,427 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:15:33,428 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:15:33,428 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:15:33,428 Line:1157 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,430 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:15:33,430 Line:229 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:15:33,430 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:15:33,431 Line:1157 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,434 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:15:33,434 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:15:33,434 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:15:33,435 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,435 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:15:33,435 Line:1157 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,436 Line:1157 2值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,439 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:15:33,439 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:15:33,439 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:15:33,440 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,440 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:15:33,441 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,441 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:15:33,441 Line:1270 0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,441 Line:1270 add
 [DEBUG] 2018-01-05 16:15:33,504 Line:425 ************上述语句执行时间：63
 [DEBUG] 2018-01-05 16:15:33,504 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:15:33,505 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,505 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:15:33,505 Line:1157 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,514 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:15:33,514 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:15:33,514 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:15:33,515 Line:1157 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,524 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:15:33,525 Line:408 ************上述语句执行时间：11
 [DEBUG] 2018-01-05 16:15:33,525 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:15:33,525 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,526 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:15:33,526 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,527 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:15:33,527 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,547 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:15:33,548 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,548 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:15:33,548 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,549 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:15:33,549 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,549 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:15:33,550 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,550 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:15:33,550 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,551 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:15:33,551 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,551 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:15:33,551 Line:1157 1值：0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,553 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:15:33,554 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:15:33,554 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:15:33,554 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,555 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:15:33,555 Line:1270 0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,555 Line:1270 add
 [DEBUG] 2018-01-05 16:15:33,601 Line:425 ************上述语句执行时间：46
 [DEBUG] 2018-01-05 16:15:33,601 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:15:33,602 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,602 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:15:33,603 Line:1270 1
 [DEBUG] 2018-01-05 16:15:33,603 Line:1270 2018
 [DEBUG] 2018-01-05 16:15:33,603 Line:1270 1
 [DEBUG] 2018-01-05 16:15:33,603 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:15:33,603 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:15:33,603 Line:1270 0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,603 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:15:33,603 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:15:33,604 Line:1270 BI1801050006
 [DEBUG] 2018-01-05 16:15:33,604 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:15:33,604 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:15:33,604 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:15:33,604 Line:1270 1
 [DEBUG] 2018-01-05 16:15:33,604 Line:1270 1
 [DEBUG] 2018-01-05 16:15:33,604 Line:1270 2018-01-05 16:15:33
 [DEBUG] 2018-01-05 16:15:33,605 Line:1270 2018-01-05 16:15:33
 [DEBUG] 2018-01-05 16:15:33,605 Line:1270 00001
 [DEBUG] 2018-01-05 16:15:33,605 Line:1270 
 [DEBUG] 2018-01-05 16:15:33,605 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:15:33,605 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:15:33,605 Line:1270 00003
 [DEBUG] 2018-01-05 16:15:33,605 Line:1270 1
 [DEBUG] 2018-01-05 16:15:33,606 Line:1270 00101
 [DEBUG] 2018-01-05 16:15:33,606 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:15:33,606 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:15:33,606 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:15:33,606 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:15:33,606 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:15:33,606 Line:1270 0
 [DEBUG] 2018-01-05 16:15:33,607 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:15:33,607 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:15:33,607 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:15:33,607 Line:1270 f_ref='0e7d2067_1801051615331740047'
 [DEBUG] 2018-01-05 16:15:33,774 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051615331740047','2018-01-05','BI1801050006','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:15:33','2018-01-05 16:15:33','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051615331740047' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:15:33,775 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:15:33,775 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:15:33,775 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:15:33,775 Line:425 ************上述语句执行时间：173
 [DEBUG] 2018-01-05 16:15:33,775 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:15:33,776 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,776 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:15:33,777 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,778 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:15:33,778 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,779 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:15:33,779 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:15:33,780 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,780 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:15:33,781 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,781 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:15:33,781 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,782 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:15:33,782 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:33,782 Line:988 1值：25
 [DEBUG] 2018-01-05 16:15:33,782 Line:988 2值：0
 [DEBUG] 2018-01-05 16:15:33,782 Line:988 3值：25
 [DEBUG] 2018-01-05 16:15:33,782 Line:988 4值：0
 [DEBUG] 2018-01-05 16:15:33,783 Line:988 5值：0
 [DEBUG] 2018-01-05 16:15:33,783 Line:988 6值：1
 [DEBUG] 2018-01-05 16:15:33,784 Line:1023 query condition columnName:RNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 16:15:33,784 Line:1023 query condition columnName:CRNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 16:15:33,784 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:15:33,784 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:15:33,784 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:15:33,785 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,788 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:15:33,791 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:15:33,798 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:15:33,804 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:15:33,810 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:15:33,815 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:15:33,824 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:15:33,829 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:15:33,840 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:15:33,848 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:15:33,947 Line:434 ************上述语句执行时间：162
 [DEBUG] 2018-01-05 16:15:33,947 Line:313 exeCondition:tblBuyInStock_Add_One :25>0
 [DEBUG] 2018-01-05 16:15:33,948 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:33,950 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:15:33,950 Line:1270 10e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:33,950 Line:1270 00003
 [DEBUG] 2018-01-05 16:15:33,950 Line:1270 1
 [DEBUG] 2018-01-05 16:15:33,950 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:15:33,950 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=25@SPFieldLink:RelationDocID=0e7d2067_1801051615331740047@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=25@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:15:33@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:15:33@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:15:33,993 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051615331740047',24,'00003','2018-01-05','1','2018','1','0','25','0e7d2067_1801051615331740047','','1','0','25','1','2018-01-05 16:15:33','1','2018-01-05 16:15:33','00001','tblBuyInStock','BI1801050006','1','00101','0','')
 [DEBUG] 2018-01-05 16:15:33,994 Line:425 ************上述语句执行时间：45
 [DEBUG] 2018-01-05 16:15:33,994 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 25>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:15:33,995 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,995 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:15:33,996 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,997 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:15:33,997 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,998 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&25.00000000>=0
 [DEBUG] 2018-01-05 16:15:33,998 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:33,999 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:15:34,000 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:34,001 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:15:34,002 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:34,002 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:15:34,002 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:15:34,002 Line:988 1值：25
 [DEBUG] 2018-01-05 16:15:34,003 Line:988 2值：0
 [DEBUG] 2018-01-05 16:15:34,003 Line:988 3值：25
 [DEBUG] 2018-01-05 16:15:34,003 Line:988 4值：0
 [DEBUG] 2018-01-05 16:15:34,003 Line:988 5值：0
 [DEBUG] 2018-01-05 16:15:34,004 Line:988 6值：0
 [DEBUG] 2018-01-05 16:15:34,005 Line:1023 query condition columnName:RNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 16:15:34,005 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:15:34,005 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:15:34,005 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:15:34,006 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:15:34,006 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:34,007 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:15:34,007 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:34,008 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:15:34,008 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:34,009 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:15:34,009 Line:321 flag:false
 [DEBUG] 2018-01-05 16:15:34,009 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:15:34,010 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:34,010 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:15:34,010 Line:1270 0e7d2067_1801051615331740047
 [DEBUG] 2018-01-05 16:15:34,011 Line:1270 add
 [DEBUG] 2018-01-05 16:15:34,022 Line:425 ************上述语句执行时间：12
 [DEBUG] 2018-01-05 16:15:34,022 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:15:34,023 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:34,023 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:15:34,043 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:15:34,043 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:15:34,044 Line:443 ************上述语句执行时间：21
 [DEBUG] 2018-01-05 16:15:34,044 Line:313 exeCondition:tblBuyInStock_Add : '\"25\"' == '"25"' 
 [DEBUG] 2018-01-05 16:15:34,044 Line:321 flag:true
 [DEBUG] 2018-01-05 16:15:34,045 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-05 16:15:34,045 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-05 16:28:24,698 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB96453C0A489A09661A9149AA833C7396
 [ERROR] 2018-01-05 16:28:24,758 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:28:32,419 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFBDF8A602001D4E2BF5622FDE4212056BC
 [ERROR] 2018-01-05 16:28:32,467 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:28:41,644 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:28:41,646 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050006,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[25,];TotalTaxAmount=[25,];TotalCoTaxAmt=[0,];CurTotalAmount=[25,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[25,];tblBuyInStockDet_Amount=[25,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[25,];tblBuyInStockDet_DisBackAmt=[25,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[25,];tblBuyInStockDet_TaxAmount=[25,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[25,];tblBuyInStockDet_CurAmount=[25,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:28:41,647 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:28:41,684 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:28:41,685 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:28:41,685 Line:5853 2:
 [DEBUG] 2018-01-05 16:28:41,685 Line:5853 3:0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,685 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:28:41,685 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:28:41,685 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:28:41,685 Line:5853 7:0
 [DEBUG] 2018-01-05 16:28:41,686 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:28:41,686 Line:5853 9:BI1801050006
 [DEBUG] 2018-01-05 16:28:41,686 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:28:41,686 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:28:41,686 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:28:41,686 Line:5853 13:1
 [DEBUG] 2018-01-05 16:28:41,686 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:28:41,687 Line:5853 15:3
 [DEBUG] 2018-01-05 16:28:41,687 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:28:41,687 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:28:41,687 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:28:41,687 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:28:41,687 Line:5853 20:
 [DEBUG] 2018-01-05 16:28:41,687 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:28:41,687 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:28:41,688 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:28:41,688 Line:5853 24:
 [DEBUG] 2018-01-05 16:28:41,688 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:28:41,688 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:28:41,688 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:28:41,688 Line:5853 28:
 [DEBUG] 2018-01-05 16:28:41,688 Line:5853 29:1
 [DEBUG] 2018-01-05 16:28:41,689 Line:5853 30:1
 [DEBUG] 2018-01-05 16:28:41,689 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:28:41,689 Line:5853 32:
 [DEBUG] 2018-01-05 16:28:41,689 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:28:41,689 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:28:41,689 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:28:41,689 Line:5853 36:
 [DEBUG] 2018-01-05 16:28:41,689 Line:5853 37:
 [DEBUG] 2018-01-05 16:28:41,690 Line:5853 38:
 [DEBUG] 2018-01-05 16:28:41,690 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:28:41,690 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:28:41,690 Line:5853 41:
 [DEBUG] 2018-01-05 16:28:41,690 Line:5853 42:
 [DEBUG] 2018-01-05 16:28:41,691 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:28:41,691 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:28:41,691 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:28:41,691 Line:5853 46:
 [DEBUG] 2018-01-05 16:28:41,691 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:28:41,691 Line:5853 48:25.0
 [DEBUG] 2018-01-05 16:28:41,691 Line:5853 49:25.0
 [DEBUG] 2018-01-05 16:28:41,692 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:28:41,692 Line:5853 51:25.0
 [DEBUG] 2018-01-05 16:28:41,692 Line:5853 52:
 [DEBUG] 2018-01-05 16:28:41,692 Line:5853 53:
 [DEBUG] 2018-01-05 16:28:41,692 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:28:41,692 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:28:41,692 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:28:41,693 Line:5853 57:0
 [DEBUG] 2018-01-05 16:28:41,693 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:28:41,693 Line:5853 59:0
 [DEBUG] 2018-01-05 16:28:41,693 Line:5853 60:2018-01-05 16:28:41
 [DEBUG] 2018-01-05 16:28:41,693 Line:5853 61:1
 [DEBUG] 2018-01-05 16:28:41,693 Line:5853 62:2018-01-05 16:28:41
 [DEBUG] 2018-01-05 16:28:41,693 Line:5853 63:1
 [DEBUG] 2018-01-05 16:28:41,693 Line:5853 64:2018-01-05 16:28:41
 [DEBUG] 2018-01-05 16:28:41,698 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:28:41,699 Line:5853 1:0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,699 Line:5853 2:0e7d2067_1801051628416980054
 [DEBUG] 2018-01-05 16:28:41,699 Line:5853 3:
 [DEBUG] 2018-01-05 16:28:41,699 Line:5853 4:
 [DEBUG] 2018-01-05 16:28:41,699 Line:5853 5:
 [DEBUG] 2018-01-05 16:28:41,700 Line:5853 6:
 [DEBUG] 2018-01-05 16:28:41,700 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:28:41,700 Line:5853 8:
 [DEBUG] 2018-01-05 16:28:41,700 Line:5853 9:
 [DEBUG] 2018-01-05 16:28:41,700 Line:5853 10:
 [DEBUG] 2018-01-05 16:28:41,701 Line:5853 11:
 [DEBUG] 2018-01-05 16:28:41,701 Line:5853 12:
 [DEBUG] 2018-01-05 16:28:41,702 Line:5853 13:
 [DEBUG] 2018-01-05 16:28:41,702 Line:5853 14:
 [DEBUG] 2018-01-05 16:28:41,702 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:28:41,702 Line:5853 16:25.0
 [DEBUG] 2018-01-05 16:28:41,702 Line:5853 17:25.0
 [DEBUG] 2018-01-05 16:28:41,702 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:28:41,702 Line:5853 19:0
 [DEBUG] 2018-01-05 16:28:41,702 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:28:41,703 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:28:41,703 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:28:41,703 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:28:41,703 Line:5853 24:25.0
 [DEBUG] 2018-01-05 16:28:41,703 Line:5853 25:25.0
 [DEBUG] 2018-01-05 16:28:41,703 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:28:41,703 Line:5853 27:25.0
 [DEBUG] 2018-01-05 16:28:41,704 Line:5853 28:25.0
 [DEBUG] 2018-01-05 16:28:41,704 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:28:41,704 Line:5853 30:25.0
 [DEBUG] 2018-01-05 16:28:41,704 Line:5853 31:25.0
 [DEBUG] 2018-01-05 16:28:41,704 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:28:41,704 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:28:41,704 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:28:41,704 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:28:41,705 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:28:41,705 Line:5853 37:
 [DEBUG] 2018-01-05 16:28:41,705 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:28:41,705 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:28:41,705 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:28:41,705 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:28:41,705 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:28:41,706 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:28:41,706 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:28:41,706 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:28:41,706 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:28:41,706 Line:5853 47:0
 [DEBUG] 2018-01-05 16:28:41,706 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:28:41,706 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:28:41,706 Line:5853 50:0
 [DEBUG] 2018-01-05 16:28:41,707 Line:5853 51:
 [DEBUG] 2018-01-05 16:28:41,707 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:28:41,707 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:28:41,707 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:28:41,707 Line:5853 55:0
 [DEBUG] 2018-01-05 16:28:41,707 Line:5853 56:0
 [DEBUG] 2018-01-05 16:28:41,707 Line:5853 57:
 [DEBUG] 2018-01-05 16:28:41,708 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:28:41,708 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:28:41,708 Line:5853 60:
 [DEBUG] 2018-01-05 16:28:41,708 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:28:41,708 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:28:41,724 Line:313 exeCondition:tblBuyInStock_Add :25 < 0
 [DEBUG] 2018-01-05 16:28:41,726 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,726 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:28:41,727 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,727 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:28:41,728 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,728 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:28:41,729 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,729 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:28:41,730 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,730 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:28:41,731 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,731 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:28:41,732 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:41,732 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:28:41,733 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,733 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,733 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:28:41,745 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-05 16:28:41,745 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:28:41,746 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,746 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:28:41,746 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,747 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,747 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:28:41,767 Line:1043 ---上述语句时间---21
 [DEBUG] 2018-01-05 16:28:41,768 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:28:41,768 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,769 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:28:41,769 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,769 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,769 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:28:41,781 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-05 16:28:41,781 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:28:41,782 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,782 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:28:41,782 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,783 Line:988 1值：false
 [DEBUG] 2018-01-05 16:28:41,783 Line:988 2值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,802 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:28:41,802 Line:1043 ---上述语句时间---20
 [DEBUG] 2018-01-05 16:28:41,802 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:28:41,803 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,803 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:28:41,803 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,804 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,809 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:28:41,809 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:28:41,810 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,810 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:28:41,810 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,810 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,829 Line:1043 ---上述语句时间---19
 [DEBUG] 2018-01-05 16:28:41,829 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:28:41,830 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,830 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:28:41,831 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,831 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,834 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:28:41,834 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:28:41,835 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,835 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:28:41,836 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,836 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,839 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:28:41,840 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:28:41,841 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,841 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:28:41,841 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,842 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:28:41,842 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,842 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,845 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:28:41,845 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:28:41,846 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,846 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:28:41,846 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,847 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:28:41,847 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,847 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,849 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:28:41,849 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:28:41,850 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,850 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:28:41,850 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,850 Line:988 1值：25
 [DEBUG] 2018-01-05 16:28:41,850 Line:988 2值：0
 [DEBUG] 2018-01-05 16:28:41,851 Line:988 3值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,886 Line:1025 query condition columnName:SumDetAmt----value:25.0
 [DEBUG] 2018-01-05 16:28:41,886 Line:1025 query condition columnName:sumMainAmt----value:25.0
 [DEBUG] 2018-01-05 16:28:41,886 Line:1043 ---上述语句时间---36
 [DEBUG] 2018-01-05 16:28:41,886 Line:313 exeCondition:tblBuyInStock_Add :25.0!=25.0
 [DEBUG] 2018-01-05 16:28:41,887 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,887 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:28:41,887 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,888 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,900 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-05 16:28:41,900 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:28:41,901 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,901 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:28:41,902 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,902 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,905 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:28:41,906 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:28:41,906 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,907 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:28:41,907 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,907 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,910 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:28:41,910 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:28:41,911 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,911 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:28:41,911 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,911 Line:988 1值：
 [DEBUG] 2018-01-05 16:28:41,911 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:28:41,928 Line:1043 ---上述语句时间---17
 [DEBUG] 2018-01-05 16:28:41,928 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:28:41,928 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:41,928 Line:988 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,929 Line:988 2值：
 [DEBUG] 2018-01-05 16:28:41,929 Line:988 3值：
 [DEBUG] 2018-01-05 16:28:41,929 Line:988 4值：
 [DEBUG] 2018-01-05 16:28:41,932 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:28:41,933 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:28:41,934 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,934 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:28:41,935 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,935 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:28:41,935 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,936 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:28:41,936 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,937 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:28:41,937 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:41,939 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:28:41,940 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:28:41,941 Line:1157 2值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,954 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:28:41,955 Line:229 ************上述语句执行时间：16
 [DEBUG] 2018-01-05 16:28:41,955 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:28:41,955 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:28:41,955 Line:1157 2值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,956 Line:1157 3值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,965 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:28:41,966 Line:229 ************上述语句执行时间：11
 [DEBUG] 2018-01-05 16:28:41,966 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:28:41,966 Line:1157 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,966 Line:1157 2值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,971 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:28:41,972 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:28:41,972 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:28:41,972 Line:1157 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,975 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:28:41,975 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:28:41,975 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:28:41,975 Line:1157 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,979 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:28:41,979 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:28:41,980 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:28:41,980 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:41,981 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:28:41,981 Line:1157 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,981 Line:1157 2值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,986 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:28:41,987 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:28:41,987 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:28:41,989 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:41,989 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:28:41,989 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:41,990 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:28:41,990 Line:1270 0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:41,990 Line:1270 add
 [DEBUG] 2018-01-05 16:28:42,071 Line:425 ************上述语句执行时间：81
 [DEBUG] 2018-01-05 16:28:42,071 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:28:42,072 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:42,072 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:28:42,073 Line:1157 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:42,084 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:28:42,084 Line:408 ************上述语句执行时间：12
 [DEBUG] 2018-01-05 16:28:42,084 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:28:42,084 Line:1157 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:42,093 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:28:42,093 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:28:42,093 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:28:42,094 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,094 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:28:42,095 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,095 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:28:42,095 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:42,121 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:28:42,121 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,122 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:28:42,122 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,123 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:28:42,123 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,123 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:28:42,124 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,125 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:28:42,126 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,126 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:28:42,127 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:42,127 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:28:42,128 Line:1157 1值：0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:42,130 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:28:42,130 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:28:42,130 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:28:42,131 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:42,131 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:28:42,131 Line:1270 0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:42,131 Line:1270 add
 [DEBUG] 2018-01-05 16:28:42,178 Line:425 ************上述语句执行时间：47
 [DEBUG] 2018-01-05 16:28:42,178 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:28:42,179 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:42,180 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:28:42,180 Line:1270 1
 [DEBUG] 2018-01-05 16:28:42,180 Line:1270 2018
 [DEBUG] 2018-01-05 16:28:42,181 Line:1270 1
 [DEBUG] 2018-01-05 16:28:42,181 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:28:42,181 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:28:42,181 Line:1270 0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:42,181 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:28:42,181 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:28:42,181 Line:1270 BI1801050006
 [DEBUG] 2018-01-05 16:28:42,182 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:28:42,182 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:28:42,182 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:28:42,182 Line:1270 1
 [DEBUG] 2018-01-05 16:28:42,182 Line:1270 1
 [DEBUG] 2018-01-05 16:28:42,182 Line:1270 2018-01-05 16:28:41
 [DEBUG] 2018-01-05 16:28:42,182 Line:1270 2018-01-05 16:28:41
 [DEBUG] 2018-01-05 16:28:42,183 Line:1270 00001
 [DEBUG] 2018-01-05 16:28:42,183 Line:1270 
 [DEBUG] 2018-01-05 16:28:42,183 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:28:42,183 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:28:42,183 Line:1270 00003
 [DEBUG] 2018-01-05 16:28:42,183 Line:1270 1
 [DEBUG] 2018-01-05 16:28:42,183 Line:1270 00101
 [DEBUG] 2018-01-05 16:28:42,184 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:28:42,184 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:28:42,184 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:28:42,184 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:28:42,184 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:28:42,184 Line:1270 0
 [DEBUG] 2018-01-05 16:28:42,184 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:28:42,184 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:28:42,185 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:28:42,185 Line:1270 f_ref='0e7d2067_1801051628416640053'
 [DEBUG] 2018-01-05 16:28:42,382 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051628416640053','2018-01-05','BI1801050006','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:28:41','2018-01-05 16:28:41','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051628416640053' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:28:42,382 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:28:42,382 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:28:42,382 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:28:42,382 Line:425 ************上述语句执行时间：202
 [DEBUG] 2018-01-05 16:28:42,383 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:28:42,383 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,384 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:28:42,384 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:42,385 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:28:42,385 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:42,386 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:28:42,386 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:28:42,387 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,387 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:28:42,388 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,388 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:28:42,388 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,389 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:28:42,389 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:42,389 Line:988 1值：25
 [DEBUG] 2018-01-05 16:28:42,389 Line:988 2值：0
 [DEBUG] 2018-01-05 16:28:42,389 Line:988 3值：25
 [DEBUG] 2018-01-05 16:28:42,389 Line:988 4值：0
 [DEBUG] 2018-01-05 16:28:42,390 Line:988 5值：0
 [DEBUG] 2018-01-05 16:28:42,390 Line:988 6值：1
 [DEBUG] 2018-01-05 16:28:42,391 Line:1023 query condition columnName:RNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 16:28:42,391 Line:1023 query condition columnName:CRNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 16:28:42,391 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:28:42,391 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:28:42,391 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:28:42,392 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:42,400 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:28:42,405 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:28:42,422 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:28:42,429 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:28:42,435 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:28:42,441 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:28:42,448 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:28:42,453 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:28:42,466 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:28:42,475 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:28:42,596 Line:434 ************上述语句执行时间：204
 [DEBUG] 2018-01-05 16:28:42,597 Line:313 exeCondition:tblBuyInStock_Add_One :25>0
 [DEBUG] 2018-01-05 16:28:42,598 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:42,598 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:28:42,599 Line:1270 10e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:42,600 Line:1270 00003
 [DEBUG] 2018-01-05 16:28:42,600 Line:1270 1
 [DEBUG] 2018-01-05 16:28:42,600 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:28:42,600 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=25@SPFieldLink:RelationDocID=0e7d2067_1801051628416640053@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=25@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:28:41@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:28:41@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:28:42,662 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051628416640053',24,'00003','2018-01-05','1','2018','1','0','25','0e7d2067_1801051628416640053','','1','0','25','1','2018-01-05 16:28:41','1','2018-01-05 16:28:41','00001','tblBuyInStock','BI1801050006','1','00101','0','')
 [DEBUG] 2018-01-05 16:28:42,663 Line:425 ************上述语句执行时间：65
 [DEBUG] 2018-01-05 16:28:42,664 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 25>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:28:42,664 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,664 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:28:42,665 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,665 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:28:42,666 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,666 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&25.00000000>=0
 [DEBUG] 2018-01-05 16:28:42,667 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,667 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:28:42,667 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,668 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:28:42,668 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,668 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:28:42,669 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:28:42,669 Line:988 1值：25
 [DEBUG] 2018-01-05 16:28:42,669 Line:988 2值：0
 [DEBUG] 2018-01-05 16:28:42,669 Line:988 3值：25
 [DEBUG] 2018-01-05 16:28:42,669 Line:988 4值：0
 [DEBUG] 2018-01-05 16:28:42,669 Line:988 5值：0
 [DEBUG] 2018-01-05 16:28:42,669 Line:988 6值：0
 [DEBUG] 2018-01-05 16:28:42,670 Line:1023 query condition columnName:RNeedPayAmt----value:25.00000000
 [DEBUG] 2018-01-05 16:28:42,671 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:28:42,671 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:28:42,671 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:28:42,671 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:28:42,672 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,672 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:28:42,672 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,673 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:28:42,673 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,675 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:28:42,676 Line:321 flag:false
 [DEBUG] 2018-01-05 16:28:42,676 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:28:42,676 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:42,677 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:28:42,677 Line:1270 0e7d2067_1801051628416640053
 [DEBUG] 2018-01-05 16:28:42,677 Line:1270 add
 [DEBUG] 2018-01-05 16:28:42,687 Line:425 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 16:28:42,687 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:28:42,688 Line:321 flag:true
 [DEBUG] 2018-01-05 16:28:42,688 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:28:42,783 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [ERROR] 2018-01-05 16:28:42,785 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NumberFormatException: For input string: ""25""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Integer.parseInt(Integer.java:569)
	at java.lang.Integer.parseInt(Integer.java:615)
	at tzhive.HiveServlet.optHive(HiveServlet.java:91)
	... 50 more
[ERROR] 2018-01-05 16:28:42,786 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=For input string: ""25""
 [DEBUG] 2018-01-05 16:29:13,243 Line:215 ---------->SET Page 4 DEFAULT URL = /LogManageAction.do
 [DEBUG] 2018-01-05 16:33:51,567 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 16:33:51,568 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 16:33:51,569 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:33:51,739 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 16:33:51,740 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 16:33:51,755 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 16:33:51,756 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:33:51,757 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:33:51,766 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 16:33:51,767 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:33:51,768 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:33:51,774 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 16:33:51,774 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:33:51,775 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:33:51,780 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 16:33:51,781 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:33:51,781 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:33:53,910 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 16:33:53,911 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 16:33:53,913 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:33:54,047 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 16:33:54,048 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 16:33:54,071 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 16:33:54,071 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:33:54,072 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:33:54,080 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 16:33:54,080 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:33:54,081 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:33:54,087 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 16:33:54,088 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:33:54,089 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:33:54,094 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 16:33:54,095 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:33:54,095 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:34:01,502 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-05 16:34:01,502 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-05 16:34:01,502 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-05 16:34:01,550 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-05 16:34:01,551 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-05 16:34:01,614 Line:689 通过SQL读原始数据：63
 [DEBUG] 2018-01-05 16:34:01,616 Line:1391 整理数据：1
 [DEBUG] 2018-01-05 16:34:03,351 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 16:34:03,351 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 16:34:04,738 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 16:34:04,738 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 16:34:04,769 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 16:34:04,770 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 16:34:04,770 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-05 16:34:04,772 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 16:34:04,772 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 16:34:04,778 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-05'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 16:34:07,032 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 16:34:07,032 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 16:34:07,056 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 16:34:07,056 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 16:34:07,057 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 16:34:07,057 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 16:34:07,058 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-05 16:34:07,060 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 16:34:09,626 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-05 16:34:09,626 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-05 16:34:09,665 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 16:34:09,665 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-05 16:34:09,666 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 16:34:09,666 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 16:34:09,667 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-05 16:34:09,673 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 16:34:15,148 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:34:15,149 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050007,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:34:15,150 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:34:15,165 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:34:15,165 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:34:15,166 Line:5853 2:
 [DEBUG] 2018-01-05 16:34:15,166 Line:5853 3:0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,166 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:34:15,166 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:34:15,166 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:34:15,167 Line:5853 7:0
 [DEBUG] 2018-01-05 16:34:15,167 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:34:15,167 Line:5853 9:BI1801050007
 [DEBUG] 2018-01-05 16:34:15,167 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:34:15,167 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:34:15,168 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:34:15,168 Line:5853 13:1
 [DEBUG] 2018-01-05 16:34:15,168 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:34:15,168 Line:5853 15:3
 [DEBUG] 2018-01-05 16:34:15,168 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:34:15,168 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:34:15,169 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:34:15,169 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:34:15,169 Line:5853 20:
 [DEBUG] 2018-01-05 16:34:15,169 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:34:15,170 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:34:15,170 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:34:15,170 Line:5853 24:
 [DEBUG] 2018-01-05 16:34:15,170 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:34:15,170 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:34:15,170 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:34:15,170 Line:5853 28:
 [DEBUG] 2018-01-05 16:34:15,171 Line:5853 29:1
 [DEBUG] 2018-01-05 16:34:15,171 Line:5853 30:1
 [DEBUG] 2018-01-05 16:34:15,171 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:34:15,172 Line:5853 32:
 [DEBUG] 2018-01-05 16:34:15,173 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:34:15,174 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:34:15,174 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:34:15,174 Line:5853 36:
 [DEBUG] 2018-01-05 16:34:15,174 Line:5853 37:
 [DEBUG] 2018-01-05 16:34:15,174 Line:5853 38:
 [DEBUG] 2018-01-05 16:34:15,174 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:34:15,175 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:34:15,175 Line:5853 41:
 [DEBUG] 2018-01-05 16:34:15,175 Line:5853 42:
 [DEBUG] 2018-01-05 16:34:15,175 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:34:15,175 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:34:15,175 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:34:15,175 Line:5853 46:
 [DEBUG] 2018-01-05 16:34:15,175 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:34:15,176 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:34:15,176 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:34:15,176 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:34:15,176 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:34:15,176 Line:5853 52:
 [DEBUG] 2018-01-05 16:34:15,176 Line:5853 53:
 [DEBUG] 2018-01-05 16:34:15,177 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:34:15,177 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:34:15,178 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:34:15,178 Line:5853 57:0
 [DEBUG] 2018-01-05 16:34:15,178 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:34:15,179 Line:5853 59:0
 [DEBUG] 2018-01-05 16:34:15,179 Line:5853 60:2018-01-05 16:34:15
 [DEBUG] 2018-01-05 16:34:15,179 Line:5853 61:1
 [DEBUG] 2018-01-05 16:34:15,179 Line:5853 62:2018-01-05 16:34:15
 [DEBUG] 2018-01-05 16:34:15,179 Line:5853 63:1
 [DEBUG] 2018-01-05 16:34:15,179 Line:5853 64:2018-01-05 16:34:15
 [DEBUG] 2018-01-05 16:34:15,184 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:34:15,184 Line:5853 1:0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,184 Line:5853 2:0e7d2067_1801051634151840058
 [DEBUG] 2018-01-05 16:34:15,184 Line:5853 3:
 [DEBUG] 2018-01-05 16:34:15,185 Line:5853 4:
 [DEBUG] 2018-01-05 16:34:15,185 Line:5853 5:
 [DEBUG] 2018-01-05 16:34:15,185 Line:5853 6:
 [DEBUG] 2018-01-05 16:34:15,185 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:34:15,185 Line:5853 8:
 [DEBUG] 2018-01-05 16:34:15,185 Line:5853 9:
 [DEBUG] 2018-01-05 16:34:15,185 Line:5853 10:
 [DEBUG] 2018-01-05 16:34:15,186 Line:5853 11:
 [DEBUG] 2018-01-05 16:34:15,186 Line:5853 12:
 [DEBUG] 2018-01-05 16:34:15,186 Line:5853 13:
 [DEBUG] 2018-01-05 16:34:15,186 Line:5853 14:
 [DEBUG] 2018-01-05 16:34:15,186 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:34:15,186 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:34:15,186 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:34:15,186 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:34:15,187 Line:5853 19:0
 [DEBUG] 2018-01-05 16:34:15,187 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:34:15,187 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:34:15,187 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:34:15,187 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:34:15,187 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:34:15,187 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:34:15,188 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:34:15,188 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:34:15,188 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:34:15,188 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:34:15,188 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:34:15,188 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:34:15,188 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:34:15,188 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:34:15,189 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:34:15,189 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:34:15,189 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:34:15,189 Line:5853 37:
 [DEBUG] 2018-01-05 16:34:15,189 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:34:15,189 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:34:15,189 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:34:15,190 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:34:15,190 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:34:15,190 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:34:15,190 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:34:15,190 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:34:15,190 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:34:15,190 Line:5853 47:0
 [DEBUG] 2018-01-05 16:34:15,190 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:34:15,191 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:34:15,191 Line:5853 50:0
 [DEBUG] 2018-01-05 16:34:15,191 Line:5853 51:
 [DEBUG] 2018-01-05 16:34:15,191 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:34:15,191 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:34:15,191 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:34:15,191 Line:5853 55:0
 [DEBUG] 2018-01-05 16:34:15,192 Line:5853 56:0
 [DEBUG] 2018-01-05 16:34:15,192 Line:5853 57:
 [DEBUG] 2018-01-05 16:34:15,192 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:34:15,192 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:34:15,192 Line:5853 60:
 [DEBUG] 2018-01-05 16:34:15,192 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:34:15,192 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:34:15,200 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:34:15,201 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,202 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:34:15,203 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,203 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:34:15,203 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,204 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:34:15,204 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,204 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:34:15,205 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,205 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:34:15,206 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,206 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:34:15,206 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,207 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:34:15,207 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,207 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,208 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:34:15,211 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:34:15,211 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:34:15,212 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,212 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:34:15,212 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,212 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,213 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:34:15,217 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:34:15,218 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:34:15,218 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,219 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:34:15,219 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,219 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,219 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:34:15,225 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:34:15,226 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:34:15,226 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,227 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:34:15,227 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,227 Line:988 1值：false
 [DEBUG] 2018-01-05 16:34:15,227 Line:988 2值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,235 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:34:15,236 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 16:34:15,236 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:34:15,237 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,237 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:34:15,237 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,237 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,242 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:34:15,243 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:34:15,245 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,245 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:34:15,245 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,245 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,248 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:34:15,248 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:34:15,249 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,249 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:34:15,249 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,250 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,253 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:34:15,253 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:34:15,254 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,254 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:34:15,254 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,254 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,258 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:34:15,258 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:34:15,259 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,259 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:34:15,260 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,261 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:34:15,261 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,261 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,264 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:34:15,265 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:34:15,266 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,266 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:34:15,267 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,267 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:34:15,267 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,268 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,270 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:34:15,270 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:34:15,271 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,271 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:34:15,271 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,271 Line:988 1值：1
 [DEBUG] 2018-01-05 16:34:15,271 Line:988 2值：0
 [DEBUG] 2018-01-05 16:34:15,272 Line:988 3值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,304 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:34:15,304 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:34:15,304 Line:1043 ---上述语句时间---33
 [DEBUG] 2018-01-05 16:34:15,304 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:34:15,305 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,305 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:34:15,305 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,306 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,315 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:34:15,315 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:34:15,316 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,317 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:34:15,317 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,317 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,319 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:34:15,319 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:34:15,320 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,320 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:34:15,320 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,321 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,324 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:34:15,324 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:34:15,324 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,324 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:34:15,324 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,324 Line:988 1值：
 [DEBUG] 2018-01-05 16:34:15,325 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:34:15,333 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 16:34:15,333 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:34:15,333 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,333 Line:988 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,334 Line:988 2值：
 [DEBUG] 2018-01-05 16:34:15,334 Line:988 3值：
 [DEBUG] 2018-01-05 16:34:15,334 Line:988 4值：
 [DEBUG] 2018-01-05 16:34:15,337 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:34:15,337 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:34:15,338 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,339 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:34:15,339 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,339 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:34:15,340 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,340 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:34:15,341 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,341 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:34:15,341 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,342 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:34:15,342 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:34:15,342 Line:1157 2值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,345 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:34:15,346 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:34:15,346 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:34:15,346 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:34:15,346 Line:1157 2值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,346 Line:1157 3值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,351 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:34:15,351 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:34:15,351 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:34:15,352 Line:1157 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,352 Line:1157 2值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,358 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:34:15,358 Line:229 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 16:34:15,358 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:34:15,359 Line:1157 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,362 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:34:15,362 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:34:15,362 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:34:15,362 Line:1157 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,366 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:34:15,366 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:34:15,366 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:34:15,367 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,367 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:34:15,367 Line:1157 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,367 Line:1157 2值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,370 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:34:15,371 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:34:15,371 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:34:15,372 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,372 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:34:15,373 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,373 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:34:15,373 Line:1270 0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,373 Line:1270 add
 [DEBUG] 2018-01-05 16:34:15,439 Line:425 ************上述语句执行时间：66
 [DEBUG] 2018-01-05 16:34:15,439 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:34:15,440 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,440 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:34:15,440 Line:1157 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,449 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:34:15,449 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:34:15,450 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:34:15,450 Line:1157 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,458 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:34:15,459 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:34:15,459 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:34:15,460 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,460 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:34:15,461 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,461 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:34:15,462 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,468 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:34:15,468 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,469 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:34:15,469 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,469 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:34:15,470 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,470 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:34:15,470 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,471 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:34:15,471 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,471 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:34:15,472 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,472 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:34:15,472 Line:1157 1值：0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,475 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:34:15,475 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:34:15,476 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:34:15,478 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,478 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:34:15,479 Line:1270 0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,488 Line:1270 add
 [DEBUG] 2018-01-05 16:34:15,536 Line:425 ************上述语句执行时间：58
 [DEBUG] 2018-01-05 16:34:15,536 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:34:15,540 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,540 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:34:15,541 Line:1270 1
 [DEBUG] 2018-01-05 16:34:15,541 Line:1270 2018
 [DEBUG] 2018-01-05 16:34:15,541 Line:1270 1
 [DEBUG] 2018-01-05 16:34:15,541 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:34:15,541 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:34:15,541 Line:1270 0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,542 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:34:15,542 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:34:15,542 Line:1270 BI1801050007
 [DEBUG] 2018-01-05 16:34:15,542 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:34:15,542 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:34:15,542 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:34:15,543 Line:1270 1
 [DEBUG] 2018-01-05 16:34:15,543 Line:1270 1
 [DEBUG] 2018-01-05 16:34:15,543 Line:1270 2018-01-05 16:34:15
 [DEBUG] 2018-01-05 16:34:15,543 Line:1270 2018-01-05 16:34:15
 [DEBUG] 2018-01-05 16:34:15,543 Line:1270 00001
 [DEBUG] 2018-01-05 16:34:15,543 Line:1270 
 [DEBUG] 2018-01-05 16:34:15,544 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:34:15,544 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:34:15,544 Line:1270 00003
 [DEBUG] 2018-01-05 16:34:15,544 Line:1270 1
 [DEBUG] 2018-01-05 16:34:15,545 Line:1270 00101
 [DEBUG] 2018-01-05 16:34:15,545 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:34:15,545 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:34:15,545 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:34:15,545 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:34:15,545 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:34:15,545 Line:1270 0
 [DEBUG] 2018-01-05 16:34:15,546 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:34:15,546 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:34:15,546 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:34:15,546 Line:1270 f_ref='0e7d2067_1801051634151600057'
 [DEBUG] 2018-01-05 16:34:15,725 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051634151600057','2018-01-05','BI1801050007','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:34:15','2018-01-05 16:34:15','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051634151600057' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:34:15,726 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:34:15,726 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:34:15,726 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:34:15,726 Line:425 ************上述语句执行时间：186
 [DEBUG] 2018-01-05 16:34:15,726 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:34:15,728 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,729 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:34:15,729 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,730 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:34:15,730 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,731 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:34:15,731 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:34:15,732 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,732 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:34:15,733 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,733 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:34:15,733 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,734 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:34:15,734 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,734 Line:988 1值：1
 [DEBUG] 2018-01-05 16:34:15,734 Line:988 2值：0
 [DEBUG] 2018-01-05 16:34:15,734 Line:988 3值：1
 [DEBUG] 2018-01-05 16:34:15,734 Line:988 4值：0
 [DEBUG] 2018-01-05 16:34:15,735 Line:988 5值：0
 [DEBUG] 2018-01-05 16:34:15,735 Line:988 6值：1
 [DEBUG] 2018-01-05 16:34:15,736 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:34:15,736 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:34:15,736 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:34:15,736 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:34:15,736 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:34:15,737 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,741 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:34:15,744 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:34:15,755 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:34:15,761 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:34:15,767 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:34:15,772 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:34:15,781 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:34:15,787 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:34:15,798 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:34:15,805 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:34:15,906 Line:434 ************上述语句执行时间：169
 [DEBUG] 2018-01-05 16:34:15,906 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:34:15,907 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,907 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:34:15,907 Line:1270 10e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,908 Line:1270 00003
 [DEBUG] 2018-01-05 16:34:15,908 Line:1270 1
 [DEBUG] 2018-01-05 16:34:15,908 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:34:15,908 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051634151600057@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:34:15@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:34:15@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050007@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:34:15,954 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051634151600057',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051634151600057','','1','0','1','1','2018-01-05 16:34:15','1','2018-01-05 16:34:15','00001','tblBuyInStock','BI1801050007','1','00101','0','')
 [DEBUG] 2018-01-05 16:34:15,955 Line:425 ************上述语句执行时间：48
 [DEBUG] 2018-01-05 16:34:15,955 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:34:15,956 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,957 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:34:15,957 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,958 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:34:15,958 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,958 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:34:15,959 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,959 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:34:15,960 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,961 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:34:15,962 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,962 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:34:15,962 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:34:15,962 Line:988 1值：1
 [DEBUG] 2018-01-05 16:34:15,962 Line:988 2值：0
 [DEBUG] 2018-01-05 16:34:15,962 Line:988 3值：1
 [DEBUG] 2018-01-05 16:34:15,963 Line:988 4值：0
 [DEBUG] 2018-01-05 16:34:15,963 Line:988 5值：0
 [DEBUG] 2018-01-05 16:34:15,963 Line:988 6值：0
 [DEBUG] 2018-01-05 16:34:15,964 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:34:15,964 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:34:15,964 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:34:15,965 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:34:15,965 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:34:15,965 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,966 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:34:15,966 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,966 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:34:15,967 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,967 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:34:15,967 Line:321 flag:false
 [DEBUG] 2018-01-05 16:34:15,968 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:34:15,968 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,968 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:34:15,969 Line:1270 0e7d2067_1801051634151600057
 [DEBUG] 2018-01-05 16:34:15,969 Line:1270 add
 [DEBUG] 2018-01-05 16:34:15,975 Line:425 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 16:34:15,976 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:34:15,976 Line:321 flag:true
 [DEBUG] 2018-01-05 16:34:15,977 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:34:15,997 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [ERROR] 2018-01-05 16:34:15,998 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NumberFormatException: For input string: ""25"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Integer.parseInt(Integer.java:569)
	at java.lang.Integer.parseInt(Integer.java:615)
	at tzhive.HiveServlet.optHive(HiveServlet.java:91)
	... 50 more
[ERROR] 2018-01-05 16:34:15,999 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=For input string: ""25"
 [DEBUG] 2018-01-05 16:34:55,497 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 16:34:55,500 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 16:34:55,503 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:34:55,653 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 16:34:55,653 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 16:34:55,666 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 16:34:55,666 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:34:55,667 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:34:55,678 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 16:34:55,679 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:34:55,679 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:34:55,687 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 16:34:55,688 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:34:55,688 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:34:55,695 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 16:34:55,695 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 16:34:55,696 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 16:34:59,496 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-05 16:34:59,497 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-05 16:34:59,497 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-05 16:34:59,527 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-05 16:34:59,527 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-05 16:34:59,551 Line:689 通过SQL读原始数据：24
 [DEBUG] 2018-01-05 16:34:59,555 Line:1391 整理数据：3
 [DEBUG] 2018-01-05 16:35:01,308 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 16:35:01,308 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 16:35:02,650 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 16:35:02,651 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 16:35:02,676 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 16:35:02,676 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 16:35:02,677 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 16:35:02,678 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 16:35:02,678 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-05 16:35:02,683 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-05'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 16:35:05,059 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 16:35:05,059 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 16:35:05,082 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 16:35:05,082 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 16:35:05,083 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 16:35:05,084 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 16:35:05,084 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-05 16:35:05,087 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 16:35:07,470 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-05 16:35:07,470 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-05 16:35:07,500 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 16:35:07,500 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 16:35:07,500 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-05 16:35:07,501 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-05 16:35:07,501 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 16:35:07,507 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 16:35:10,981 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:35:10,983 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050008,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:35:10,984 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:35:10,988 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:35:10,988 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:35:10,989 Line:5853 2:
 [DEBUG] 2018-01-05 16:35:10,989 Line:5853 3:0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:10,989 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:35:10,989 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:35:10,989 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:35:10,989 Line:5853 7:0
 [DEBUG] 2018-01-05 16:35:10,990 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:35:10,990 Line:5853 9:BI1801050008
 [DEBUG] 2018-01-05 16:35:10,990 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:35:10,990 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:35:10,990 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:35:10,991 Line:5853 13:1
 [DEBUG] 2018-01-05 16:35:10,991 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:35:10,991 Line:5853 15:3
 [DEBUG] 2018-01-05 16:35:10,991 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:35:10,991 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:35:10,992 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:35:10,992 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:35:10,992 Line:5853 20:
 [DEBUG] 2018-01-05 16:35:10,993 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:35:10,993 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:35:10,993 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:35:10,994 Line:5853 24:
 [DEBUG] 2018-01-05 16:35:10,994 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:35:10,994 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:35:10,994 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:35:10,995 Line:5853 28:
 [DEBUG] 2018-01-05 16:35:10,995 Line:5853 29:1
 [DEBUG] 2018-01-05 16:35:10,996 Line:5853 30:1
 [DEBUG] 2018-01-05 16:35:10,996 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:35:10,996 Line:5853 32:
 [DEBUG] 2018-01-05 16:35:10,996 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:35:10,996 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:35:10,997 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:35:10,997 Line:5853 36:
 [DEBUG] 2018-01-05 16:35:10,997 Line:5853 37:
 [DEBUG] 2018-01-05 16:35:10,997 Line:5853 38:
 [DEBUG] 2018-01-05 16:35:10,997 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:35:10,998 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:35:10,998 Line:5853 41:
 [DEBUG] 2018-01-05 16:35:10,998 Line:5853 42:
 [DEBUG] 2018-01-05 16:35:10,998 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:35:10,998 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:35:10,998 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:35:10,999 Line:5853 46:
 [DEBUG] 2018-01-05 16:35:10,999 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:35:10,999 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:35:10,999 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:35:10,999 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:35:10,999 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:35:11,000 Line:5853 52:
 [DEBUG] 2018-01-05 16:35:11,001 Line:5853 53:
 [DEBUG] 2018-01-05 16:35:11,002 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:35:11,003 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:35:11,003 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:35:11,003 Line:5853 57:0
 [DEBUG] 2018-01-05 16:35:11,004 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:35:11,004 Line:5853 59:0
 [DEBUG] 2018-01-05 16:35:11,004 Line:5853 60:2018-01-05 16:35:10
 [DEBUG] 2018-01-05 16:35:11,004 Line:5853 61:1
 [DEBUG] 2018-01-05 16:35:11,005 Line:5853 62:2018-01-05 16:35:10
 [DEBUG] 2018-01-05 16:35:11,005 Line:5853 63:1
 [DEBUG] 2018-01-05 16:35:11,005 Line:5853 64:2018-01-05 16:35:10
 [DEBUG] 2018-01-05 16:35:11,006 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:35:11,006 Line:5853 1:0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,006 Line:5853 2:0e7d2067_1801051635110060062
 [DEBUG] 2018-01-05 16:35:11,006 Line:5853 3:
 [DEBUG] 2018-01-05 16:35:11,007 Line:5853 4:
 [DEBUG] 2018-01-05 16:35:11,007 Line:5853 5:
 [DEBUG] 2018-01-05 16:35:11,007 Line:5853 6:
 [DEBUG] 2018-01-05 16:35:11,007 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:35:11,007 Line:5853 8:
 [DEBUG] 2018-01-05 16:35:11,007 Line:5853 9:
 [DEBUG] 2018-01-05 16:35:11,007 Line:5853 10:
 [DEBUG] 2018-01-05 16:35:11,008 Line:5853 11:
 [DEBUG] 2018-01-05 16:35:11,008 Line:5853 12:
 [DEBUG] 2018-01-05 16:35:11,008 Line:5853 13:
 [DEBUG] 2018-01-05 16:35:11,008 Line:5853 14:
 [DEBUG] 2018-01-05 16:35:11,008 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:35:11,008 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:35:11,008 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:35:11,009 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:35:11,009 Line:5853 19:0
 [DEBUG] 2018-01-05 16:35:11,009 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:35:11,009 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:35:11,009 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:35:11,009 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:35:11,009 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:35:11,010 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:35:11,010 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:35:11,010 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:35:11,010 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:35:11,010 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:35:11,010 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:35:11,010 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:35:11,011 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:35:11,011 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:35:11,011 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:35:11,011 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:35:11,011 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:35:11,011 Line:5853 37:
 [DEBUG] 2018-01-05 16:35:11,012 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:35:11,012 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:35:11,012 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:35:11,012 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:35:11,012 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:35:11,012 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:35:11,012 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:35:11,013 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:35:11,013 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:35:11,013 Line:5853 47:0
 [DEBUG] 2018-01-05 16:35:11,013 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:35:11,013 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:35:11,013 Line:5853 50:0
 [DEBUG] 2018-01-05 16:35:11,014 Line:5853 51:
 [DEBUG] 2018-01-05 16:35:11,014 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:35:11,014 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:35:11,015 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:35:11,015 Line:5853 55:0
 [DEBUG] 2018-01-05 16:35:11,015 Line:5853 56:0
 [DEBUG] 2018-01-05 16:35:11,015 Line:5853 57:
 [DEBUG] 2018-01-05 16:35:11,015 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:35:11,016 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:35:11,016 Line:5853 60:
 [DEBUG] 2018-01-05 16:35:11,016 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:35:11,016 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:35:11,017 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:35:11,019 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,019 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:35:11,020 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,020 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:35:11,021 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,021 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:35:11,021 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,022 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:35:11,022 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,022 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:35:11,023 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,023 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:35:11,024 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,025 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:35:11,025 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,025 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,025 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:35:11,026 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,026 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:35:11,027 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,027 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:35:11,027 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,027 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,028 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:35:11,028 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,028 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:35:11,029 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,029 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:35:11,029 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,029 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,030 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:35:11,030 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,030 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:35:11,031 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,031 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:35:11,031 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,032 Line:988 1值：false
 [DEBUG] 2018-01-05 16:35:11,032 Line:988 2值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,033 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:35:11,033 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:35:11,033 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:35:11,034 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,034 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:35:11,034 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,034 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,035 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,035 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:35:11,036 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,036 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:35:11,036 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,036 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,037 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,037 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:35:11,038 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,039 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:35:11,039 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,040 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,041 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:35:11,041 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:35:11,042 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,042 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:35:11,042 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,042 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,043 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,043 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:35:11,044 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,044 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:35:11,045 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,045 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:35:11,045 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,045 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,046 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,046 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:35:11,048 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,048 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:35:11,049 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,049 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:35:11,050 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,050 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,050 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,051 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:35:11,051 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,052 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:35:11,052 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,052 Line:988 1值：1
 [DEBUG] 2018-01-05 16:35:11,052 Line:988 2值：0
 [DEBUG] 2018-01-05 16:35:11,052 Line:988 3值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,053 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:35:11,053 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:35:11,053 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:35:11,054 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:35:11,054 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,054 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:35:11,055 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,055 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,056 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:35:11,056 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:35:11,057 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,057 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:35:11,058 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,058 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,059 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:35:11,059 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:35:11,059 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,060 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:35:11,060 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,060 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,061 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,061 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:35:11,061 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,062 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:35:11,062 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,062 Line:988 1值：
 [DEBUG] 2018-01-05 16:35:11,062 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:35:11,063 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,063 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:35:11,064 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,064 Line:988 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,064 Line:988 2值：
 [DEBUG] 2018-01-05 16:35:11,064 Line:988 3值：
 [DEBUG] 2018-01-05 16:35:11,064 Line:988 4值：
 [DEBUG] 2018-01-05 16:35:11,065 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:35:11,065 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:35:11,066 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,066 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:35:11,067 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,067 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:35:11,067 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,068 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:35:11,068 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,068 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:35:11,069 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,070 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:35:11,070 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:35:11,070 Line:1157 2值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,070 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:35:11,071 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:35:11,071 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:35:11,071 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:35:11,071 Line:1157 2值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,071 Line:1157 3值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,072 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:35:11,072 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:35:11,072 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:35:11,072 Line:1157 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,073 Line:1157 2值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,073 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:35:11,073 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:35:11,074 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:35:11,074 Line:1157 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,074 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:35:11,075 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:35:11,075 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:35:11,075 Line:1157 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,076 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:35:11,076 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:35:11,076 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:35:11,077 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,077 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:35:11,077 Line:1157 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,077 Line:1157 2值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,078 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:35:11,078 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:35:11,078 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:35:11,079 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,079 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:35:11,079 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,080 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:35:11,080 Line:1270 0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,080 Line:1270 add
 [DEBUG] 2018-01-05 16:35:11,081 Line:425 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:35:11,081 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:35:11,082 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,082 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:35:11,083 Line:1157 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,083 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:35:11,083 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:35:11,084 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:35:11,084 Line:1157 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,084 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:35:11,084 Line:408 ************上述语句执行时间：0
 [DEBUG] 2018-01-05 16:35:11,085 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:35:11,085 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,085 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:35:11,086 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,086 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:35:11,087 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,089 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:35:11,090 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,090 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:35:11,090 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,091 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:35:11,091 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,091 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:35:11,092 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,092 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:35:11,093 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,093 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:35:11,093 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,094 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:35:11,094 Line:1157 1值：0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,094 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:35:11,094 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:35:11,095 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:35:11,095 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,095 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:35:11,096 Line:1270 0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,096 Line:1270 add
 [DEBUG] 2018-01-05 16:35:11,097 Line:425 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:35:11,097 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:35:11,098 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,098 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:35:11,099 Line:1270 1
 [DEBUG] 2018-01-05 16:35:11,099 Line:1270 2018
 [DEBUG] 2018-01-05 16:35:11,099 Line:1270 1
 [DEBUG] 2018-01-05 16:35:11,099 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:35:11,099 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:35:11,100 Line:1270 0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,100 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:35:11,100 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:35:11,100 Line:1270 BI1801050008
 [DEBUG] 2018-01-05 16:35:11,100 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:35:11,101 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:35:11,101 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:35:11,102 Line:1270 1
 [DEBUG] 2018-01-05 16:35:11,102 Line:1270 1
 [DEBUG] 2018-01-05 16:35:11,102 Line:1270 2018-01-05 16:35:10
 [DEBUG] 2018-01-05 16:35:11,103 Line:1270 2018-01-05 16:35:10
 [DEBUG] 2018-01-05 16:35:11,103 Line:1270 00001
 [DEBUG] 2018-01-05 16:35:11,103 Line:1270 
 [DEBUG] 2018-01-05 16:35:11,103 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:35:11,103 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:35:11,104 Line:1270 00003
 [DEBUG] 2018-01-05 16:35:11,104 Line:1270 1
 [DEBUG] 2018-01-05 16:35:11,104 Line:1270 00101
 [DEBUG] 2018-01-05 16:35:11,104 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:35:11,104 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:35:11,104 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:35:11,105 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:35:11,105 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:35:11,105 Line:1270 0
 [DEBUG] 2018-01-05 16:35:11,105 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:35:11,105 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:35:11,105 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:35:11,105 Line:1270 f_ref='0e7d2067_1801051635109870061'
 [DEBUG] 2018-01-05 16:35:11,116 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051635109870061','2018-01-05','BI1801050008','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:35:10','2018-01-05 16:35:10','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051635109870061' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:35:11,116 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:35:11,117 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:35:11,117 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:35:11,117 Line:425 ************上述语句执行时间：19
 [DEBUG] 2018-01-05 16:35:11,117 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:35:11,118 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,118 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:35:11,118 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,119 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:35:11,119 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,120 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:35:11,120 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:35:11,121 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,121 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:35:11,122 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,122 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:35:11,123 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,123 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:35:11,123 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,123 Line:988 1值：1
 [DEBUG] 2018-01-05 16:35:11,123 Line:988 2值：0
 [DEBUG] 2018-01-05 16:35:11,123 Line:988 3值：1
 [DEBUG] 2018-01-05 16:35:11,124 Line:988 4值：0
 [DEBUG] 2018-01-05 16:35:11,124 Line:988 5值：0
 [DEBUG] 2018-01-05 16:35:11,124 Line:988 6值：1
 [DEBUG] 2018-01-05 16:35:11,124 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:35:11,125 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:35:11,125 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:35:11,125 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:35:11,125 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:35:11,125 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,127 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:35:11,127 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:35:11,128 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:35:11,129 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:35:11,130 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:35:11,131 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:35:11,131 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:35:11,132 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:35:11,132 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:35:11,134 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:35:11,141 Line:434 ************上述语句执行时间：15
 [DEBUG] 2018-01-05 16:35:11,141 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:35:11,142 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,142 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:35:11,142 Line:1270 10e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,142 Line:1270 00003
 [DEBUG] 2018-01-05 16:35:11,143 Line:1270 1
 [DEBUG] 2018-01-05 16:35:11,143 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:35:11,143 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051635109870061@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:35:10@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:35:10@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050008@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:35:11,145 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051635109870061',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051635109870061','','1','0','1','1','2018-01-05 16:35:10','1','2018-01-05 16:35:10','00001','tblBuyInStock','BI1801050008','1','00101','0','')
 [DEBUG] 2018-01-05 16:35:11,146 Line:425 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:35:11,146 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:35:11,146 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,147 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:35:11,147 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,147 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:35:11,148 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,148 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:35:11,149 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,149 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:35:11,149 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,150 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:35:11,150 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,150 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:35:11,151 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:35:11,151 Line:988 1值：1
 [DEBUG] 2018-01-05 16:35:11,151 Line:988 2值：0
 [DEBUG] 2018-01-05 16:35:11,151 Line:988 3值：1
 [DEBUG] 2018-01-05 16:35:11,151 Line:988 4值：0
 [DEBUG] 2018-01-05 16:35:11,152 Line:988 5值：0
 [DEBUG] 2018-01-05 16:35:11,152 Line:988 6值：0
 [DEBUG] 2018-01-05 16:35:11,152 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:35:11,153 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:35:11,153 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:35:11,153 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:35:11,153 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:35:11,154 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,155 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:35:11,155 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,156 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:35:11,157 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,157 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:35:11,158 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,158 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:35:11,158 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,159 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:35:11,159 Line:1270 0e7d2067_1801051635109870061
 [DEBUG] 2018-01-05 16:35:11,160 Line:1270 add
 [DEBUG] 2018-01-05 16:35:11,162 Line:425 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:35:11,163 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:35:11,164 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,165 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:35:11,185 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:35:11,185 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:35:11,186 Line:443 ************上述语句执行时间：21
 [DEBUG] 2018-01-05 16:35:11,186 Line:313 exeCondition:tblBuyInStock_Add : false 
 [DEBUG] 2018-01-05 16:35:11,187 Line:321 flag:false
 [DEBUG] 2018-01-05 16:35:11,187 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:35:11,187 Line:321 flag:true
 [DEBUG] 2018-01-05 16:35:11,188 Line:372 ---error，返回信息：25url=
 [ERROR] 2018-01-05 16:35:11,188 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=25
 [DEBUG] 2018-01-05 16:35:53,562 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB9B0469B44E99C33133A3E039F5C82ECB
 [ERROR] 2018-01-05 16:35:53,625 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:36:02,383 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:36:02,384 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050008,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:36:02,385 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:36:02,395 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:36:02,396 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:36:02,396 Line:5853 2:
 [DEBUG] 2018-01-05 16:36:02,396 Line:5853 3:0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,397 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:36:02,397 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:36:02,397 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:36:02,397 Line:5853 7:0
 [DEBUG] 2018-01-05 16:36:02,397 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:36:02,397 Line:5853 9:BI1801050008
 [DEBUG] 2018-01-05 16:36:02,398 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:36:02,398 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:36:02,398 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:36:02,399 Line:5853 13:1
 [DEBUG] 2018-01-05 16:36:02,399 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:36:02,399 Line:5853 15:3
 [DEBUG] 2018-01-05 16:36:02,400 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:36:02,400 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:36:02,400 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:36:02,400 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:36:02,401 Line:5853 20:
 [DEBUG] 2018-01-05 16:36:02,401 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:36:02,401 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:36:02,401 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:36:02,401 Line:5853 24:
 [DEBUG] 2018-01-05 16:36:02,402 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:36:02,402 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:36:02,402 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:36:02,402 Line:5853 28:
 [DEBUG] 2018-01-05 16:36:02,403 Line:5853 29:1
 [DEBUG] 2018-01-05 16:36:02,403 Line:5853 30:1
 [DEBUG] 2018-01-05 16:36:02,403 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:36:02,404 Line:5853 32:
 [DEBUG] 2018-01-05 16:36:02,404 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:36:02,404 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:36:02,404 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:36:02,405 Line:5853 36:
 [DEBUG] 2018-01-05 16:36:02,405 Line:5853 37:
 [DEBUG] 2018-01-05 16:36:02,405 Line:5853 38:
 [DEBUG] 2018-01-05 16:36:02,405 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:36:02,406 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:36:02,406 Line:5853 41:
 [DEBUG] 2018-01-05 16:36:02,406 Line:5853 42:
 [DEBUG] 2018-01-05 16:36:02,406 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:36:02,406 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:36:02,406 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:36:02,407 Line:5853 46:
 [DEBUG] 2018-01-05 16:36:02,407 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:36:02,407 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:36:02,407 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:36:02,407 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:36:02,407 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:36:02,408 Line:5853 52:
 [DEBUG] 2018-01-05 16:36:02,408 Line:5853 53:
 [DEBUG] 2018-01-05 16:36:02,408 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:36:02,408 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:36:02,409 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:36:02,409 Line:5853 57:0
 [DEBUG] 2018-01-05 16:36:02,409 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:36:02,409 Line:5853 59:0
 [DEBUG] 2018-01-05 16:36:02,409 Line:5853 60:2018-01-05 16:36:02
 [DEBUG] 2018-01-05 16:36:02,410 Line:5853 61:1
 [DEBUG] 2018-01-05 16:36:02,410 Line:5853 62:2018-01-05 16:36:02
 [DEBUG] 2018-01-05 16:36:02,410 Line:5853 63:1
 [DEBUG] 2018-01-05 16:36:02,410 Line:5853 64:2018-01-05 16:36:02
 [DEBUG] 2018-01-05 16:36:02,414 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:36:02,415 Line:5853 1:0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,415 Line:5853 2:0e7d2067_1801051636024140067
 [DEBUG] 2018-01-05 16:36:02,415 Line:5853 3:
 [DEBUG] 2018-01-05 16:36:02,415 Line:5853 4:
 [DEBUG] 2018-01-05 16:36:02,416 Line:5853 5:
 [DEBUG] 2018-01-05 16:36:02,416 Line:5853 6:
 [DEBUG] 2018-01-05 16:36:02,416 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:36:02,416 Line:5853 8:
 [DEBUG] 2018-01-05 16:36:02,416 Line:5853 9:
 [DEBUG] 2018-01-05 16:36:02,416 Line:5853 10:
 [DEBUG] 2018-01-05 16:36:02,417 Line:5853 11:
 [DEBUG] 2018-01-05 16:36:02,417 Line:5853 12:
 [DEBUG] 2018-01-05 16:36:02,417 Line:5853 13:
 [DEBUG] 2018-01-05 16:36:02,417 Line:5853 14:
 [DEBUG] 2018-01-05 16:36:02,418 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:36:02,418 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:36:02,418 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:36:02,419 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:36:02,421 Line:5853 19:0
 [DEBUG] 2018-01-05 16:36:02,421 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:36:02,421 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:36:02,421 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:36:02,422 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:36:02,422 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:36:02,422 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:36:02,422 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:36:02,422 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:36:02,422 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:36:02,422 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:36:02,423 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:36:02,423 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:36:02,423 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:36:02,423 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:36:02,423 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:36:02,423 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:36:02,423 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:36:02,424 Line:5853 37:
 [DEBUG] 2018-01-05 16:36:02,424 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:36:02,424 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:36:02,424 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:36:02,424 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:36:02,424 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:36:02,424 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:36:02,425 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:36:02,425 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:36:02,425 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:36:02,425 Line:5853 47:0
 [DEBUG] 2018-01-05 16:36:02,425 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:36:02,425 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:36:02,426 Line:5853 50:0
 [DEBUG] 2018-01-05 16:36:02,426 Line:5853 51:
 [DEBUG] 2018-01-05 16:36:02,426 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:36:02,426 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:36:02,427 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:36:02,427 Line:5853 55:0
 [DEBUG] 2018-01-05 16:36:02,427 Line:5853 56:0
 [DEBUG] 2018-01-05 16:36:02,427 Line:5853 57:
 [DEBUG] 2018-01-05 16:36:02,427 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:36:02,428 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:36:02,428 Line:5853 60:
 [DEBUG] 2018-01-05 16:36:02,428 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:36:02,428 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:36:02,433 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:36:02,435 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,436 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:36:02,436 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,437 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:36:02,437 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,437 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:36:02,438 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,438 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:36:02,439 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,439 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:36:02,440 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,441 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:36:02,442 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,444 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:36:02,445 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,445 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,445 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:36:02,449 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:36:02,449 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:36:02,450 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,450 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:36:02,451 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,452 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,453 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:36:02,458 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 16:36:02,459 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:36:02,459 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,460 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:36:02,460 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,460 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,460 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:36:02,464 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:36:02,464 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:36:02,465 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,465 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:36:02,465 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,466 Line:988 1值：false
 [DEBUG] 2018-01-05 16:36:02,466 Line:988 2值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,471 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:36:02,471 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 16:36:02,471 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:36:02,472 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,472 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:36:02,472 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,473 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,477 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:36:02,478 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:36:02,478 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,479 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:36:02,479 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,479 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,483 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:36:02,483 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:36:02,484 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,484 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:36:02,484 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,484 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,487 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:36:02,487 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:36:02,488 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,488 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:36:02,489 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,489 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,492 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:36:02,493 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:36:02,494 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,494 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:36:02,495 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,496 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:36:02,496 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,496 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,501 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:36:02,501 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:36:02,502 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,502 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:36:02,503 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,504 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:36:02,504 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,504 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,509 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:36:02,509 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:36:02,510 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,510 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:36:02,510 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,510 Line:988 1值：1
 [DEBUG] 2018-01-05 16:36:02,511 Line:988 2值：0
 [DEBUG] 2018-01-05 16:36:02,511 Line:988 3值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,520 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:36:02,520 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:36:02,520 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:36:02,520 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:36:02,521 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,521 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:36:02,521 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,522 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,529 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-05 16:36:02,530 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:36:02,531 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,531 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:36:02,532 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,532 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,533 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:36:02,534 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:36:02,534 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,534 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:36:02,535 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,535 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,537 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:36:02,538 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:36:02,538 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,539 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:36:02,539 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,539 Line:988 1值：
 [DEBUG] 2018-01-05 16:36:02,539 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:36:02,542 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:36:02,542 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:36:02,542 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,542 Line:988 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,542 Line:988 2值：
 [DEBUG] 2018-01-05 16:36:02,543 Line:988 3值：
 [DEBUG] 2018-01-05 16:36:02,543 Line:988 4值：
 [DEBUG] 2018-01-05 16:36:02,546 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:36:02,546 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:36:02,547 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,547 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:36:02,548 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,548 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:36:02,548 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,549 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:36:02,549 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,549 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:36:02,550 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,551 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:36:02,551 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:36:02,551 Line:1157 2值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,554 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:36:02,555 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:36:02,555 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:36:02,555 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:36:02,556 Line:1157 2值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,556 Line:1157 3值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,561 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:36:02,562 Line:229 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 16:36:02,562 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:36:02,562 Line:1157 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,563 Line:1157 2值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,569 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:36:02,570 Line:229 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 16:36:02,570 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:36:02,570 Line:1157 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,572 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:36:02,573 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:36:02,573 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:36:02,573 Line:1157 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,576 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:36:02,577 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:36:02,577 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:36:02,577 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,578 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:36:02,578 Line:1157 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,578 Line:1157 2值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,581 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:36:02,581 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:36:02,582 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:36:02,582 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,582 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:36:02,583 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,583 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:36:02,583 Line:1270 0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,584 Line:1270 add
 [DEBUG] 2018-01-05 16:36:02,648 Line:425 ************上述语句执行时间：65
 [DEBUG] 2018-01-05 16:36:02,648 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:36:02,649 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,649 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:36:02,650 Line:1157 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,659 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:36:02,659 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 16:36:02,659 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:36:02,659 Line:1157 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,668 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:36:02,668 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:36:02,669 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:36:02,669 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,670 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:36:02,670 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,670 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:36:02,671 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,677 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:36:02,678 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,679 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:36:02,679 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,679 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:36:02,680 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,680 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:36:02,681 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,682 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:36:02,683 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,684 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:36:02,684 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,685 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:36:02,685 Line:1157 1值：0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,687 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:36:02,687 Line:408 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:36:02,687 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:36:02,688 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,688 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:36:02,688 Line:1270 0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,689 Line:1270 add
 [DEBUG] 2018-01-05 16:36:02,732 Line:425 ************上述语句执行时间：44
 [DEBUG] 2018-01-05 16:36:02,733 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:36:02,733 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,734 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:36:02,734 Line:1270 1
 [DEBUG] 2018-01-05 16:36:02,734 Line:1270 2018
 [DEBUG] 2018-01-05 16:36:02,734 Line:1270 1
 [DEBUG] 2018-01-05 16:36:02,734 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:36:02,735 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:36:02,735 Line:1270 0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:02,735 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:36:02,735 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:36:02,735 Line:1270 BI1801050008
 [DEBUG] 2018-01-05 16:36:02,735 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:36:02,735 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:36:02,736 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:36:02,736 Line:1270 1
 [DEBUG] 2018-01-05 16:36:02,736 Line:1270 1
 [DEBUG] 2018-01-05 16:36:02,736 Line:1270 2018-01-05 16:36:02
 [DEBUG] 2018-01-05 16:36:02,736 Line:1270 2018-01-05 16:36:02
 [DEBUG] 2018-01-05 16:36:02,736 Line:1270 00001
 [DEBUG] 2018-01-05 16:36:02,736 Line:1270 
 [DEBUG] 2018-01-05 16:36:02,737 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:36:02,737 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:36:02,737 Line:1270 00003
 [DEBUG] 2018-01-05 16:36:02,737 Line:1270 1
 [DEBUG] 2018-01-05 16:36:02,737 Line:1270 00101
 [DEBUG] 2018-01-05 16:36:02,738 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:36:02,738 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:36:02,738 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:36:02,738 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:36:02,738 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:36:02,738 Line:1270 0
 [DEBUG] 2018-01-05 16:36:02,738 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:36:02,739 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:36:02,739 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:36:02,739 Line:1270 f_ref='0e7d2067_1801051636023900066'
 [DEBUG] 2018-01-05 16:36:02,891 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051636023900066','2018-01-05','BI1801050008','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:36:02','2018-01-05 16:36:02','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051636023900066' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:36:02,891 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:36:02,892 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:36:02,892 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:36:02,892 Line:425 ************上述语句执行时间：158
 [DEBUG] 2018-01-05 16:36:02,892 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:36:02,893 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,893 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:36:02,894 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,894 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:36:02,895 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,896 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:36:02,896 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:36:02,897 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,897 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:36:02,897 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,897 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:36:02,898 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:02,898 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:36:02,898 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:02,898 Line:988 1值：1
 [DEBUG] 2018-01-05 16:36:02,899 Line:988 2值：0
 [DEBUG] 2018-01-05 16:36:02,899 Line:988 3值：1
 [DEBUG] 2018-01-05 16:36:02,899 Line:988 4值：0
 [DEBUG] 2018-01-05 16:36:02,899 Line:988 5值：0
 [DEBUG] 2018-01-05 16:36:02,899 Line:988 6值：1
 [DEBUG] 2018-01-05 16:36:02,900 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:36:02,901 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:36:02,901 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:36:02,901 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:36:02,901 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:36:02,902 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:02,905 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:36:02,908 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:36:02,914 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:36:02,920 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:36:02,927 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:36:02,933 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:36:02,940 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:36:02,946 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:36:02,957 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:36:02,965 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:36:03,058 Line:434 ************上述语句执行时间：156
 [DEBUG] 2018-01-05 16:36:03,058 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:36:03,059 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:03,060 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:36:03,060 Line:1270 10e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:03,060 Line:1270 00003
 [DEBUG] 2018-01-05 16:36:03,060 Line:1270 1
 [DEBUG] 2018-01-05 16:36:03,060 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:36:03,061 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051636023900066@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:36:02@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:36:02@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050008@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:36:03,105 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051636023900066',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051636023900066','','1','0','1','1','2018-01-05 16:36:02','1','2018-01-05 16:36:02','00001','tblBuyInStock','BI1801050008','1','00101','0','')
 [DEBUG] 2018-01-05 16:36:03,105 Line:425 ************上述语句执行时间：46
 [DEBUG] 2018-01-05 16:36:03,105 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:36:03,106 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:03,107 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:36:03,108 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:03,109 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:36:03,110 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:03,111 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:36:03,111 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:03,112 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:36:03,112 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:03,113 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:36:03,113 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:03,114 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:36:03,114 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:36:03,114 Line:988 1值：1
 [DEBUG] 2018-01-05 16:36:03,114 Line:988 2值：0
 [DEBUG] 2018-01-05 16:36:03,114 Line:988 3值：1
 [DEBUG] 2018-01-05 16:36:03,115 Line:988 4值：0
 [DEBUG] 2018-01-05 16:36:03,115 Line:988 5值：0
 [DEBUG] 2018-01-05 16:36:03,115 Line:988 6值：0
 [DEBUG] 2018-01-05 16:36:03,116 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:36:03,116 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:36:03,117 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:36:03,117 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:36:03,117 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:36:03,119 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:03,119 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:36:03,120 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:03,120 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:36:03,121 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:03,121 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:36:03,121 Line:321 flag:false
 [DEBUG] 2018-01-05 16:36:03,122 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:36:03,122 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:03,122 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:36:03,122 Line:1270 0e7d2067_1801051636023900066
 [DEBUG] 2018-01-05 16:36:03,123 Line:1270 add
 [DEBUG] 2018-01-05 16:36:03,129 Line:425 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 16:36:03,129 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:36:03,130 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:03,130 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:36:03,150 Line:85 HiveServlet:---->"state": 1,"reason":  "成功??","count":"25"
 [DEBUG] 2018-01-05 16:36:03,150 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:36:03,150 Line:443 ************上述语句执行时间：20
 [DEBUG] 2018-01-05 16:36:03,150 Line:313 exeCondition:tblBuyInStock_Add : 25 > 1 
 [DEBUG] 2018-01-05 16:36:03,151 Line:321 flag:true
 [DEBUG] 2018-01-05 16:36:03,152 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-05 16:36:03,152 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-05 16:40:00,396 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 16:55:59,343 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB3B4B347B2E1D71851E744B5FB9F213DE
 [ERROR] 2018-01-05 16:55:59,406 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:56:12,141 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:56:12,143 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050008,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:56:12,144 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:56:12,186 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:56:12,186 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:56:12,187 Line:5853 2:
 [DEBUG] 2018-01-05 16:56:12,187 Line:5853 3:0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,187 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:56:12,187 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:56:12,187 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:56:12,187 Line:5853 7:0
 [DEBUG] 2018-01-05 16:56:12,188 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:56:12,188 Line:5853 9:BI1801050008
 [DEBUG] 2018-01-05 16:56:12,188 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:56:12,188 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:56:12,188 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:56:12,188 Line:5853 13:1
 [DEBUG] 2018-01-05 16:56:12,188 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:56:12,188 Line:5853 15:3
 [DEBUG] 2018-01-05 16:56:12,189 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:56:12,189 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:56:12,189 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:56:12,189 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:56:12,189 Line:5853 20:
 [DEBUG] 2018-01-05 16:56:12,189 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:56:12,189 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:56:12,190 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:56:12,190 Line:5853 24:
 [DEBUG] 2018-01-05 16:56:12,190 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:56:12,190 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:56:12,190 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:56:12,190 Line:5853 28:
 [DEBUG] 2018-01-05 16:56:12,190 Line:5853 29:1
 [DEBUG] 2018-01-05 16:56:12,191 Line:5853 30:1
 [DEBUG] 2018-01-05 16:56:12,191 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:56:12,191 Line:5853 32:
 [DEBUG] 2018-01-05 16:56:12,191 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:56:12,191 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:56:12,191 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:56:12,191 Line:5853 36:
 [DEBUG] 2018-01-05 16:56:12,191 Line:5853 37:
 [DEBUG] 2018-01-05 16:56:12,192 Line:5853 38:
 [DEBUG] 2018-01-05 16:56:12,192 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:56:12,192 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:56:12,192 Line:5853 41:
 [DEBUG] 2018-01-05 16:56:12,192 Line:5853 42:
 [DEBUG] 2018-01-05 16:56:12,192 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:56:12,192 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:56:12,193 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:56:12,193 Line:5853 46:
 [DEBUG] 2018-01-05 16:56:12,193 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:56:12,193 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:56:12,193 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:56:12,193 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:56:12,193 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:56:12,194 Line:5853 52:
 [DEBUG] 2018-01-05 16:56:12,194 Line:5853 53:
 [DEBUG] 2018-01-05 16:56:12,194 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:56:12,194 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:56:12,194 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:56:12,194 Line:5853 57:0
 [DEBUG] 2018-01-05 16:56:12,194 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:56:12,195 Line:5853 59:0
 [DEBUG] 2018-01-05 16:56:12,195 Line:5853 60:2018-01-05 16:56:12
 [DEBUG] 2018-01-05 16:56:12,195 Line:5853 61:1
 [DEBUG] 2018-01-05 16:56:12,195 Line:5853 62:2018-01-05 16:56:12
 [DEBUG] 2018-01-05 16:56:12,195 Line:5853 63:1
 [DEBUG] 2018-01-05 16:56:12,195 Line:5853 64:2018-01-05 16:56:12
 [DEBUG] 2018-01-05 16:56:12,200 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:56:12,200 Line:5853 1:0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,201 Line:5853 2:0e7d2067_1801051656122000072
 [DEBUG] 2018-01-05 16:56:12,201 Line:5853 3:
 [DEBUG] 2018-01-05 16:56:12,201 Line:5853 4:
 [DEBUG] 2018-01-05 16:56:12,201 Line:5853 5:
 [DEBUG] 2018-01-05 16:56:12,201 Line:5853 6:
 [DEBUG] 2018-01-05 16:56:12,201 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:56:12,201 Line:5853 8:
 [DEBUG] 2018-01-05 16:56:12,202 Line:5853 9:
 [DEBUG] 2018-01-05 16:56:12,202 Line:5853 10:
 [DEBUG] 2018-01-05 16:56:12,202 Line:5853 11:
 [DEBUG] 2018-01-05 16:56:12,202 Line:5853 12:
 [DEBUG] 2018-01-05 16:56:12,202 Line:5853 13:
 [DEBUG] 2018-01-05 16:56:12,202 Line:5853 14:
 [DEBUG] 2018-01-05 16:56:12,202 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:56:12,203 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:56:12,203 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:56:12,203 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:56:12,203 Line:5853 19:0
 [DEBUG] 2018-01-05 16:56:12,203 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:56:12,203 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:56:12,203 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:56:12,204 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:56:12,204 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:56:12,204 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:56:12,204 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:56:12,204 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:56:12,204 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:56:12,204 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:56:12,205 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:56:12,205 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:56:12,205 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:56:12,205 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:56:12,205 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:56:12,205 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:56:12,205 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:56:12,205 Line:5853 37:
 [DEBUG] 2018-01-05 16:56:12,206 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:56:12,206 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:56:12,206 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:56:12,206 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:56:12,206 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:56:12,206 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:56:12,206 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:56:12,207 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:56:12,207 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:56:12,207 Line:5853 47:0
 [DEBUG] 2018-01-05 16:56:12,207 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:56:12,207 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:56:12,207 Line:5853 50:0
 [DEBUG] 2018-01-05 16:56:12,208 Line:5853 51:
 [DEBUG] 2018-01-05 16:56:12,208 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:56:12,208 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:56:12,208 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:56:12,209 Line:5853 55:0
 [DEBUG] 2018-01-05 16:56:12,209 Line:5853 56:0
 [DEBUG] 2018-01-05 16:56:12,209 Line:5853 57:
 [DEBUG] 2018-01-05 16:56:12,209 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:56:12,209 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:56:12,209 Line:5853 60:
 [DEBUG] 2018-01-05 16:56:12,210 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:56:12,210 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:56:12,220 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:56:12,221 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,221 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:56:12,222 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,222 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:56:12,222 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,223 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:56:12,223 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,223 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:56:12,224 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,224 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:56:12,225 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,225 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:56:12,225 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,226 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:56:12,226 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,227 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,227 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:56:12,239 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-05 16:56:12,240 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:56:12,240 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,241 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:56:12,241 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,241 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,241 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:56:12,257 Line:1043 ---上述语句时间---16
 [DEBUG] 2018-01-05 16:56:12,258 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:56:12,259 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,259 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:56:12,259 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,259 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,260 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:56:12,268 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 16:56:12,268 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:56:12,269 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,269 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:56:12,269 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,269 Line:988 1值：false
 [DEBUG] 2018-01-05 16:56:12,270 Line:988 2值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,280 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:56:12,280 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 16:56:12,280 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:56:12,281 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,281 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:56:12,281 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,281 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,286 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:56:12,286 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:12,287 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,287 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:56:12,287 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,287 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,299 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-05 16:56:12,300 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:12,300 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,301 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:56:12,301 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,301 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,304 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:56:12,304 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:12,305 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,305 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:56:12,305 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,306 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,310 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:56:12,310 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:56:12,311 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,311 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:56:12,311 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,312 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:56:12,312 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,312 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,315 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:56:12,316 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:12,317 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,318 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:56:12,319 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,319 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:56:12,319 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,320 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,322 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:56:12,322 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:12,323 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,323 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:56:12,323 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,324 Line:988 1值：1
 [DEBUG] 2018-01-05 16:56:12,324 Line:988 2值：0
 [DEBUG] 2018-01-05 16:56:12,325 Line:988 3值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,363 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:56:12,363 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:56:12,363 Line:1043 ---上述语句时间---40
 [DEBUG] 2018-01-05 16:56:12,363 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:56:12,364 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,364 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:56:12,364 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,365 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,376 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-05 16:56:12,376 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:12,378 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,379 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:56:12,380 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,380 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,382 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:56:12,382 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:56:12,383 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,383 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:56:12,383 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,383 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,386 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:56:12,386 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:56:12,387 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,387 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:56:12,387 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,387 Line:988 1值：
 [DEBUG] 2018-01-05 16:56:12,388 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:56:12,398 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 16:56:12,398 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:56:12,398 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,399 Line:988 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,399 Line:988 2值：
 [DEBUG] 2018-01-05 16:56:12,399 Line:988 3值：
 [DEBUG] 2018-01-05 16:56:12,399 Line:988 4值：
 [DEBUG] 2018-01-05 16:56:12,403 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:56:12,403 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:56:12,404 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,404 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:12,405 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,405 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:56:12,406 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,406 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:56:12,406 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,407 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:56:12,407 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,408 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:56:12,408 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:56:12,409 Line:1157 2值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,412 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:12,412 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:56:12,412 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:56:12,412 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:56:12,412 Line:1157 2值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,413 Line:1157 3值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,417 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:12,418 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-05 16:56:12,418 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:56:12,418 Line:1157 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,418 Line:1157 2值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,423 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:12,423 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:56:12,423 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:56:12,424 Line:1157 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,426 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:12,426 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:56:12,426 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:56:12,427 Line:1157 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,430 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:12,430 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:56:12,430 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:56:12,431 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,431 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:56:12,432 Line:1157 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,432 Line:1157 2值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,435 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:12,436 Line:408 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:56:12,436 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:56:12,437 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,438 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:56:12,438 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,439 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:56:12,439 Line:1270 0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,439 Line:1270 add
 [DEBUG] 2018-01-05 16:56:12,504 Line:425 ************上述语句执行时间：66
 [DEBUG] 2018-01-05 16:56:12,504 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:56:12,505 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,505 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:56:12,505 Line:1157 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,515 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:56:12,516 Line:408 ************上述语句执行时间：11
 [DEBUG] 2018-01-05 16:56:12,516 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:56:12,516 Line:1157 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,525 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:56:12,526 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 16:56:12,526 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:56:12,527 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,527 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:56:12,528 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,528 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:56:12,528 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,549 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:56:12,550 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,550 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:56:12,551 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,551 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:56:12,551 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,551 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:56:12,552 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,552 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:56:12,552 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,553 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:56:12,553 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,553 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:56:12,554 Line:1157 1值：0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,556 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:56:12,556 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:56:12,556 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:56:12,557 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,557 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:56:12,557 Line:1270 0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,557 Line:1270 add
 [DEBUG] 2018-01-05 16:56:12,602 Line:425 ************上述语句执行时间：45
 [DEBUG] 2018-01-05 16:56:12,603 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:56:12,604 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,604 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:56:12,604 Line:1270 1
 [DEBUG] 2018-01-05 16:56:12,604 Line:1270 2018
 [DEBUG] 2018-01-05 16:56:12,605 Line:1270 1
 [DEBUG] 2018-01-05 16:56:12,605 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:56:12,605 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:56:12,605 Line:1270 0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:12,605 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:56:12,605 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:56:12,605 Line:1270 BI1801050008
 [DEBUG] 2018-01-05 16:56:12,606 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:56:12,606 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:56:12,606 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:56:12,606 Line:1270 1
 [DEBUG] 2018-01-05 16:56:12,606 Line:1270 1
 [DEBUG] 2018-01-05 16:56:12,606 Line:1270 2018-01-05 16:56:12
 [DEBUG] 2018-01-05 16:56:12,606 Line:1270 2018-01-05 16:56:12
 [DEBUG] 2018-01-05 16:56:12,607 Line:1270 00001
 [DEBUG] 2018-01-05 16:56:12,607 Line:1270 
 [DEBUG] 2018-01-05 16:56:12,607 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:56:12,607 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:56:12,607 Line:1270 00003
 [DEBUG] 2018-01-05 16:56:12,607 Line:1270 1
 [DEBUG] 2018-01-05 16:56:12,607 Line:1270 00101
 [DEBUG] 2018-01-05 16:56:12,608 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:56:12,608 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:56:12,608 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:56:12,608 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:56:12,608 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:56:12,608 Line:1270 0
 [DEBUG] 2018-01-05 16:56:12,608 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:56:12,609 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:56:12,609 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:56:12,609 Line:1270 f_ref='0e7d2067_1801051656121600071'
 [DEBUG] 2018-01-05 16:56:12,801 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051656121600071','2018-01-05','BI1801050008','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:56:12','2018-01-05 16:56:12','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051656121600071' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:56:12,801 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:56:12,801 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:56:12,801 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:56:12,801 Line:425 ************上述语句执行时间：197
 [DEBUG] 2018-01-05 16:56:12,802 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:56:12,802 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,803 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:56:12,803 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,804 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:56:12,804 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,805 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:56:12,806 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:56:12,807 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,808 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:56:12,809 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,809 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:56:12,810 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:12,811 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:56:12,811 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:12,811 Line:988 1值：1
 [DEBUG] 2018-01-05 16:56:12,811 Line:988 2值：0
 [DEBUG] 2018-01-05 16:56:12,811 Line:988 3值：1
 [DEBUG] 2018-01-05 16:56:12,811 Line:988 4值：0
 [DEBUG] 2018-01-05 16:56:12,812 Line:988 5值：0
 [DEBUG] 2018-01-05 16:56:12,812 Line:988 6值：1
 [DEBUG] 2018-01-05 16:56:12,813 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:56:12,813 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:56:12,813 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:56:12,814 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:56:12,814 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:56:12,815 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:12,821 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:56:12,824 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:56:12,834 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:12,840 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:12,847 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:12,853 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:12,865 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:12,873 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:12,887 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:12,895 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:56:13,004 Line:434 ************上述语句执行时间：189
 [DEBUG] 2018-01-05 16:56:13,004 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:56:13,005 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:13,005 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:56:13,005 Line:1270 10e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:13,005 Line:1270 00003
 [DEBUG] 2018-01-05 16:56:13,006 Line:1270 1
 [DEBUG] 2018-01-05 16:56:13,006 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:56:13,006 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051656121600071@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:56:12@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:56:12@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050008@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:56:13,058 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051656121600071',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051656121600071','','1','0','1','1','2018-01-05 16:56:12','1','2018-01-05 16:56:12','00001','tblBuyInStock','BI1801050008','1','00101','0','')
 [DEBUG] 2018-01-05 16:56:13,059 Line:425 ************上述语句执行时间：54
 [DEBUG] 2018-01-05 16:56:13,059 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:56:13,060 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:13,060 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:56:13,060 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:13,060 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:56:13,061 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:13,061 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:56:13,062 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:13,062 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:56:13,062 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:13,063 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:56:13,063 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:13,063 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:56:13,064 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:13,064 Line:988 1值：1
 [DEBUG] 2018-01-05 16:56:13,064 Line:988 2值：0
 [DEBUG] 2018-01-05 16:56:13,064 Line:988 3值：1
 [DEBUG] 2018-01-05 16:56:13,064 Line:988 4值：0
 [DEBUG] 2018-01-05 16:56:13,064 Line:988 5值：0
 [DEBUG] 2018-01-05 16:56:13,065 Line:988 6值：0
 [DEBUG] 2018-01-05 16:56:13,066 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:56:13,066 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:56:13,066 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:56:13,066 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:56:13,066 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:56:13,067 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:13,067 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:56:13,068 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:13,068 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:56:13,068 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:13,068 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:56:13,069 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:13,069 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:56:13,070 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:13,070 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:56:13,070 Line:1270 0e7d2067_1801051656121600071
 [DEBUG] 2018-01-05 16:56:13,070 Line:1270 add
 [DEBUG] 2018-01-05 16:56:13,079 Line:425 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:56:13,080 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:56:13,080 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:13,080 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst952700822,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:56:13,139 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:56:13,139 Line:443 ************上述语句执行时间：59
 [DEBUG] 2018-01-05 16:56:13,140 Line:313 exeCondition:tblBuyInStock_Add :  > 1 
 [ERROR] 2018-01-05 16:56:13,144 Line:318 DefineSQLBean.execute javaScript Error exeCondition= @SqlReturn:Hivecount > @ValueofDB:TotalAmount  :result=  > 1 
 [ERROR] 2018-01-05 16:56:13,144 Line:500 DefineSQLBean execute() 
 org.apache.bsf.BSFException: JavaScript Error: syntax error
	at org.apache.bsf.engines.javascript.JavaScriptEngine.handleError(JavaScriptEngine.java:195)
	at org.apache.bsf.engines.javascript.JavaScriptEngine.eval(JavaScriptEngine.java:147)
	at org.apache.bsf.BSFManager$5.run(BSFManager.java:445)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.bsf.BSFManager.eval(BSFManager.java:442)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:316)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2018-01-05 16:56:13,145 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=JavaScript Error: syntax error
 [DEBUG] 2018-01-05 16:56:50,727 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:56:50,729 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050008,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:56:50,730 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:56:50,733 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:56:50,734 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:56:50,734 Line:5853 2:
 [DEBUG] 2018-01-05 16:56:50,734 Line:5853 3:0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,735 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:56:50,735 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:56:50,735 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:56:50,736 Line:5853 7:0
 [DEBUG] 2018-01-05 16:56:50,736 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:56:50,736 Line:5853 9:BI1801050008
 [DEBUG] 2018-01-05 16:56:50,736 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:56:50,736 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:56:50,737 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:56:50,737 Line:5853 13:1
 [DEBUG] 2018-01-05 16:56:50,737 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:56:50,737 Line:5853 15:3
 [DEBUG] 2018-01-05 16:56:50,738 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:56:50,738 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:56:50,738 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:56:50,738 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:56:50,738 Line:5853 20:
 [DEBUG] 2018-01-05 16:56:50,739 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:56:50,739 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:56:50,739 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:56:50,740 Line:5853 24:
 [DEBUG] 2018-01-05 16:56:50,740 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:56:50,740 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:56:50,740 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:56:50,740 Line:5853 28:
 [DEBUG] 2018-01-05 16:56:50,741 Line:5853 29:1
 [DEBUG] 2018-01-05 16:56:50,741 Line:5853 30:1
 [DEBUG] 2018-01-05 16:56:50,741 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:56:50,741 Line:5853 32:
 [DEBUG] 2018-01-05 16:56:50,741 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:56:50,742 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:56:50,742 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:56:50,742 Line:5853 36:
 [DEBUG] 2018-01-05 16:56:50,742 Line:5853 37:
 [DEBUG] 2018-01-05 16:56:50,743 Line:5853 38:
 [DEBUG] 2018-01-05 16:56:50,743 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:56:50,744 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:56:50,746 Line:5853 41:
 [DEBUG] 2018-01-05 16:56:50,747 Line:5853 42:
 [DEBUG] 2018-01-05 16:56:50,748 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:56:50,748 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:56:50,749 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:56:50,750 Line:5853 46:
 [DEBUG] 2018-01-05 16:56:50,750 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:56:50,750 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:56:50,751 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:56:50,752 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:56:50,752 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:56:50,752 Line:5853 52:
 [DEBUG] 2018-01-05 16:56:50,752 Line:5853 53:
 [DEBUG] 2018-01-05 16:56:50,752 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:56:50,752 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:56:50,753 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:56:50,753 Line:5853 57:0
 [DEBUG] 2018-01-05 16:56:50,753 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:56:50,753 Line:5853 59:0
 [DEBUG] 2018-01-05 16:56:50,753 Line:5853 60:2018-01-05 16:56:50
 [DEBUG] 2018-01-05 16:56:50,753 Line:5853 61:1
 [DEBUG] 2018-01-05 16:56:50,753 Line:5853 62:2018-01-05 16:56:50
 [DEBUG] 2018-01-05 16:56:50,754 Line:5853 63:1
 [DEBUG] 2018-01-05 16:56:50,754 Line:5853 64:2018-01-05 16:56:50
 [DEBUG] 2018-01-05 16:56:50,755 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:56:50,755 Line:5853 1:0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,756 Line:5853 2:0e7d2067_1801051656507550076
 [DEBUG] 2018-01-05 16:56:50,756 Line:5853 3:
 [DEBUG] 2018-01-05 16:56:50,756 Line:5853 4:
 [DEBUG] 2018-01-05 16:56:50,756 Line:5853 5:
 [DEBUG] 2018-01-05 16:56:50,756 Line:5853 6:
 [DEBUG] 2018-01-05 16:56:50,757 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:56:50,757 Line:5853 8:
 [DEBUG] 2018-01-05 16:56:50,757 Line:5853 9:
 [DEBUG] 2018-01-05 16:56:50,757 Line:5853 10:
 [DEBUG] 2018-01-05 16:56:50,757 Line:5853 11:
 [DEBUG] 2018-01-05 16:56:50,757 Line:5853 12:
 [DEBUG] 2018-01-05 16:56:50,757 Line:5853 13:
 [DEBUG] 2018-01-05 16:56:50,758 Line:5853 14:
 [DEBUG] 2018-01-05 16:56:50,758 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:56:50,758 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:56:50,758 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:56:50,758 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:56:50,758 Line:5853 19:0
 [DEBUG] 2018-01-05 16:56:50,758 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:56:50,759 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:56:50,759 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:56:50,759 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:56:50,759 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:56:50,759 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:56:50,759 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:56:50,760 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:56:50,760 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:56:50,760 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:56:50,760 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:56:50,760 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:56:50,760 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:56:50,760 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:56:50,761 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:56:50,761 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:56:50,761 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:56:50,761 Line:5853 37:
 [DEBUG] 2018-01-05 16:56:50,761 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:56:50,761 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:56:50,762 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:56:50,762 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:56:50,762 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:56:50,762 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:56:50,762 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:56:50,763 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:56:50,763 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:56:50,763 Line:5853 47:0
 [DEBUG] 2018-01-05 16:56:50,763 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:56:50,764 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:56:50,764 Line:5853 50:0
 [DEBUG] 2018-01-05 16:56:50,764 Line:5853 51:
 [DEBUG] 2018-01-05 16:56:50,766 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:56:50,766 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:56:50,767 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:56:50,767 Line:5853 55:0
 [DEBUG] 2018-01-05 16:56:50,767 Line:5853 56:0
 [DEBUG] 2018-01-05 16:56:50,768 Line:5853 57:
 [DEBUG] 2018-01-05 16:56:50,768 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:56:50,768 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:56:50,768 Line:5853 60:
 [DEBUG] 2018-01-05 16:56:50,768 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:56:50,769 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:56:50,770 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:56:50,772 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,772 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:56:50,774 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,774 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:56:50,775 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,776 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:56:50,778 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,778 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:56:50,780 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,780 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:56:50,783 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,783 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:56:50,784 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,785 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:56:50,785 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,786 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,786 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:56:50,787 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:56:50,787 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:56:50,788 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,788 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:56:50,788 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,789 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,789 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:56:50,791 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:56:50,791 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:56:50,792 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,792 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:56:50,792 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,793 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,793 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:56:50,793 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:56:50,794 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:56:50,794 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,795 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:56:50,795 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,795 Line:988 1值：false
 [DEBUG] 2018-01-05 16:56:50,795 Line:988 2值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,796 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:56:50,796 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:56:50,797 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:56:50,797 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,798 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:56:50,798 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,798 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,800 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:56:50,800 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:50,801 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,801 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:56:50,802 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,802 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,803 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:56:50,803 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:50,804 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,804 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:56:50,804 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,804 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,805 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:56:50,805 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:50,806 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,806 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:56:50,807 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,807 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,808 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:56:50,808 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:56:50,809 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,809 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:56:50,810 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,811 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:56:50,811 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,811 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,812 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:56:50,812 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:50,813 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,813 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:56:50,814 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,814 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:56:50,814 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,814 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,815 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:56:50,815 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:50,816 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,816 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:56:50,816 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,817 Line:988 1值：1
 [DEBUG] 2018-01-05 16:56:50,817 Line:988 2值：0
 [DEBUG] 2018-01-05 16:56:50,817 Line:988 3值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,818 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:56:50,818 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:56:50,818 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:56:50,818 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:56:50,819 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,819 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:56:50,820 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,820 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,821 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:56:50,821 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:50,821 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,822 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:56:50,822 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,823 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,823 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:56:50,824 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:56:50,824 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,825 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:56:50,825 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,825 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,825 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-05 16:56:50,826 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:56:50,826 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,826 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:56:50,827 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,827 Line:988 1值：
 [DEBUG] 2018-01-05 16:56:50,827 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:56:50,828 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:56:50,828 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:56:50,828 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,828 Line:988 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,829 Line:988 2值：
 [DEBUG] 2018-01-05 16:56:50,829 Line:988 3值：
 [DEBUG] 2018-01-05 16:56:50,829 Line:988 4值：
 [DEBUG] 2018-01-05 16:56:50,830 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:56:50,830 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:56:50,831 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,831 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:56:50,831 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,832 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:56:50,832 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,833 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:56:50,833 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,834 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:56:50,834 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,836 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:56:50,836 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:56:50,837 Line:1157 2值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,838 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:50,838 Line:229 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:56:50,838 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:56:50,839 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:56:50,839 Line:1157 2值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,839 Line:1157 3值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,841 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:50,841 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:56:50,842 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:56:50,842 Line:1157 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,842 Line:1157 2值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,843 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:50,843 Line:229 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:56:50,843 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:56:50,843 Line:1157 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,844 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:50,844 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:56:50,844 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:56:50,844 Line:1157 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,845 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:50,845 Line:229 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:56:50,845 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:56:50,846 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,846 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:56:50,846 Line:1157 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,847 Line:1157 2值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,847 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:56:50,847 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:56:50,848 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:56:50,849 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,850 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:56:50,851 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,851 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:56:50,851 Line:1270 0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,851 Line:1270 add
 [DEBUG] 2018-01-05 16:56:50,852 Line:425 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:56:50,853 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:56:50,854 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,854 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:56:50,855 Line:1157 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,855 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:56:50,855 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:56:50,856 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:56:50,856 Line:1157 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,856 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:56:50,856 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:56:50,856 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:56:50,857 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,857 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:56:50,858 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,858 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:56:50,859 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,860 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:56:50,861 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,861 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:56:50,862 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,862 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:56:50,863 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,863 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:56:50,863 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,864 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:56:50,864 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,864 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:56:50,865 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,865 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:56:50,866 Line:1157 1值：0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,866 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:56:50,866 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-05 16:56:50,866 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:56:50,867 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,867 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:56:50,868 Line:1270 0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,868 Line:1270 add
 [DEBUG] 2018-01-05 16:56:50,869 Line:425 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:56:50,869 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:56:50,870 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,870 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:56:50,871 Line:1270 1
 [DEBUG] 2018-01-05 16:56:50,871 Line:1270 2018
 [DEBUG] 2018-01-05 16:56:50,871 Line:1270 1
 [DEBUG] 2018-01-05 16:56:50,871 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:56:50,871 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:56:50,872 Line:1270 0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,872 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:56:50,872 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:56:50,872 Line:1270 BI1801050008
 [DEBUG] 2018-01-05 16:56:50,872 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:56:50,872 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:56:50,872 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:56:50,873 Line:1270 1
 [DEBUG] 2018-01-05 16:56:50,873 Line:1270 1
 [DEBUG] 2018-01-05 16:56:50,873 Line:1270 2018-01-05 16:56:50
 [DEBUG] 2018-01-05 16:56:50,873 Line:1270 2018-01-05 16:56:50
 [DEBUG] 2018-01-05 16:56:50,873 Line:1270 00001
 [DEBUG] 2018-01-05 16:56:50,873 Line:1270 
 [DEBUG] 2018-01-05 16:56:50,873 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:56:50,874 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:56:50,874 Line:1270 00003
 [DEBUG] 2018-01-05 16:56:50,874 Line:1270 1
 [DEBUG] 2018-01-05 16:56:50,874 Line:1270 00101
 [DEBUG] 2018-01-05 16:56:50,874 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:56:50,874 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:56:50,875 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:56:50,875 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:56:50,875 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:56:50,875 Line:1270 0
 [DEBUG] 2018-01-05 16:56:50,875 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:56:50,875 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:56:50,876 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:56:50,876 Line:1270 f_ref='0e7d2067_1801051656507320075'
 [DEBUG] 2018-01-05 16:56:50,886 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051656507320075','2018-01-05','BI1801050008','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:56:50','2018-01-05 16:56:50','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051656507320075' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:56:50,886 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:56:50,886 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:56:50,886 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:56:50,886 Line:425 ************上述语句执行时间：16
 [DEBUG] 2018-01-05 16:56:50,887 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:56:50,887 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,888 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:56:50,888 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,889 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:56:50,889 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,889 Line:1043 ---上述语句时间---0
 [DEBUG] 2018-01-05 16:56:50,889 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:56:50,890 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,890 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:56:50,891 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,891 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:56:50,892 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,892 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:56:50,892 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,892 Line:988 1值：1
 [DEBUG] 2018-01-05 16:56:50,892 Line:988 2值：0
 [DEBUG] 2018-01-05 16:56:50,892 Line:988 3值：1
 [DEBUG] 2018-01-05 16:56:50,893 Line:988 4值：0
 [DEBUG] 2018-01-05 16:56:50,893 Line:988 5值：0
 [DEBUG] 2018-01-05 16:56:50,893 Line:988 6值：1
 [DEBUG] 2018-01-05 16:56:50,893 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:56:50,893 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:56:50,894 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:56:50,894 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:56:50,894 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:56:50,895 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,895 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:56:50,901 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:56:50,902 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:50,904 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:50,904 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:50,905 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:50,905 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:50,906 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:50,907 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:56:50,908 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:56:50,920 Line:434 ************上述语句执行时间：25
 [DEBUG] 2018-01-05 16:56:50,920 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:56:50,921 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,921 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:56:50,922 Line:1270 10e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,922 Line:1270 00003
 [DEBUG] 2018-01-05 16:56:50,922 Line:1270 1
 [DEBUG] 2018-01-05 16:56:50,922 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:56:50,922 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051656507320075@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:56:50@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:56:50@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050008@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:56:50,924 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051656507320075',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051656507320075','','1','0','1','1','2018-01-05 16:56:50','1','2018-01-05 16:56:50','00001','tblBuyInStock','BI1801050008','1','00101','0','')
 [DEBUG] 2018-01-05 16:56:50,925 Line:425 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:56:50,925 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:56:50,926 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,926 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:56:50,926 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,927 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:56:50,927 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,927 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:56:50,928 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,928 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:56:50,928 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,929 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:56:50,929 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,929 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:56:50,930 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:56:50,930 Line:988 1值：1
 [DEBUG] 2018-01-05 16:56:50,930 Line:988 2值：0
 [DEBUG] 2018-01-05 16:56:50,930 Line:988 3值：1
 [DEBUG] 2018-01-05 16:56:50,930 Line:988 4值：0
 [DEBUG] 2018-01-05 16:56:50,931 Line:988 5值：0
 [DEBUG] 2018-01-05 16:56:50,931 Line:988 6值：0
 [DEBUG] 2018-01-05 16:56:50,932 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:56:50,932 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:56:50,932 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:56:50,932 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:56:50,932 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:56:50,933 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,933 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:56:50,934 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,934 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:56:50,935 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,935 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:56:50,935 Line:321 flag:false
 [DEBUG] 2018-01-05 16:56:50,936 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:56:50,936 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,936 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:56:50,937 Line:1270 0e7d2067_1801051656507320075
 [DEBUG] 2018-01-05 16:56:50,937 Line:1270 add
 [DEBUG] 2018-01-05 16:56:50,938 Line:425 ************上述语句执行时间：2
 [DEBUG] 2018-01-05 16:56:50,939 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:56:50,939 Line:321 flag:true
 [DEBUG] 2018-01-05 16:56:50,940 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst952700822,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:57:08,703 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:57:08,703 Line:443 ************上述语句执行时间：17763
 [DEBUG] 2018-01-05 16:57:08,704 Line:313 exeCondition:tblBuyInStock_Add :  > 1 
 [ERROR] 2018-01-05 16:57:08,705 Line:318 DefineSQLBean.execute javaScript Error exeCondition= @SqlReturn:Hivecount > @ValueofDB:TotalAmount  :result=  > 1 
 [ERROR] 2018-01-05 16:57:08,705 Line:500 DefineSQLBean execute() 
 org.apache.bsf.BSFException: JavaScript Error: syntax error
	at org.apache.bsf.engines.javascript.JavaScriptEngine.handleError(JavaScriptEngine.java:195)
	at org.apache.bsf.engines.javascript.JavaScriptEngine.eval(JavaScriptEngine.java:147)
	at org.apache.bsf.BSFManager$5.run(BSFManager.java:445)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.bsf.BSFManager.eval(BSFManager.java:442)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:316)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2018-01-05 16:57:08,705 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=JavaScript Error: syntax error
 [DEBUG] 2018-01-05 16:59:08,455 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFB25CD1F44330F193217BB8C487E591A94
 [ERROR] 2018-01-05 16:59:08,512 Line:119 ------保存成功
 [DEBUG] 2018-01-05 16:59:18,554 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 16:59:18,556 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050008,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 16:59:18,558 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 16:59:18,597 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:59:18,598 Line:5853 1:0.0
 [DEBUG] 2018-01-05 16:59:18,598 Line:5853 2:
 [DEBUG] 2018-01-05 16:59:18,598 Line:5853 3:0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,598 Line:5853 4:-1
 [DEBUG] 2018-01-05 16:59:18,598 Line:5853 5:finish
 [DEBUG] 2018-01-05 16:59:18,598 Line:5853 6:0.0
 [DEBUG] 2018-01-05 16:59:18,599 Line:5853 7:0
 [DEBUG] 2018-01-05 16:59:18,599 Line:5853 8:0.0
 [DEBUG] 2018-01-05 16:59:18,599 Line:5853 9:BI1801050008
 [DEBUG] 2018-01-05 16:59:18,599 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 16:59:18,599 Line:5853 11:00003
 [DEBUG] 2018-01-05 16:59:18,599 Line:5853 12:00101
 [DEBUG] 2018-01-05 16:59:18,599 Line:5853 13:1
 [DEBUG] 2018-01-05 16:59:18,600 Line:5853 14:00001
 [DEBUG] 2018-01-05 16:59:18,600 Line:5853 15:3
 [DEBUG] 2018-01-05 16:59:18,600 Line:5853 16:0.0
 [DEBUG] 2018-01-05 16:59:18,600 Line:5853 17:0.0
 [DEBUG] 2018-01-05 16:59:18,600 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:59:18,600 Line:5853 19:0.0
 [DEBUG] 2018-01-05 16:59:18,600 Line:5853 20:
 [DEBUG] 2018-01-05 16:59:18,601 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:59:18,601 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:59:18,601 Line:5853 23:0.0
 [DEBUG] 2018-01-05 16:59:18,601 Line:5853 24:
 [DEBUG] 2018-01-05 16:59:18,601 Line:5853 25:0.0
 [DEBUG] 2018-01-05 16:59:18,601 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:59:18,601 Line:5853 27:0.0
 [DEBUG] 2018-01-05 16:59:18,602 Line:5853 28:
 [DEBUG] 2018-01-05 16:59:18,602 Line:5853 29:1
 [DEBUG] 2018-01-05 16:59:18,602 Line:5853 30:1
 [DEBUG] 2018-01-05 16:59:18,602 Line:5853 31:2018
 [DEBUG] 2018-01-05 16:59:18,602 Line:5853 32:
 [DEBUG] 2018-01-05 16:59:18,602 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:59:18,602 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:59:18,603 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:59:18,603 Line:5853 36:
 [DEBUG] 2018-01-05 16:59:18,603 Line:5853 37:
 [DEBUG] 2018-01-05 16:59:18,603 Line:5853 38:
 [DEBUG] 2018-01-05 16:59:18,603 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:59:18,603 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:59:18,603 Line:5853 41:
 [DEBUG] 2018-01-05 16:59:18,604 Line:5853 42:
 [DEBUG] 2018-01-05 16:59:18,604 Line:5853 43:100.0
 [DEBUG] 2018-01-05 16:59:18,604 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:59:18,604 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:59:18,604 Line:5853 46:
 [DEBUG] 2018-01-05 16:59:18,604 Line:5853 47:1.0
 [DEBUG] 2018-01-05 16:59:18,605 Line:5853 48:1.0
 [DEBUG] 2018-01-05 16:59:18,605 Line:5853 49:1.0
 [DEBUG] 2018-01-05 16:59:18,605 Line:5853 50:0.0
 [DEBUG] 2018-01-05 16:59:18,605 Line:5853 51:1.0
 [DEBUG] 2018-01-05 16:59:18,605 Line:5853 52:
 [DEBUG] 2018-01-05 16:59:18,605 Line:5853 53:
 [DEBUG] 2018-01-05 16:59:18,605 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:59:18,606 Line:5853 55:0.0
 [DEBUG] 2018-01-05 16:59:18,606 Line:5853 56:0.0
 [DEBUG] 2018-01-05 16:59:18,606 Line:5853 57:0
 [DEBUG] 2018-01-05 16:59:18,606 Line:5853 58:00001
 [DEBUG] 2018-01-05 16:59:18,606 Line:5853 59:0
 [DEBUG] 2018-01-05 16:59:18,606 Line:5853 60:2018-01-05 16:59:18
 [DEBUG] 2018-01-05 16:59:18,606 Line:5853 61:1
 [DEBUG] 2018-01-05 16:59:18,607 Line:5853 62:2018-01-05 16:59:18
 [DEBUG] 2018-01-05 16:59:18,607 Line:5853 63:1
 [DEBUG] 2018-01-05 16:59:18,607 Line:5853 64:2018-01-05 16:59:18
 [DEBUG] 2018-01-05 16:59:18,612 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 16:59:18,612 Line:5853 1:0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,613 Line:5853 2:0e7d2067_1801051659186120081
 [DEBUG] 2018-01-05 16:59:18,613 Line:5853 3:
 [DEBUG] 2018-01-05 16:59:18,614 Line:5853 4:
 [DEBUG] 2018-01-05 16:59:18,614 Line:5853 5:
 [DEBUG] 2018-01-05 16:59:18,614 Line:5853 6:
 [DEBUG] 2018-01-05 16:59:18,614 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 16:59:18,614 Line:5853 8:
 [DEBUG] 2018-01-05 16:59:18,614 Line:5853 9:
 [DEBUG] 2018-01-05 16:59:18,614 Line:5853 10:
 [DEBUG] 2018-01-05 16:59:18,615 Line:5853 11:
 [DEBUG] 2018-01-05 16:59:18,615 Line:5853 12:
 [DEBUG] 2018-01-05 16:59:18,615 Line:5853 13:
 [DEBUG] 2018-01-05 16:59:18,615 Line:5853 14:
 [DEBUG] 2018-01-05 16:59:18,615 Line:5853 15:1.0
 [DEBUG] 2018-01-05 16:59:18,615 Line:5853 16:1.0
 [DEBUG] 2018-01-05 16:59:18,615 Line:5853 17:1.0
 [DEBUG] 2018-01-05 16:59:18,616 Line:5853 18:0.0
 [DEBUG] 2018-01-05 16:59:18,616 Line:5853 19:0
 [DEBUG] 2018-01-05 16:59:18,616 Line:5853 20:0.0
 [DEBUG] 2018-01-05 16:59:18,616 Line:5853 21:0.0
 [DEBUG] 2018-01-05 16:59:18,616 Line:5853 22:0.0
 [DEBUG] 2018-01-05 16:59:18,616 Line:5853 23:100.0
 [DEBUG] 2018-01-05 16:59:18,616 Line:5853 24:1.0
 [DEBUG] 2018-01-05 16:59:18,617 Line:5853 25:1.0
 [DEBUG] 2018-01-05 16:59:18,617 Line:5853 26:0.0
 [DEBUG] 2018-01-05 16:59:18,617 Line:5853 27:1.0
 [DEBUG] 2018-01-05 16:59:18,617 Line:5853 28:1.0
 [DEBUG] 2018-01-05 16:59:18,617 Line:5853 29:0.0
 [DEBUG] 2018-01-05 16:59:18,617 Line:5853 30:1.0
 [DEBUG] 2018-01-05 16:59:18,617 Line:5853 31:1.0
 [DEBUG] 2018-01-05 16:59:18,617 Line:5853 32:0.0
 [DEBUG] 2018-01-05 16:59:18,618 Line:5853 33:0.0
 [DEBUG] 2018-01-05 16:59:18,618 Line:5853 34:0.0
 [DEBUG] 2018-01-05 16:59:18,618 Line:5853 35:0.0
 [DEBUG] 2018-01-05 16:59:18,618 Line:5853 36:0.0
 [DEBUG] 2018-01-05 16:59:18,618 Line:5853 37:
 [DEBUG] 2018-01-05 16:59:18,618 Line:5853 38:0.0
 [DEBUG] 2018-01-05 16:59:18,618 Line:5853 39:0.0
 [DEBUG] 2018-01-05 16:59:18,619 Line:5853 40:0.0
 [DEBUG] 2018-01-05 16:59:18,619 Line:5853 41:0.0
 [DEBUG] 2018-01-05 16:59:18,619 Line:5853 42:0.0
 [DEBUG] 2018-01-05 16:59:18,619 Line:5853 43:0.0
 [DEBUG] 2018-01-05 16:59:18,619 Line:5853 44:0.0
 [DEBUG] 2018-01-05 16:59:18,619 Line:5853 45:0.0
 [DEBUG] 2018-01-05 16:59:18,620 Line:5853 46:0.0
 [DEBUG] 2018-01-05 16:59:18,620 Line:5853 47:0
 [DEBUG] 2018-01-05 16:59:18,620 Line:5853 48:0.0
 [DEBUG] 2018-01-05 16:59:18,620 Line:5853 49:0.0
 [DEBUG] 2018-01-05 16:59:18,620 Line:5853 50:0
 [DEBUG] 2018-01-05 16:59:18,620 Line:5853 51:
 [DEBUG] 2018-01-05 16:59:18,620 Line:5853 52:0.0
 [DEBUG] 2018-01-05 16:59:18,621 Line:5853 53:0.0
 [DEBUG] 2018-01-05 16:59:18,621 Line:5853 54:0.0
 [DEBUG] 2018-01-05 16:59:18,621 Line:5853 55:0
 [DEBUG] 2018-01-05 16:59:18,621 Line:5853 56:0
 [DEBUG] 2018-01-05 16:59:18,621 Line:5853 57:
 [DEBUG] 2018-01-05 16:59:18,621 Line:5853 58:0.0
 [DEBUG] 2018-01-05 16:59:18,621 Line:5853 59:0.0
 [DEBUG] 2018-01-05 16:59:18,621 Line:5853 60:
 [DEBUG] 2018-01-05 16:59:18,622 Line:5853 61:0.0
 [DEBUG] 2018-01-05 16:59:18,622 Line:5853 62:00001
 [DEBUG] 2018-01-05 16:59:18,633 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 16:59:18,635 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,635 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 16:59:18,636 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,636 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 16:59:18,637 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,637 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 16:59:18,638 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,638 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:59:18,639 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,639 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 16:59:18,640 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,640 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:59:18,640 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:18,641 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 16:59:18,642 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,642 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,642 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 16:59:18,654 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-05 16:59:18,655 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:59:18,656 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,656 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:59:18,656 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,656 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,656 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:59:18,673 Line:1043 ---上述语句时间---17
 [DEBUG] 2018-01-05 16:59:18,674 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:59:18,674 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,674 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 16:59:18,675 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,675 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,675 Line:988 2值：00003
 [DEBUG] 2018-01-05 16:59:18,683 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 16:59:18,683 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:59:18,684 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,684 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 16:59:18,684 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,685 Line:988 1值：false
 [DEBUG] 2018-01-05 16:59:18,685 Line:988 2值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,694 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 16:59:18,694 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 16:59:18,694 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 16:59:18,695 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,695 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 16:59:18,695 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,696 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,700 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-05 16:59:18,701 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:59:18,701 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,702 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:59:18,702 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,702 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,714 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-05 16:59:18,714 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:59:18,714 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,715 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 16:59:18,715 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,715 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,718 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:59:18,719 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:59:18,719 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,720 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 16:59:18,720 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,720 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,724 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:59:18,724 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:59:18,725 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,725 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 16:59:18,726 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,726 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 16:59:18,726 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,726 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,729 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:59:18,730 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:59:18,730 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,731 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 16:59:18,732 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,732 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 16:59:18,732 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,733 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,735 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:59:18,736 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:59:18,736 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,737 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 16:59:18,737 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,737 Line:988 1值：1
 [DEBUG] 2018-01-05 16:59:18,737 Line:988 2值：0
 [DEBUG] 2018-01-05 16:59:18,737 Line:988 3值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,774 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 16:59:18,775 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 16:59:18,775 Line:1043 ---上述语句时间---38
 [DEBUG] 2018-01-05 16:59:18,775 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 16:59:18,776 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,776 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 16:59:18,776 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,776 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,794 Line:1043 ---上述语句时间---18
 [DEBUG] 2018-01-05 16:59:18,794 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:59:18,796 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,797 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 16:59:18,797 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,798 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,799 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:59:18,799 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 16:59:18,800 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,800 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 16:59:18,801 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,801 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,803 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:59:18,804 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 16:59:18,804 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,805 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 16:59:18,805 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,805 Line:988 1值：
 [DEBUG] 2018-01-05 16:59:18,805 Line:988 2值：00001
 [DEBUG] 2018-01-05 16:59:18,816 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 16:59:18,816 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 16:59:18,816 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:18,817 Line:988 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,817 Line:988 2值：
 [DEBUG] 2018-01-05 16:59:18,817 Line:988 3值：
 [DEBUG] 2018-01-05 16:59:18,817 Line:988 4值：
 [DEBUG] 2018-01-05 16:59:18,820 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 16:59:18,820 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 16:59:18,821 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,821 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 16:59:18,822 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,822 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 16:59:18,823 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,823 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 16:59:18,823 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,824 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:59:18,824 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:18,825 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 16:59:18,825 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:59:18,825 Line:1157 2值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,829 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:59:18,829 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:59:18,829 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:59:18,829 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 16:59:18,830 Line:1157 2值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,830 Line:1157 3值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,834 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:59:18,834 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:59:18,835 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 16:59:18,835 Line:1157 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,835 Line:1157 2值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,839 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:59:18,840 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:59:18,840 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 16:59:18,840 Line:1157 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,842 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:59:18,843 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-05 16:59:18,843 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 16:59:18,843 Line:1157 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,846 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:59:18,847 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:59:18,847 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 16:59:18,848 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:18,848 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 16:59:18,849 Line:1157 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,849 Line:1157 2值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,853 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 16:59:18,853 Line:408 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 16:59:18,853 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 16:59:18,854 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,854 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 16:59:18,855 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:18,855 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 16:59:18,855 Line:1270 0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,855 Line:1270 add
 [DEBUG] 2018-01-05 16:59:18,921 Line:425 ************上述语句执行时间：66
 [DEBUG] 2018-01-05 16:59:18,921 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 16:59:18,922 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:18,922 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:59:18,922 Line:1157 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,931 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:59:18,931 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:59:18,931 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 16:59:18,931 Line:1157 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,940 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 16:59:18,940 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:59:18,940 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:59:18,941 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,941 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 16:59:18,942 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,942 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 16:59:18,942 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:18,963 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 16:59:18,964 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,964 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:59:18,964 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,965 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 16:59:18,965 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,965 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:59:18,966 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,966 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 16:59:18,967 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:18,967 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:59:18,968 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:18,968 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 16:59:18,969 Line:1157 1值：0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,971 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 16:59:18,972 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 16:59:18,972 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:59:18,973 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:18,974 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 16:59:18,974 Line:1270 0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:18,974 Line:1270 add
 [DEBUG] 2018-01-05 16:59:19,019 Line:425 ************上述语句执行时间：45
 [DEBUG] 2018-01-05 16:59:19,019 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 16:59:19,020 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:19,020 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 16:59:19,020 Line:1270 1
 [DEBUG] 2018-01-05 16:59:19,021 Line:1270 2018
 [DEBUG] 2018-01-05 16:59:19,021 Line:1270 1
 [DEBUG] 2018-01-05 16:59:19,021 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 16:59:19,021 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 16:59:19,021 Line:1270 0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:19,021 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 16:59:19,022 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:59:19,022 Line:1270 BI1801050008
 [DEBUG] 2018-01-05 16:59:19,022 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:59:19,022 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:59:19,022 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 16:59:19,022 Line:1270 1
 [DEBUG] 2018-01-05 16:59:19,022 Line:1270 1
 [DEBUG] 2018-01-05 16:59:19,023 Line:1270 2018-01-05 16:59:18
 [DEBUG] 2018-01-05 16:59:19,023 Line:1270 2018-01-05 16:59:18
 [DEBUG] 2018-01-05 16:59:19,023 Line:1270 00001
 [DEBUG] 2018-01-05 16:59:19,023 Line:1270 
 [DEBUG] 2018-01-05 16:59:19,023 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 16:59:19,023 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:59:19,023 Line:1270 00003
 [DEBUG] 2018-01-05 16:59:19,024 Line:1270 1
 [DEBUG] 2018-01-05 16:59:19,024 Line:1270 00101
 [DEBUG] 2018-01-05 16:59:19,024 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 16:59:19,024 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 16:59:19,024 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 16:59:19,024 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 16:59:19,025 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 16:59:19,025 Line:1270 0
 [DEBUG] 2018-01-05 16:59:19,025 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 16:59:19,025 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 16:59:19,025 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 16:59:19,025 Line:1270 f_ref='0e7d2067_1801051659185740080'
 [DEBUG] 2018-01-05 16:59:19,204 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e7d2067_1801051659185740080','2018-01-05','BI1801050008','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 16:59:18','2018-01-05 16:59:18','00001' from tblBuyInStockDet where f_ref='0e7d2067_1801051659185740080' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 16:59:19,204 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 16:59:19,204 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:59:19,204 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 16:59:19,204 Line:425 ************上述语句执行时间：184
 [DEBUG] 2018-01-05 16:59:19,205 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 16:59:19,205 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,205 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:59:19,206 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:19,207 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 16:59:19,207 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:19,209 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:59:19,209 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 16:59:19,211 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,211 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 16:59:19,213 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,213 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 16:59:19,214 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,214 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 16:59:19,214 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:19,214 Line:988 1值：1
 [DEBUG] 2018-01-05 16:59:19,215 Line:988 2值：0
 [DEBUG] 2018-01-05 16:59:19,215 Line:988 3值：1
 [DEBUG] 2018-01-05 16:59:19,215 Line:988 4值：0
 [DEBUG] 2018-01-05 16:59:19,215 Line:988 5值：0
 [DEBUG] 2018-01-05 16:59:19,215 Line:988 6值：1
 [DEBUG] 2018-01-05 16:59:19,216 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:59:19,216 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:59:19,217 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 16:59:19,217 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 16:59:19,217 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 16:59:19,218 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:19,224 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 16:59:19,227 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 16:59:19,236 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:59:19,243 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:59:19,249 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:59:19,255 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:59:19,262 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:59:19,268 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:59:19,281 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 16:59:19,289 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 16:59:19,395 Line:434 ************上述语句执行时间：177
 [DEBUG] 2018-01-05 16:59:19,395 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 16:59:19,397 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:19,398 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 16:59:19,398 Line:1270 10e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:19,398 Line:1270 00003
 [DEBUG] 2018-01-05 16:59:19,398 Line:1270 1
 [DEBUG] 2018-01-05 16:59:19,398 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 16:59:19,399 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e7d2067_1801051659185740080@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 16:59:18@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 16:59:18@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050008@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 16:59:19,451 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e7d2067_1801051659185740080',24,'00003','2018-01-05','1','2018','1','0','1','0e7d2067_1801051659185740080','','1','0','1','1','2018-01-05 16:59:18','1','2018-01-05 16:59:18','00001','tblBuyInStock','BI1801050008','1','00101','0','')
 [DEBUG] 2018-01-05 16:59:19,452 Line:425 ************上述语句执行时间：54
 [DEBUG] 2018-01-05 16:59:19,453 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:59:19,454 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,454 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 16:59:19,454 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,455 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 16:59:19,455 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,455 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 16:59:19,456 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,456 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 16:59:19,457 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,457 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 16:59:19,457 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,458 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 16:59:19,458 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 16:59:19,458 Line:988 1值：1
 [DEBUG] 2018-01-05 16:59:19,458 Line:988 2值：0
 [DEBUG] 2018-01-05 16:59:19,458 Line:988 3值：1
 [DEBUG] 2018-01-05 16:59:19,458 Line:988 4值：0
 [DEBUG] 2018-01-05 16:59:19,459 Line:988 5值：0
 [DEBUG] 2018-01-05 16:59:19,459 Line:988 6值：0
 [DEBUG] 2018-01-05 16:59:19,460 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 16:59:19,460 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 16:59:19,460 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 16:59:19,460 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 16:59:19,461 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:59:19,461 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,461 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 16:59:19,463 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,463 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:59:19,464 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,464 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 16:59:19,465 Line:321 flag:false
 [DEBUG] 2018-01-05 16:59:19,465 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 16:59:19,465 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:19,466 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 16:59:19,466 Line:1270 0e7d2067_1801051659185740080
 [DEBUG] 2018-01-05 16:59:19,466 Line:1270 add
 [DEBUG] 2018-01-05 16:59:19,475 Line:425 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 16:59:19,475 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 16:59:19,476 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:19,476 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst952700822,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 16:59:26,655 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 16:59:26,656 Line:443 ************上述语句执行时间：7180
 [DEBUG] 2018-01-05 16:59:26,656 Line:313 exeCondition:tblBuyInStock_Add : '-1009' == '-1009'
 [DEBUG] 2018-01-05 16:59:26,657 Line:321 flag:true
 [DEBUG] 2018-01-05 16:59:26,658 Line:372 ---error，返回信息：易站通用户名不存在!url=
 [ERROR] 2018-01-05 16:59:26,658 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=易站通用户名不存在!
 [DEBUG] 2018-01-05 17:05:27,431 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=14A3B227AA080A12275DBCE6E322BFE4A392FBC4988E593446961AFDAFAD7CC64373CED9BA325AFBEDFF9664213F242E7686458C02F7B7F6
 [ERROR] 2018-01-05 17:05:27,487 Line:119 ------保存成功
 [DEBUG] 2018-01-05 17:10:20,630 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 17:40:43,120 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 18:11:02,753 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 18:16:55,121 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2018-01-05 18:16:55,122 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2018-01-05 18:16:55,137 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2018-01-05 18:17:03,453 Line:206 系统开始启动，最大内存：1792;目前总内存：303;目前空闲内存：205
 [INFO ] 2018-01-05 18:17:03,550 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-05 18:17:09,907 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-05 18:17:10,286 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-05 18:17:10,303 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-05 18:17:10,309 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-05 18:17:10,315 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-05 18:17:10,335 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-05 18:17:10,348 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-05 18:17:12,770 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 18:17:12,818 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-05 18:17:12,887 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-05 18:17:12,915 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-05 18:17:14,474 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-05 18:17:14,474 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-05 18:17:15,124 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-05 18:17:15,205 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-05 18:17:16,023 Line:538 ------Init TableInfo record:639
 [DEBUG] 2018-01-05 18:17:16,053 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-05 18:17:16,060 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-05 18:17:16,074 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-05 18:17:16,085 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-05 18:17:16,094 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-05 18:17:16,132 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-05 18:17:19,571 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-05 18:17:19,863 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,866 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,868 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,871 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,873 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,875 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,877 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,879 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,881 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,884 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,937 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,963 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:19,995 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,063 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,065 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,067 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,069 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,097 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,099 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,101 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,104 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,106 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,108 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,135 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,171 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,174 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,176 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,178 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,181 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,183 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,206 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,208 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,210 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,259 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,288 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,327 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,329 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,331 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-05 18:17:20,350 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-05 18:17:20,370 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-05 18:17:20,422 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-05 18:17:21,114 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-05 18:17:21,114 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-05 18:17:23,473 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-06 00:00:00
 [INFO ] 2018-01-05 18:17:23,474 Line:137 SAFE 碎片任务启动，时间2018-01-07 00:00:00
 [DEBUG] 2018-01-05 18:17:27,123 Line:5242 GlobalsTool.js 生成js 时间55:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-05 18:17:27,187 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-05 18:17:27,188 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-05 18:17:27,369 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515147447354
 [DEBUG] 2018-01-05 18:17:27,387 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515147447354,];
 [DEBUG] 2018-01-05 18:17:27,557 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-05 18:17:27,557 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-05 18:17:29,985 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515147449982
 [DEBUG] 2018-01-05 18:17:29,985 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515147449982,];
 [DEBUG] 2018-01-05 18:17:30,042 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515147450040
 [DEBUG] 2018-01-05 18:17:30,042 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515147450040,];
 [DEBUG] 2018-01-05 18:17:30,107 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-05 18:17:30,107 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-05 18:17:30,160 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-05 18:17:30,173 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-05 18:17:30,285 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-05 18:17:30,285 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-05 18:17:30,292 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 18:17:30,516 Line:5242 GlobalsTool.js 生成js 时间28:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-05 18:17:30,721 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-05 18:17:30,721 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-05 18:17:30,722 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-05 18:17:30,722 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-05 18:17:30,723 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 18:17:30,739 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-05 18:17:30,739 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-05 18:17:30,740 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 18:17:30,752 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-05 18:17:30,753 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-05 18:17:30,753 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 18:17:30,763 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-05 18:17:30,764 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-05 18:17:30,764 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-05 18:17:34,449 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=1
 [DEBUG] 2018-01-05 18:17:34,449 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-05 18:17:34,450 Line:215 ---------->SET Page 1 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-05 18:17:35,556 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-05 18:17:35,556 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-05 18:17:37,931 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-05 18:17:37,931 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-05 18:17:37,931 Line:215 ---------->SET Page 2 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-05 18:17:44,024 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-05 18:17:44,025 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[2,];search=[采购入库单,];
 [DEBUG] 2018-01-05 18:17:47,417 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-05 18:17:47,418 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-05 18:17:47,656 Line:5242 GlobalsTool.js 生成js 时间15:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 18:17:48,195 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-05 18:17:48,196 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-05 18:17:49,095 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-05 18:17:54,914 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineOp
 [DEBUG] 2018-01-05 18:17:54,914 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineOp,];
 [DEBUG] 2018-01-05 18:18:06,281 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2018-01-05 18:18:06,281 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2018-01-05 18:18:06,310 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=4E6294B8ABCF7A2492D968BD6C2BAC78BDE2C18286EC1D75823A272B8D52B9E1F1CAC0DB63DD848E7D157D24546971890C98562ED3F03CD4
 [DEBUG] 2018-01-05 18:18:06,313 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2018-01-05 18:18:21,307 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-05 18:18:27,043 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=4E6294B8ABCF7A2492D968BD6C2BAC78BDE2C18286EC1D75823A272B8D52B9E1F1CAC0DB63DD848EE85BA231B2338DB87686458C02F7B7F6
 [ERROR] 2018-01-05 18:18:27,109 Line:119 ------保存成功
 [DEBUG] 2018-01-05 18:18:35,505 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=3
 [DEBUG] 2018-01-05 18:18:35,506 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-05 18:18:35,506 Line:215 ---------->SET Page 3 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-05 18:18:36,009 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-05 18:18:36,018 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-05 18:18:36,106 Line:689 通过SQL读原始数据：88
 [DEBUG] 2018-01-05 18:18:36,108 Line:1391 整理数据：1
 [DEBUG] 2018-01-05 18:18:36,439 Line:5242 GlobalsTool.js 生成js 时间88:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-05 18:18:36,556 Line:5242 GlobalsTool.js 生成js 时间116:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 18:18:38,078 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=3&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-05 18:18:38,080 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-05 18:18:39,099 Line:5242 GlobalsTool.js 生成js 时间699:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-05 18:18:41,781 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 18:18:41,781 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 18:18:41,872 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-05&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 18:18:41,872 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 18:18:41,872 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-05,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 18:18:41,873 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 18:18:41,873 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-05 18:18:41,913 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-05'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 18:18:42,082 Line:5242 GlobalsTool.js 生成js 时间18:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2018-01-05 18:18:42,115 Line:5242 GlobalsTool.js 生成js 时间33:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2018-01-05 18:18:44,181 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-05 18:18:44,182 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-05 18:18:44,225 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 18:18:44,226 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-05 18:18:44,227 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 18:18:44,228 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 18:18:44,228 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-05 18:18:44,233 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 18:18:45,952 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-05 18:18:45,953 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-05 18:18:45,996 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2018-01-05 18:18:45,996 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-05 18:18:45,997 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-05 18:18:45,998 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-05 18:18:45,999 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-05 18:18:46,011 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-05 18:18:51,401 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-05 18:18:51,403 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801050009,];BillDate=[2018-01-05,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-05 18:18:51,406 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-05 18:18:51,443 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 18:18:51,443 Line:5853 1:0.0
 [DEBUG] 2018-01-05 18:18:51,443 Line:5853 2:
 [DEBUG] 2018-01-05 18:18:51,443 Line:5853 3:39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:51,444 Line:5853 4:-1
 [DEBUG] 2018-01-05 18:18:51,444 Line:5853 5:finish
 [DEBUG] 2018-01-05 18:18:51,444 Line:5853 6:0.0
 [DEBUG] 2018-01-05 18:18:51,444 Line:5853 7:0
 [DEBUG] 2018-01-05 18:18:51,444 Line:5853 8:0.0
 [DEBUG] 2018-01-05 18:18:51,445 Line:5853 9:BI1801050009
 [DEBUG] 2018-01-05 18:18:51,445 Line:5853 10:2018-01-05
 [DEBUG] 2018-01-05 18:18:51,445 Line:5853 11:00003
 [DEBUG] 2018-01-05 18:18:51,445 Line:5853 12:00101
 [DEBUG] 2018-01-05 18:18:51,445 Line:5853 13:1
 [DEBUG] 2018-01-05 18:18:51,445 Line:5853 14:00001
 [DEBUG] 2018-01-05 18:18:51,446 Line:5853 15:3
 [DEBUG] 2018-01-05 18:18:51,446 Line:5853 16:0.0
 [DEBUG] 2018-01-05 18:18:51,446 Line:5853 17:0.0
 [DEBUG] 2018-01-05 18:18:51,446 Line:5853 18:0.0
 [DEBUG] 2018-01-05 18:18:51,446 Line:5853 19:0.0
 [DEBUG] 2018-01-05 18:18:51,447 Line:5853 20:
 [DEBUG] 2018-01-05 18:18:51,447 Line:5853 21:0.0
 [DEBUG] 2018-01-05 18:18:51,447 Line:5853 22:0.0
 [DEBUG] 2018-01-05 18:18:51,447 Line:5853 23:0.0
 [DEBUG] 2018-01-05 18:18:51,447 Line:5853 24:
 [DEBUG] 2018-01-05 18:18:51,447 Line:5853 25:0.0
 [DEBUG] 2018-01-05 18:18:51,448 Line:5853 26:0.0
 [DEBUG] 2018-01-05 18:18:51,448 Line:5853 27:0.0
 [DEBUG] 2018-01-05 18:18:51,448 Line:5853 28:
 [DEBUG] 2018-01-05 18:18:51,448 Line:5853 29:1
 [DEBUG] 2018-01-05 18:18:51,448 Line:5853 30:1
 [DEBUG] 2018-01-05 18:18:51,448 Line:5853 31:2018
 [DEBUG] 2018-01-05 18:18:51,449 Line:5853 32:
 [DEBUG] 2018-01-05 18:18:51,449 Line:5853 33:0.0
 [DEBUG] 2018-01-05 18:18:51,449 Line:5853 34:0.0
 [DEBUG] 2018-01-05 18:18:51,449 Line:5853 35:0.0
 [DEBUG] 2018-01-05 18:18:51,449 Line:5853 36:
 [DEBUG] 2018-01-05 18:18:51,449 Line:5853 37:
 [DEBUG] 2018-01-05 18:18:51,450 Line:5853 38:
 [DEBUG] 2018-01-05 18:18:51,450 Line:5853 39:0.0
 [DEBUG] 2018-01-05 18:18:51,450 Line:5853 40:0.0
 [DEBUG] 2018-01-05 18:18:51,450 Line:5853 41:
 [DEBUG] 2018-01-05 18:18:51,450 Line:5853 42:
 [DEBUG] 2018-01-05 18:18:51,450 Line:5853 43:100.0
 [DEBUG] 2018-01-05 18:18:51,451 Line:5853 44:0.0
 [DEBUG] 2018-01-05 18:18:51,451 Line:5853 45:0.0
 [DEBUG] 2018-01-05 18:18:51,451 Line:5853 46:
 [DEBUG] 2018-01-05 18:18:51,451 Line:5853 47:1.0
 [DEBUG] 2018-01-05 18:18:51,451 Line:5853 48:1.0
 [DEBUG] 2018-01-05 18:18:51,451 Line:5853 49:1.0
 [DEBUG] 2018-01-05 18:18:51,452 Line:5853 50:0.0
 [DEBUG] 2018-01-05 18:18:51,452 Line:5853 51:1.0
 [DEBUG] 2018-01-05 18:18:51,452 Line:5853 52:
 [DEBUG] 2018-01-05 18:18:51,452 Line:5853 53:
 [DEBUG] 2018-01-05 18:18:51,452 Line:5853 54:0.0
 [DEBUG] 2018-01-05 18:18:51,452 Line:5853 55:0.0
 [DEBUG] 2018-01-05 18:18:51,452 Line:5853 56:0.0
 [DEBUG] 2018-01-05 18:18:51,453 Line:5853 57:0
 [DEBUG] 2018-01-05 18:18:51,453 Line:5853 58:00001
 [DEBUG] 2018-01-05 18:18:51,453 Line:5853 59:0
 [DEBUG] 2018-01-05 18:18:51,453 Line:5853 60:2018-01-05 18:18:51
 [DEBUG] 2018-01-05 18:18:51,453 Line:5853 61:1
 [DEBUG] 2018-01-05 18:18:51,453 Line:5853 62:2018-01-05 18:18:51
 [DEBUG] 2018-01-05 18:18:51,454 Line:5853 63:1
 [DEBUG] 2018-01-05 18:18:51,454 Line:5853 64:2018-01-05 18:18:51
 [DEBUG] 2018-01-05 18:18:51,468 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-05 18:18:51,468 Line:5853 1:39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:51,469 Line:5853 2:39ed448a_1801051818514680004
 [DEBUG] 2018-01-05 18:18:51,469 Line:5853 3:
 [DEBUG] 2018-01-05 18:18:51,469 Line:5853 4:
 [DEBUG] 2018-01-05 18:18:51,469 Line:5853 5:
 [DEBUG] 2018-01-05 18:18:51,469 Line:5853 6:
 [DEBUG] 2018-01-05 18:18:51,469 Line:5853 7:0000300001
 [DEBUG] 2018-01-05 18:18:51,470 Line:5853 8:
 [DEBUG] 2018-01-05 18:18:51,470 Line:5853 9:
 [DEBUG] 2018-01-05 18:18:51,470 Line:5853 10:
 [DEBUG] 2018-01-05 18:18:51,470 Line:5853 11:
 [DEBUG] 2018-01-05 18:18:51,470 Line:5853 12:
 [DEBUG] 2018-01-05 18:18:51,470 Line:5853 13:
 [DEBUG] 2018-01-05 18:18:51,471 Line:5853 14:
 [DEBUG] 2018-01-05 18:18:51,471 Line:5853 15:1.0
 [DEBUG] 2018-01-05 18:18:51,471 Line:5853 16:1.0
 [DEBUG] 2018-01-05 18:18:51,471 Line:5853 17:1.0
 [DEBUG] 2018-01-05 18:18:51,471 Line:5853 18:0.0
 [DEBUG] 2018-01-05 18:18:51,471 Line:5853 19:0
 [DEBUG] 2018-01-05 18:18:51,472 Line:5853 20:0.0
 [DEBUG] 2018-01-05 18:18:51,472 Line:5853 21:0.0
 [DEBUG] 2018-01-05 18:18:51,472 Line:5853 22:0.0
 [DEBUG] 2018-01-05 18:18:51,472 Line:5853 23:100.0
 [DEBUG] 2018-01-05 18:18:51,472 Line:5853 24:1.0
 [DEBUG] 2018-01-05 18:18:51,472 Line:5853 25:1.0
 [DEBUG] 2018-01-05 18:18:51,473 Line:5853 26:0.0
 [DEBUG] 2018-01-05 18:18:51,473 Line:5853 27:1.0
 [DEBUG] 2018-01-05 18:18:51,473 Line:5853 28:1.0
 [DEBUG] 2018-01-05 18:18:51,473 Line:5853 29:0.0
 [DEBUG] 2018-01-05 18:18:51,474 Line:5853 30:1.0
 [DEBUG] 2018-01-05 18:18:51,474 Line:5853 31:1.0
 [DEBUG] 2018-01-05 18:18:51,474 Line:5853 32:0.0
 [DEBUG] 2018-01-05 18:18:51,474 Line:5853 33:0.0
 [DEBUG] 2018-01-05 18:18:51,475 Line:5853 34:0.0
 [DEBUG] 2018-01-05 18:18:51,475 Line:5853 35:0.0
 [DEBUG] 2018-01-05 18:18:51,475 Line:5853 36:0.0
 [DEBUG] 2018-01-05 18:18:51,475 Line:5853 37:
 [DEBUG] 2018-01-05 18:18:51,476 Line:5853 38:0.0
 [DEBUG] 2018-01-05 18:18:51,476 Line:5853 39:0.0
 [DEBUG] 2018-01-05 18:18:51,476 Line:5853 40:0.0
 [DEBUG] 2018-01-05 18:18:51,476 Line:5853 41:0.0
 [DEBUG] 2018-01-05 18:18:51,477 Line:5853 42:0.0
 [DEBUG] 2018-01-05 18:18:51,478 Line:5853 43:0.0
 [DEBUG] 2018-01-05 18:18:51,478 Line:5853 44:0.0
 [DEBUG] 2018-01-05 18:18:51,479 Line:5853 45:0.0
 [DEBUG] 2018-01-05 18:18:51,479 Line:5853 46:0.0
 [DEBUG] 2018-01-05 18:18:51,479 Line:5853 47:0
 [DEBUG] 2018-01-05 18:18:51,479 Line:5853 48:0.0
 [DEBUG] 2018-01-05 18:18:51,480 Line:5853 49:0.0
 [DEBUG] 2018-01-05 18:18:51,480 Line:5853 50:0
 [DEBUG] 2018-01-05 18:18:51,480 Line:5853 51:
 [DEBUG] 2018-01-05 18:18:51,480 Line:5853 52:0.0
 [DEBUG] 2018-01-05 18:18:51,480 Line:5853 53:0.0
 [DEBUG] 2018-01-05 18:18:51,480 Line:5853 54:0.0
 [DEBUG] 2018-01-05 18:18:51,481 Line:5853 55:0
 [DEBUG] 2018-01-05 18:18:51,481 Line:5853 56:0
 [DEBUG] 2018-01-05 18:18:51,481 Line:5853 57:
 [DEBUG] 2018-01-05 18:18:51,481 Line:5853 58:0.0
 [DEBUG] 2018-01-05 18:18:51,481 Line:5853 59:0.0
 [DEBUG] 2018-01-05 18:18:51,482 Line:5853 60:
 [DEBUG] 2018-01-05 18:18:51,482 Line:5853 61:0.0
 [DEBUG] 2018-01-05 18:18:51,482 Line:5853 62:00001
 [DEBUG] 2018-01-05 18:18:51,678 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-05 18:18:51,922 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,922 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-05 18:18:51,925 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,925 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-05 18:18:51,926 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,926 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-05 18:18:51,927 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,928 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 18:18:51,929 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,929 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-05 18:18:51,930 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,930 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 18:18:51,931 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:51,932 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-05 18:18:51,932 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:51,932 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:51,933 Line:988 2值：2018-01-05
 [DEBUG] 2018-01-05 18:18:51,935 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 18:18:51,936 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 18:18:51,937 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,937 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 18:18:51,937 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:51,937 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:51,938 Line:988 2值：00003
 [DEBUG] 2018-01-05 18:18:51,943 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 18:18:51,943 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 18:18:51,944 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,945 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-05 18:18:51,945 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:51,945 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:51,945 Line:988 2值：00003
 [DEBUG] 2018-01-05 18:18:51,957 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-05 18:18:51,957 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-05 18:18:51,958 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,959 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-05 18:18:51,959 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:51,959 Line:988 1值：false
 [DEBUG] 2018-01-05 18:18:51,959 Line:988 2值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:51,968 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-05 18:18:51,968 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-05 18:18:51,968 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-05 18:18:51,969 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,969 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-05 18:18:51,970 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:51,970 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:51,975 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-05 18:18:51,976 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 18:18:51,976 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,977 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 18:18:51,977 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:51,977 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:51,980 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 18:18:51,981 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 18:18:51,982 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,982 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-05 18:18:51,982 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:51,982 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:51,986 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 18:18:51,986 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 18:18:51,988 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,988 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-05 18:18:51,988 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:51,988 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:51,992 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-05 18:18:51,993 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-05 18:18:51,994 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,994 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-05 18:18:51,996 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:51,997 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-05 18:18:51,997 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:51,997 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,012 Line:1043 ---上述语句时间---15
 [DEBUG] 2018-01-05 18:18:52,012 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 18:18:52,014 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,015 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-05 18:18:52,018 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,018 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-05 18:18:52,019 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:52,019 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,021 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 18:18:52,023 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 18:18:52,025 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,025 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-05 18:18:52,025 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:52,026 Line:988 1值：1
 [DEBUG] 2018-01-05 18:18:52,026 Line:988 2值：0
 [DEBUG] 2018-01-05 18:18:52,026 Line:988 3值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,051 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-05 18:18:52,051 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-05 18:18:52,051 Line:1043 ---上述语句时间---26
 [DEBUG] 2018-01-05 18:18:52,052 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-05 18:18:52,053 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,053 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-05 18:18:52,053 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:52,054 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,063 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-05 18:18:52,063 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 18:18:52,064 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,064 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-05 18:18:52,065 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:52,065 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,066 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 18:18:52,067 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-05 18:18:52,068 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,068 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-05 18:18:52,068 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:52,068 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,071 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 18:18:52,071 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-05 18:18:52,072 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,073 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-05 18:18:52,073 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:52,074 Line:988 1值：
 [DEBUG] 2018-01-05 18:18:52,074 Line:988 2值：00001
 [DEBUG] 2018-01-05 18:18:52,084 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-05 18:18:52,084 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-05 18:18:52,085 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:52,085 Line:988 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,085 Line:988 2值：
 [DEBUG] 2018-01-05 18:18:52,086 Line:988 3值：
 [DEBUG] 2018-01-05 18:18:52,086 Line:988 4值：
 [DEBUG] 2018-01-05 18:18:52,091 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-05 18:18:52,091 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-05 18:18:52,093 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,093 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-05 18:18:52,094 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,094 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-05 18:18:52,095 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,095 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-05 18:18:52,096 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,096 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 18:18:52,097 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,098 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-05 18:18:52,098 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 18:18:52,098 Line:1157 2值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,102 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 18:18:52,102 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 18:18:52,103 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 18:18:52,103 Line:1154 1整数 值：2
 [DEBUG] 2018-01-05 18:18:52,103 Line:1157 2值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,104 Line:1157 3值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,111 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 18:18:52,111 Line:229 ************上述语句执行时间：8
 [DEBUG] 2018-01-05 18:18:52,111 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-05 18:18:52,111 Line:1157 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,112 Line:1157 2值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,117 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 18:18:52,118 Line:229 ************上述语句执行时间：7
 [DEBUG] 2018-01-05 18:18:52,118 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-05 18:18:52,119 Line:1157 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,122 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 18:18:52,122 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 18:18:52,123 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-05 18:18:52,123 Line:1157 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,127 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 18:18:52,127 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-05 18:18:52,127 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-05 18:18:52,128 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,128 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-05 18:18:52,129 Line:1157 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,129 Line:1157 2值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,133 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-05 18:18:52,133 Line:408 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 18:18:52,134 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-05 18:18:52,135 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,137 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-05 18:18:52,138 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,139 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-05 18:18:52,140 Line:1270 39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,141 Line:1270 add
 [DEBUG] 2018-01-05 18:18:52,219 Line:425 ************上述语句执行时间：80
 [DEBUG] 2018-01-05 18:18:52,219 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-05 18:18:52,220 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,221 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 18:18:52,221 Line:1157 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,231 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 18:18:52,231 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-05 18:18:52,231 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-05 18:18:52,232 Line:1157 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,240 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-05 18:18:52,240 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-05 18:18:52,241 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 18:18:52,241 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,242 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2018-01-05 18:18:52,242 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,243 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2018-01-05 18:18:52,243 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,262 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2018-01-05 18:18:52,264 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,264 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 18:18:52,265 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,266 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2018-01-05 18:18:52,267 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,267 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 18:18:52,268 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,269 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2018-01-05 18:18:52,270 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,270 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 18:18:52,271 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,271 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2018-01-05 18:18:52,272 Line:1157 1值：39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,275 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2018-01-05 18:18:52,276 Line:408 ************上述语句执行时间：5
 [DEBUG] 2018-01-05 18:18:52,276 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 18:18:52,277 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,277 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2018-01-05 18:18:52,278 Line:1270 39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,278 Line:1270 add
 [DEBUG] 2018-01-05 18:18:52,330 Line:425 ************上述语句执行时间：53
 [DEBUG] 2018-01-05 18:18:52,331 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2018-01-05 18:18:52,332 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,332 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-05 18:18:52,332 Line:1270 1
 [DEBUG] 2018-01-05 18:18:52,332 Line:1270 2018
 [DEBUG] 2018-01-05 18:18:52,333 Line:1270 1
 [DEBUG] 2018-01-05 18:18:52,333 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-05 18:18:52,333 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-05 18:18:52,333 Line:1270 39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,333 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-05 18:18:52,333 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 18:18:52,334 Line:1270 BI1801050009
 [DEBUG] 2018-01-05 18:18:52,334 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 18:18:52,334 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 18:18:52,334 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2018-01-05 18:18:52,334 Line:1270 1
 [DEBUG] 2018-01-05 18:18:52,334 Line:1270 1
 [DEBUG] 2018-01-05 18:18:52,334 Line:1270 2018-01-05 18:18:51
 [DEBUG] 2018-01-05 18:18:52,335 Line:1270 2018-01-05 18:18:51
 [DEBUG] 2018-01-05 18:18:52,335 Line:1270 00001
 [DEBUG] 2018-01-05 18:18:52,335 Line:1270 
 [DEBUG] 2018-01-05 18:18:52,335 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2018-01-05 18:18:52,335 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2018-01-05 18:18:52,335 Line:1270 00003
 [DEBUG] 2018-01-05 18:18:52,336 Line:1270 1
 [DEBUG] 2018-01-05 18:18:52,336 Line:1270 00101
 [DEBUG] 2018-01-05 18:18:52,336 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2018-01-05 18:18:52,336 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2018-01-05 18:18:52,336 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-05 18:18:52,336 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2018-01-05 18:18:52,336 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2018-01-05 18:18:52,337 Line:1270 0
 [DEBUG] 2018-01-05 18:18:52,337 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2018-01-05 18:18:52,337 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2018-01-05 18:18:52,337 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-05 18:18:52,337 Line:1270 f_ref='39ed448a_1801051818514350003'
 [DEBUG] 2018-01-05 18:18:52,539 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'39ed448a_1801051818514350003','2018-01-05','BI1801050009','tblBuyInStock',1,2018,1,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2018-01-05 18:18:51','2018-01-05 18:18:51','00001' from tblBuyInStockDet where f_ref='39ed448a_1801051818514350003' order by tblBuyInStockDet.id
 [DEBUG] 2018-01-05 18:18:52,540 Line:1292 存储过程内部信息： 1
 [DEBUG] 2018-01-05 18:18:52,540 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 18:18:52,540 Line:1292 存储过程内部信息： ************
 [DEBUG] 2018-01-05 18:18:52,540 Line:425 ************上述语句执行时间：208
 [DEBUG] 2018-01-05 18:18:52,540 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2018-01-05 18:18:52,541 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,542 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 18:18:52,542 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,543 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2018-01-05 18:18:52,543 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:52,545 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-05 18:18:52,545 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2018-01-05 18:18:52,546 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,546 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2018-01-05 18:18:52,546 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,547 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2018-01-05 18:18:52,547 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,547 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2018-01-05 18:18:52,547 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:52,548 Line:988 1值：1
 [DEBUG] 2018-01-05 18:18:52,548 Line:988 2值：0
 [DEBUG] 2018-01-05 18:18:52,548 Line:988 3值：1
 [DEBUG] 2018-01-05 18:18:52,548 Line:988 4值：0
 [DEBUG] 2018-01-05 18:18:52,548 Line:988 5值：0
 [DEBUG] 2018-01-05 18:18:52,548 Line:988 6值：1
 [DEBUG] 2018-01-05 18:18:52,549 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 18:18:52,550 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 18:18:52,550 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2018-01-05 18:18:52,550 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 18:18:52,550 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2018-01-05 18:18:52,551 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,597 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2018-01-05 18:18:52,600 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2018-01-05 18:18:52,614 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 18:18:52,621 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 18:18:52,628 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 18:18:52,635 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 18:18:52,642 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 18:18:52,648 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 18:18:52,660 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2018-01-05 18:18:52,669 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2018-01-05 18:18:52,781 Line:434 ************上述语句执行时间：230
 [DEBUG] 2018-01-05 18:18:52,782 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2018-01-05 18:18:52,783 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,783 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2018-01-05 18:18:52,783 Line:1270 139ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,784 Line:1270 00003
 [DEBUG] 2018-01-05 18:18:52,784 Line:1270 1
 [DEBUG] 2018-01-05 18:18:52,784 Line:1270 2018-01-05
 [DEBUG] 2018-01-05 18:18:52,784 Line:1270 Period=1@SPFieldLink:PeriodYear=2018@SPFieldLink:PeriodMonth=1@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=39ed448a_1801051818514350003@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2018-01-05 18:18:51@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2018-01-05 18:18:51@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1801050009@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2018-01-05 18:18:52,849 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('139ed448a_1801051818514350003',24,'00003','2018-01-05','1','2018','1','0','1','39ed448a_1801051818514350003','','1','0','1','1','2018-01-05 18:18:51','1','2018-01-05 18:18:51','00001','tblBuyInStock','BI1801050009','1','00101','0','')
 [DEBUG] 2018-01-05 18:18:52,850 Line:425 ************上述语句执行时间：67
 [DEBUG] 2018-01-05 18:18:52,850 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2018-01-05 18:18:52,851 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,852 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2018-01-05 18:18:52,854 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,855 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2018-01-05 18:18:52,856 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,856 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2018-01-05 18:18:52,857 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,857 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2018-01-05 18:18:52,857 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,858 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2018-01-05 18:18:52,858 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,859 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2018-01-05 18:18:52,859 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-05 18:18:52,859 Line:988 1值：1
 [DEBUG] 2018-01-05 18:18:52,859 Line:988 2值：0
 [DEBUG] 2018-01-05 18:18:52,859 Line:988 3值：1
 [DEBUG] 2018-01-05 18:18:52,859 Line:988 4值：0
 [DEBUG] 2018-01-05 18:18:52,860 Line:988 5值：0
 [DEBUG] 2018-01-05 18:18:52,860 Line:988 6值：0
 [DEBUG] 2018-01-05 18:18:52,862 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2018-01-05 18:18:52,862 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2018-01-05 18:18:52,862 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2018-01-05 18:18:52,862 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-05 18:18:52,862 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 18:18:52,862 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,862 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2018-01-05 18:18:52,863 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,863 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 18:18:52,864 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,864 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2018-01-05 18:18:52,866 Line:321 flag:false
 [DEBUG] 2018-01-05 18:18:52,866 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2018-01-05 18:18:52,866 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,866 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2018-01-05 18:18:52,867 Line:1270 39ed448a_1801051818514350003
 [DEBUG] 2018-01-05 18:18:52,867 Line:1270 add
 [DEBUG] 2018-01-05 18:18:52,877 Line:425 ************上述语句执行时间：11
 [DEBUG] 2018-01-05 18:18:52,877 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-05 18:18:52,878 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:52,887 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst952700822,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-05 18:18:59,339 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-05 18:18:59,340 Line:443 ************上述语句执行时间：6462
 [DEBUG] 2018-01-05 18:18:59,341 Line:313 exeCondition:tblBuyInStock_Add : '-1009' == '-1009'
 [DEBUG] 2018-01-05 18:18:59,342 Line:321 flag:true
 [DEBUG] 2018-01-05 18:18:59,343 Line:372 ---error，返回信息：易站通用户名不存在!url=
 [ERROR] 2018-01-05 18:18:59,343 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=易站通用户名不存在!
 [DEBUG] 2018-01-05 18:42:15,707 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-05 18:42:15,708 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-05 18:42:15,891 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-05 18:42:15,891 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-05 18:42:16,048 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515148936028
 [DEBUG] 2018-01-05 18:42:16,049 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515148936028,];
 [DEBUG] 2018-01-05 18:42:16,488 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-05 18:42:16,489 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-05 18:42:16,605 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-05 18:42:16,606 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-05 18:42:16,748 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515148936742
 [DEBUG] 2018-01-05 18:42:16,749 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515148936742,];
 