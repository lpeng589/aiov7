<?xml version="1.0" encoding="UTF-8" ?>
<ReportDataSource><Report reporteId="" reportName=""/><fieldInfo><field fieldname="tblBuyApplication.BillDate" AsfieldName="BillDate1" groupByFlag="0" displayFlag="0" condition="&gt;=? and tblBuyApplication.workFlowNodeName='finish'" conditionJoin="and" orderbyFlag="" display="单据日期≥" fieldType="5" inputType="0" popUpName="" width="0" classCode="1" linkAdd="" order="1" isStat="0" defaultValue="@MEM:defaultTime" fieldSysType="" fixColName="1" isNull="1" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="单据日期≥"/><Display localStr="en" display="Document date≥"/><Display localStr="zh_TW" display="單據日期≥"/></Displays><groupNames/></field><field fieldname="tblBuyApplication.BillDate" AsfieldName="BillDate2" groupByFlag="0" displayFlag="0" condition="&lt;=?" conditionJoin="and" orderbyFlag="" display="单据日期≤" fieldType="5" inputType="0" popUpName="" width="0" classCode="1" linkAdd="" order="2" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="单据日期≤"/><Display localStr="en" display="Document date≤"/><Display localStr="zh_TW" display="單據日期≤"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode" AsfieldName="GoodsCode" groupByFlag="1" displayFlag="1" condition="=?" conditionJoin="and" orderbyFlag="" display="商品名称" fieldType="2" inputType="2" popUpName="ReportSelectGoods_v2" width="-1" classCode="1" linkAdd="" order="3" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品名称"/><Display localStr="en" display="Category name"/><Display localStr="zh_TW" display="商品名稱"/></Displays><groupNames/></field><field fieldname="tblBuyApplication.DepartmentCode" AsfieldName="DepartmentCode" groupByFlag="1" displayFlag="1" condition="=?" conditionJoin="and" orderbyFlag="" display="部门" fieldType="2" inputType="2" popUpName="ReportSelectDepartment_v2" width="-1" classCode="1" linkAdd="" order="4" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="部门"/></Displays><groupNames/></field><field fieldname="tblGoods.[tblGoods]" AsfieldName="GoodsFullName" groupByFlag="1" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="商品名称" fieldType="2" inputType="0" popUpName="" width="120" classCode="1" linkAdd="" order="5" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品名称"/><Display localStr="en" display="Commodity name"/><Display localStr="zh_TW" display="商品名稱"/></Displays><groupNames/></field><field fieldname="tblBuyApplicationDet.[GOODSPROP]" AsfieldName="BatchNo" groupByFlag="1" displayFlag="1" condition="=?" conditionJoin="and" orderbyFlag="" display="批号" fieldType="2" inputType="8" popUpName="" width="100" classCode="1" linkAdd="" order="6" isStat="0" defaultValue="" fieldSysType="GoodsField" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="批號"/><Display localStr="zh_CN" display="批号"/><Display localStr="en" display="Batch No"/></Displays><groupNames/></field><field fieldname="tblDepartment.DeptFullName" AsfieldName="DeptFullName" groupByFlag="1" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="部门全称" fieldType="2" inputType="7" popUpName="" width="75" classCode="1" linkAdd="" order="7" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="部門全稱"/><Display localStr="zh_CN" display="部门全称"/><Display localStr="en" display="Department full name"/></Displays><groupNames/></field><field fieldname="sum(tblBuyApplicationDet.Qty)" AsfieldName="Qty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="申请数量" fieldType="1" inputType="8" popUpName="" width="100" classCode="1" linkAdd="ReportDataAction.do?reportNumber=tblBuyApplicationDet&amp;detTable_list=tblBuyApplication&amp;startDate=@condition:BillDate1&amp;endDate=@condition:BillDate2&amp;hide_DepartmentCode=@ValueofDB:hide_DepartmentCode&amp;DepartmentCode=@ValueofDB:DepartmentCode&amp;tblDepartment.DeptFullName=@ValueofDB:DeptFullName&amp;hide_GoodsCode=@ValueofDB:hideCode&amp;GoodsCode=@ValueofDB:GoodsCode&amp;tblGoods.[tblGoods]=@ValueofDB:GoodsNumber&amp;tblGoods.BaseUnit=@ValueofDB:BaseUnit&amp;Inch=@ValueofDB:Inch&amp;BatchNo=@ValueofDB:BatchNo&amp;yearNO=@ValueofDB:yearNO&amp;Hue=@ValueofDB:Hue&amp;ProDate=@ValueofDB:ProDate&amp;Availably=@ValueofDB:Availably" order="8" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_TW" display="數量"/><Display localStr="zh_CN" display="申请数量"/><Display localStr="en" display="Quantity"/></Displays><groupNames/></field><field fieldname="sum(TotalDet.planQty)" AsfieldName="planQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="审批数量" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="9" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_CN" display="审批数量"/></Displays><groupNames/></field><field fieldname="sum(TotalDet.Qty)" AsfieldName="SendQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="配送数量" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="ReportDataAction.do?reportNumber=ReportSend&amp;detTable_list=tblSend&amp;BillDate1=@condition:BillDate1&amp;BillDate2=@condition:BillDate2&amp;hide_DepartmentCode=@ValueofDB:hide_DepartmentCode&amp;DepartmentCode=@ValueofDB:DepartmentCode&amp;tblDepartment.DeptFullName=@ValueofDB:DeptFullName&amp;hide_GoodsCode=@ValueofDB:hideCode&amp;GoodsCode=@ValueofDB:GoodsCode&amp;tblGoods.[tblGoods]=@ValueofDB:GoodsNumber&amp;tblGoods.BaseUnit=@ValueofDB:BaseUnit&amp;Inch=@ValueofDB:Inch&amp;BatchNo=@ValueofDB:BatchNo&amp;yearNO=@ValueofDB:yearNO&amp;Hue=@ValueofDB:Hue&amp;ProDate=@ValueofDB:ProDate&amp;Availably=@ValueofDB:Availably" order="10" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_CN" display="配送数量"/><Display localStr="en" display="quantity"/><Display localStr="zh_TW" display="配送數量"/></Displays><groupNames/></field><field fieldname="sum(TotalDet.CheckQty)" AsfieldName="CheckQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="验收数量" fieldType="1" inputType="3" popUpName="" width="100" classCode="1" linkAdd="ReportDataAction.do?reportNumber=ReportSendcheck&amp;detTable_list=tblSendcheck&amp;BillDate1=@condition:BillDate1&amp;BillDate2=@condition:BillDate2&amp;hide_DepartmentCode=@ValueofDB:hide_DepartmentCode&amp;DepartmentCode=@ValueofDB:DepartmentCode&amp;tblDepartment.DeptFullName=@ValueofDB:DeptFullName&amp;hide_GoodsCode=@ValueofDB:hideCode&amp;GoodsCode=@ValueofDB:GoodsCode&amp;tblGoods.[tblGoods]=@ValueofDB:GoodsNumber&amp;tblGoods.BaseUnit=@ValueofDB:BaseUnit&amp;Inch=@ValueofDB:Inch&amp;BatchNo=@ValueofDB:BatchNo&amp;yearNO=@ValueofDB:yearNO&amp;Hue=@ValueofDB:Hue&amp;ProDate=@ValueofDB:ProDate&amp;Availably=@ValueofDB:Availably" order="11" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_CN" display="验收数量"/><Display localStr="en" display="check qty"/><Display localStr="zh_TW" display="驗收數"/></Displays><groupNames/></field><field fieldname="sum(TotalDet.NotCheckQty)" AsfieldName="NotCheckQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="未验收数" fieldType="1" inputType="3" popUpName="" width="100" classCode="1" linkAdd="" order="12" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_CN" display="未验收数"/><Display localStr="en" display="not check qty"/><Display localStr="zh_TW" display="未驗收數"/></Displays><groupNames/></field><field fieldname="sum(TotalDet.ReturnQty)" AsfieldName="ReturnQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="配送退货数" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="ReportDataAction.do?reportNumber=tblSendReturnDet&amp;detTable_list=tblSendReturn&amp;BillDate1=@condition:BillDate1&amp;BillDate2=@condition:BillDate2&amp;hide_DepartmentCode=@ValueofDB:hide_DepartmentCode&amp;DepartmentCode=@ValueofDB:DepartmentCode&amp;tblDepartment.DeptFullName=@ValueofDB:DeptFullName&amp;hide_GoodsCode=@ValueofDB:hideCode&amp;GoodsCode=@ValueofDB:GoodsCode&amp;tblGoods.[tblGoods]=@ValueofDB:GoodsNumber&amp;tblGoods.BaseUnit=@ValueofDB:BaseUnit&amp;Inch=@ValueofDB:Inch&amp;BatchNo=@ValueofDB:BatchNo&amp;yearNO=@ValueofDB:yearNO&amp;Hue=@ValueofDB:Hue&amp;ProDate=@ValueofDB:ProDate&amp;Availably=@ValueofDB:Availably" order="13" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_TW" display="配送退貨數"/><Display localStr="zh_CN" display="配送退货数"/><Display localStr="en" display="send Return Qty"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode" AsfieldName="classCode" groupByFlag="1" displayFlag="1" condition="tblGoods.isCatalog=0" conditionJoin="and" orderbyFlag="" display="分类代码" fieldType="2" inputType="100" popUpName="" width="0" classCode="1" linkAdd="" order="14" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="分類代碼"/><Display localStr="zh_CN" display="分类代码"/><Display localStr="en" display="Category code"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode+'#;#0#;##;#'" AsfieldName="hideCode" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="" fieldType="" inputType="" popUpName="" width="0" classCode="1" linkAdd="" order="15" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays/><groupNames/></field><field fieldname="tblBuyApplication.DepartmentCode+'#;#0#;##;#'" AsfieldName="hide_DepartmentCode" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="" fieldType="" inputType="" popUpName="" width="0" classCode="1" linkAdd="" order="16" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays/><groupNames/></field></fieldInfo><SQL text="select vbCrLf    tblGoods.classCode as GoodsCode,vbCrLf    tblBuyApplication.DepartmentCode as DepartmentCode,vbCrLf    tblGoods.[tblGoods] as GoodsFullName,vbCrLf    tblBuyApplicationDet.[GOODSPROP] as BatchNo,vbCrLf    tblDepartment.DeptFullName as DeptFullName,vbCrLf    sum(tblBuyApplicationDet.Qty) as Qty,vbCrLf    sum(TotalDet.planQty) as planQty,vbCrLf    sum(TotalDet.Qty) as SendQty,vbCrLf    sum(TotalDet.CheckQty) as CheckQty,vbCrLf    sum(TotalDet.NotCheckQty) as NotCheckQty,vbCrLf    sum(TotalDet.ReturnQty) as ReturnQty,vbCrLf    tblGoods.classCode as classCode,vbCrLf    tblGoods.classCode+'#;#0#;##;#' as hideCode,vbCrLf    tblBuyApplication.DepartmentCode+'#;#0#;##;#' as hide_DepartmentCodevbCrLffrom tblBuyApplicationvbCrLf join tblBuyApplicationDet on tblBuyApplication.id=tblBuyApplicationDet.f_refvbCrLfleft join  (select tblBuyApplicationTotalDet.SourceID,sum(tblBuyApplicationTotalDet.planQty) as planQty,sum(a.Qty) as Qty,sum(a.CheckQty) as CheckQty,sum(a.NotCheckQty) as NotCheckQty,sum(tblBuyApplicationTotalDet.ReturnQty) as ReturnQty  from tblBuyApplicationTotalDet join tblBuyApplicationTotal on tblBuyApplicationTotal.id=tblBuyApplicationTotalDet.f_ref left join (select SourceID,sum(Qty) as Qty,SUM(CheckQty) as CheckQty,SUM(NotCheckQty) as NotCheckQty from tblSendDet join tblSend on tblSend.id=tblSendDet.f_ref where tblSend.workFlowNodeName='finish' group by SourceID)a on tblBuyApplicationTotalDet.id=a.SourceID where tblBuyApplicationTotal.workFlowNodeName='finish' group by tblBuyApplicationTotalDet.SourceID,tblBuyApplicationTotalDet.SourceID)TotalDet on TotalDet.SourceID=tblBuyApplicationDet.idvbCrLf join tblGoods on tblBuyApplicationDet.GoodsCode like tblGoods.classCode+'%'  vbCrLf left join tblDepartment on tblBuyApplication.DepartmentCode=tblDepartment.classCodevbCrLf{tblBuyApplicationDet.GOODSPROP}vbCrLfwhere 1=1 vbCrLf      and (tblBuyApplication.BillDate &gt;=? and tblBuyApplication.workFlowNodeName='finish')vbCrLf      and (tblBuyApplication.BillDate &lt;=?)vbCrLf      and (tblGoods.classCode =?)vbCrLf      and (tblBuyApplication.DepartmentCode =?)vbCrLf      and (tblBuyApplicationDet.[GOODSPROP] =?)vbCrLf      and tblGoods.isCatalog=0vbCrLfgroup by vbCrLf   tblGoods.classCode,vbCrLf   tblBuyApplication.DepartmentCode,vbCrLf   tblGoods.[tblGoods],vbCrLf   tblBuyApplicationDet.[GOODSPROP],vbCrLf   tblDepartment.DeptFullName,vbCrLf   tblGoods.classCodevbCrLfvbCrLfvbCrLf"/><charts/></ReportDataSource>
