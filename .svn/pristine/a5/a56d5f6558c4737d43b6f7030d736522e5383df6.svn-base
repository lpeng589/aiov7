webpackJsonp([54,52],{0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(15),i=a(o),r=n(695),u=a(r),l=n(589),d=a(l),c=n(297),s=a(c),f=n(302),p=a(f);i.default.config.silent=!0,i.default.use(u.default),i.default.mixin({beforeRouteLeave:function(e,t,n){window.sessionStorage.setItem("scrollTop"+t.name,document.body.scrollTop),n(!0)},beforeRouteEnter:function(e,t,n){var a=window.sessionStorage.getItem("scrollTop"+e.name);a=a?a:0,n(function(e){window.scroll(0,a)})}});var m=new u.default({base:"/mobile/",routes:s.default});m.beforeEach(function(e,t,n){var a=e.meta,o=e.name,i=a.auth,r=void 0===i||i,u=Boolean(p.default.state.user.id);return r&&!u&&"login"!==o?void p.default.dispatch("getSessEmp").then(function(){n()}).catch(function(e){window.console.log(e)}):void n()}),m.afterEach(function(){if(p.default.getters.isWX&&p.default.state.wxinfo.reloadFlag)return void window.__aioApp__.$router.push({name:"wxredirect",params:{state:"wxwork",target:p.default.state.wxinfo.originalHref}})}),window.__aioApp__=new i.default({el:"#app",router:m,store:p.default,render:function(e){return e(d.default)}})},21:function(e,t){},23:function(e,t){},46:function(e,t){},55:function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.dateformat=n},102:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AddPre="crm/outAttendance/addPre",t.Detail="crm/outAttendance/detail",t.Add="crm/outAttendance/add",t.Update="crm/outAttendance/update",t.FetchList="crm/outAttendance/fetchList",t.CountUnSignout="crm/outAttendance/countUnSignout",t.ChangeDetail="crm/outAttendance/changeDetail",t.ChangeDetailValues="crm/outAttendance/changeDetailValues",t.SignInChoseLocCBFill="crm/outAttendance/signInChoseLocCBFill",t.SignOutChoseLocCBFill="crm/outAttendance/signOutChoseLocCBFill",t.PopupEmployeeCBFill="crm/outAttendance/popupEmployeeCBFill",t.PopupClientCBFill="crm/outAttendance/popupClientCBFill",t.AddBeforeList="crm/outAttendance/addBeforeList",t.AddAfterList="crm/outAttendance/addAfterList",t.UpdateToList="crm/outAttendance/updateToList",t.EmptyList="crm/outAttendance/emptyList",t.ResetCond="crm/outAttendance/resetCond",t.ListKeyIds="crm/outAttendance/listKeyIds",t.IncreaseCondPage="crm/outAttendance/increaseCondPage",t.DecreaseCondPage="crm/outAttendance/decreaseCondPage"},109:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Scan="cardscan/scan",t.Add="cardscan/add",t.Update="cardscan/update",t.Del="cardscan/del",t.FetchList="cardscan/fetchList",t.BindAlbum="cardscan/bindAlbum",t.ChooseCamera="cardscan/chooseCamera",t.TransferToCRM="cardscan/transferToCRM",t.AddBeforeList="cardscan/addBeforeList",t.AddAfterList="cardscan/addAfterList",t.UpdateToList="cardscan/updateToList",t.DelFromList="cardscan/delFromList",t.EmptyList="cardscan/emptyList",t.ResetCond="cardscan/resetCond",t.UpdateStatusToList="cardscan/updateStatusToList",t.ListKeyIds="cardscan/listKeyIds",t.IncreaseCondPage="cardscan/increaseCondPage",t.DecreaseCondPage="cardscan/decreaseCondPage",t.StatusEnum="cardscan/statusEnum"},110:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Add="popup/crmclientloc/add",t.FetchList="popup/crmclientloc/fetchList",t.AddBeforeList="popup/crmclientloc/addBeforeList",t.AddAfterList="popup/crmclientloc/addAfterList",t.EmptyList="popup/crmclientloc/emptyList",t.ResetCond="popup/crmclientloc/resetCond",t.IncreaseCondPage="popup/crmclientloc/increaseCondPage",t.DecreaseCondPage="popup/crmclientloc/decreaseCondPage",t.UpdateToList="cardscan/updateToList",t.SetCbMutationName="popup/crmclientloc/setCbMutationName",t.ListKeyIds="popup/crmclientloc/listKeyIds",t.GetCbMutationName="popup/crmclientloc/getCbMutationName"},111:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FetchList="popup/employee/fetchList",t.ToggleCheckedStatus="popup/employee/toggleCheckStatus",t.SubstituteList="popup/employee/substituteList",t.InitCharactersList="popup/employee/initCharactersList",t.UpdateCharactersList="popup/employee/updateCharactersList",t.SetCbMutationName="popup/employee/setCbMutationName",t.GetCbMutationName="popup/employee/getCbMutationName",t.GetCharactersList="popup/employee/getCharactersList",t.GetChosenEmp="popup/employee/getChosenEmp"},112:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GetCbMutationName="locate/getCbMutationName",t.SetCbMutationName="locate/setCbMutationName"},125:function(e,t){},204:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),i=(a(o),n(22)),r=a(i),u=n(144),l=a(u),d=n(533),c=a(d),s=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return(0,r.default)({message:e.message,duration:2e3})},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"post";o?l.default.post(e,t).then(n).catch(a):(0,l.default)({method:i,url:e,headers:{returntype:"ajax/json","Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},data:c.default.stringify(t)}).then(function(e){var t=e.data;if("NOLOGIN"===t.code){"index"!==window.__aioApp__.$route.name&&(0,r.default)({message:"请先去登陆",duration:2e3}),n(t);var a=window.sessionStorage.getItem("wxstate");a?window.__aioApp__.$router.push({name:"wxredirect",params:{state:a}}):window.__aioApp__.$router.push({name:"login"})}else n(t)}).catch(a)};t.default={commitData:s}},205:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SIGNIN="SIGNIN",t.SIGNOUT="SIGNOUT",t.UPDATEUSERINFO="updateUserinfo",t.CURFLOWDEPICT="curFlowDepict"},242:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{transitionName:"slide-left"}},watch:{$route:function(e,t){var n=e.path.split("/").length,a=t.path.split("/").length;this.transitionName=n<a?"slide-right":"slide-left"}}}},295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return n.e(26,function(t){var n=[t(608)];e.apply(null,n)}.bind(this))},o=function(e){return n.e(29,function(t){var n=[t(607)];e.apply(null,n)}.bind(this))},i=function(e){return n.e(37,function(t){var n=[t(590)];e.apply(null,n)}.bind(this))},r=function(e){return n.e(1,function(t){var n=[t(595)];e.apply(null,n)}.bind(this))},u=function(e){return n.e(11,function(t){var n=[t(594)];e.apply(null,n)}.bind(this))},l=function(e){return n.e(49,function(t){var n=[t(596)];e.apply(null,n)}.bind(this))},d=function(e){return n.e(21,function(t){var n=[t(591)];e.apply(null,n)}.bind(this))},c=function(e){return n.e(7,function(t){var n=[t(593)];e.apply(null,n)}.bind(this))},s=function(e){return n.e(36,function(t){var n=[t(592)];e.apply(null,n)}.bind(this))},f=function(e){return n.e(17,function(t){var n=[t(602)];e.apply(null,n)}.bind(this))},p=function(e){return n.e(18,function(t){var n=[t(599)];e.apply(null,n)}.bind(this))},m=function(e){return n.e(14,function(t){var n=[t(601)];e.apply(null,n)}.bind(this))},v=function(e){return n.e(24,function(t){var n=[t(598)];e.apply(null,n)}.bind(this))},h=function(e){return n.e(25,function(t){var n=[t(597)];e.apply(null,n)}.bind(this))},g=function(e){return n.e(23,function(t){var n=[t(600)];e.apply(null,n)}.bind(this))},y=function(e){return n.e(35,function(t){var n=[t(615)];e.apply(null,n)}.bind(this))},w=function(e){return n.e(33,function(t){var n=[t(617)];e.apply(null,n)}.bind(this))},b=function(e){return n.e(43,function(t){var n=[t(616)];e.apply(null,n)}.bind(this))},C=function(e){return n.e(42,function(t){var n=[t(619)];e.apply(null,n)}.bind(this))};t.default=[{path:"/cardscan/cardscanlist",component:a,name:"cardscanlist"},{path:"/cardscan/cardscandetail/:keyId/:opType",component:o,name:"cardscandetail"},{path:"/CRM/CRMClientInfo",component:i,name:"CRMClientInfo"},{path:"/CRM/CRMClientInfoList",component:r,name:"CRMClientInfoList",children:[{path:"search",component:l,name:"CRMClientInfoSearch"}]},{path:"/CRM/CRMClientInfoDetail/tableName=:tableName/keyId=:keyId/ModuleId=:ModuleId",component:u,name:"CRMClientInfoDetail"},{path:"/CRM/CRMClientInfoAdd",component:d,name:"CRMClientInfoAdd"},{path:"/CRM/CRMClientInfoDetList",component:c,name:"CRMClientInfoDetList"},{path:"/CRM/CRMClientInfoDetDetail",component:s,name:"CRMClientInfoDetDetail"},{path:"/CRM/CRMSaleFollowUpList",component:f,name:"CRMSaleFollowUpList"},{path:"/CRM/CRMSaleFollowUpDetail/keyId=:keyId",component:m,name:"CRMSaleFollowUpDetail"},{path:"/CRM/CRMClientServiceList",component:p,name:"CRMClientServiceList"},{path:"/CRM/CRMClientServiceDetail/keyId=:keyId",component:v,name:"CRMClientServiceDetail"},{path:"/CRM/CRMClientServiceAdd",component:h,name:"CRMClientServiceAdd"},{path:"/CRM/CRMSaleFollowUpAdd",component:g,name:"CRMSaleFollowUpAdd"},{path:"/outAttendance",component:y,name:"OutAttendance"},{path:"/outAttendance/signin",component:w,name:"OutAttendancesignin"},{path:"/outAttendance/det/:keyId",component:b,name:"OutAttendancedet"},{path:"/outAttendance/locate",component:C,name:"OutAttendanceLocate"}]},296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return n.e(28,function(t){var n=[t(629)];e.apply(null,n)}.bind(this))},o=function(e){return n.e(10,function(t){var n=[t(606)];e.apply(null,n)}.bind(this))},i=function(e){return n.e(16,function(t){var n=[t(604)];e.apply(null,n)}.bind(this))},r=function(e){return n.e(15,function(t){var n=[t(605)];e.apply(null,n)}.bind(this))},u=function(e){return n.e(30,function(t){var n=[t(603)];e.apply(null,n)}.bind(this))},l=function(e){return n.e(2,function(t){var n=[t(632)];e.apply(null,n)}.bind(this))};t.default=[{path:"/stockreport/stockReport",component:a,name:"stockReport"},{path:"/SalesOrder/salesOrderList/opt=:opt?",component:o,name:"salesOrderList"},{path:"/SalesOrder/salesOrderAdd/",component:i,name:"salesOrderAdd"},{path:"/SalesOrder/salesOrderDetail/",component:r,name:"salesOrderDetail"},{path:"/SalesOrder/goodList/retPage=:retPage",component:u,name:"goodList"},{path:"/transactionRecord/transactionRecord",component:l,name:"transactionRecord"}]},297:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(328),i=a(o),r=n(295),u=a(r),l=n(298),d=a(l),c=n(296),s=a(c),f=n(299),p=a(f),m=function(e){return n.e(44,function(t){var n=[t(611)];e.apply(null,n)}.bind(this))},v=function(e){return n.e(50,function(t){var n=[t(614)];e.apply(null,n)}.bind(this))},h=function(e){return n.e(46,function(t){var n=[t(612)];e.apply(null,n)}.bind(this))},g=function(e){return n.e(41,function(t){var n=[t(610)];e.apply(null,n)}.bind(this))},y=function(e){return n.e(45,function(t){var n=[t(630)];e.apply(null,n)}.bind(this))},w=function(e){return n.e(31,function(t){var n=[t(631)];e.apply(null,n)}.bind(this))},b=function(e){return n.e(0,function(t){var n=[t(626)];e.apply(null,n)}.bind(this))},C=function(e){return n.e(47,function(t){var n=[t(627)];e.apply(null,n)}.bind(this))},M=function(e){return n.e(12,function(t){var n=[t(625)];e.apply(null,n)}.bind(this))},N=function(e){return n.e(13,function(t){var n=[t(624)];e.apply(null,n)}.bind(this))},I=[{path:"",redirect:{name:"index"}},{path:"/index.html",name:"wxredirect",redirect:function(e){var t=e.params,n=t.state,a=t.target;a||(a="/mobilevue?state="+n),window.open(a,"_self")}},{path:"/index",component:m,name:"index"},{path:"/login",component:h,name:"login",meta:{auth:!1}},{path:"/contact/contactList",component:g,name:"contactList"},{path:"/store/storeList",component:y,name:"storeList",children:[{path:"search",component:w,name:"storeSearch"}]},{path:"/sale/SaleorderInfoList",component:b,name:"SaleorderInfoList",children:[{path:"search",component:C,name:"SaleorderInfoSearch"}]},{path:"/sale/SaleorderInfoDetail/tableName=:tableName/keyId=:keyId/ModuleId=:ModuleId",component:M,name:"SaleorderInfoDetail"},{path:"/sale/SaleorderInfoAdd/tableName=:tableName/keyId=:keyId",component:N,name:"SaleorderInfoAdd"}].concat((0,i.default)(u.default),(0,i.default)(d.default),(0,i.default)(p.default),(0,i.default)(s.default));I.push({path:"*",component:v,name:"notfound",meta:{auth:!1}}),t.default=I},298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return n.e(27,function(t){var n=[t(641)];e.apply(null,n)}.bind(this))},o=function(e){return n.e(6,function(t){var n=[t(633)];e.apply(null,n)}.bind(this))},i=function(e){return n.e(9,function(t){var n=[t(635)];e.apply(null,n)}.bind(this))},r=function(e){return n.e(38,function(t){var n=[t(637)];e.apply(null,n)}.bind(this))},u=function(e){return n.e(5,function(t){var n=[t(639)];e.apply(null,n)}.bind(this))},l=function(e){return n.e(4,function(t){var n=[t(640)];e.apply(null,n)}.bind(this))},d=function(e){return n.e(3,function(t){var n=[t(638)];e.apply(null,n)}.bind(this))},c=function(e){return n.e(51,function(t){var n=[t(634)];e.apply(null,n)}.bind(this))},s=function(e){return n.e(48,function(t){var n=[t(623)];e.apply(null,n)}.bind(this))},f=function(e){return n.e(8,function(t){var n=[t(636)];e.apply(null,n)}.bind(this))},p=function(e){return n.e(19,function(t){var n=[t(613)];e.apply(null,n)}.bind(this))},m=function(e){return n.e(34,function(t){var n=[t(609)];e.apply(null,n)}.bind(this))};t.default=[{path:"/workflow/add",component:a,name:"workflow"},{path:"/workflow/approve",component:o,name:"approve",children:[{path:"search",component:s,name:"workflowSearch"}]},{path:"/workflow/approvedetredirect/:tableName/:keyId",name:"approvedet",redirect:function(e){var t=e.params,n=t.tableName,a=t.keyId;return{path:"/workflow/approvedet/"+n+"/"+a}}},{path:"/workflow/approvedet/tblexpenseaccount/:keyId",component:d,name:"workflowExpenseaccount"},{path:"/workflow/approvedet/FlowNqingjiadan2/:keyId",component:u,name:"workflowLeaveorder"},{path:"/workflow/approvedet/FlowNwaichushenqingdan2/:keyId",component:l,name:"workflowOutleave"},{path:"/workflow/approvedet/:tableName/:keyId",component:i,name:"approvedetDefault"},{path:"/workflow/approveFlowdepict",component:c,name:"approveFlowdepict"},{path:"/workflow/deliver/tableName=:tableName/keyId=:keyId/opType=:opType",component:r,name:"deliver"},{path:"/mentousheji/FlowNmendianguanggaoshenqing",component:p,name:"FlowNmendianguanggaoshenqing"},{path:"/common/clientList/retPage=:retPage?",component:m,name:"clientList"},{path:"/workflow/assorder/:tableName/:keyId",component:f,name:"AssOrder"}]},299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return n.e(40,function(t){var n=[t(620)];e.apply(null,n)}.bind(this))},o=function(e){return n.e(39,function(t){var n=[t(628)];e.apply(null,n)}.bind(this))},i=function(e){return n.e(20,function(t){var n=[t(621)];e.apply(null,n)}.bind(this))},r=function(e){return n.e(22,function(t){var n=[t(622)];e.apply(null,n)}.bind(this))},u=function(e){return n.e(32,function(t){var n=[t(618)];e.apply(null,n)}.bind(this))};t.default=[{path:"/sale/popupCompany",component:o,name:"popupCompany"},{path:"/popup/employee",component:a,name:"popupEmployee"},{path:"/popup/SelectCRMClient",component:i,name:"SelectCRMClient"},{path:"/popup/SelectCRMClientLoc",components:{popup:r},name:"SelectCRMClientLoc"},{path:"/popup/employeechoose",components:{popup:u},name:"Employee"}]},300:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(46),r=(o(i),n(50)),u=o(r),l=n(16),d=o(l),c=n(114),s=o(c),f=n(205),p=a(f),m=n(204),v=o(m),h=n(530),g=o(h),y=n(144),w=o(y),b=function(e){var t=e.commit,n=e.state.user,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,o=String(n.password);return n.password!==a.password&&(o=(0,g.default)(a.password)),new s.default(function(e,n){v.default.commitData("/MobileAjax?op=LOGIN",{name:a.name,password:o},function(n){"OK"===n.code&&(a.id=n.id||"signined",a.password=o,t(p.SIGNIN,a)),e(n)},function(e){return n(e)})})},C=function(e,t){var n=e.commit;return n(p.SIGNOUT,t)},M=function(e){var t=e.commit,n=e.state.user;return new s.default(function(e,a){return n.departmentName?void e(n):void v.default.commitData("/MobileAjax?op=getSessEmp",{},function(n){var o=n.code,i=n.msg,r=n.obj;"OK"===o?(t(p.UPDATEUSERINFO,r),e(r)):a(new Error(i))},function(e){return a(e)})})},N=function(e,t){var n=(e.commit,t.tableName),a=t.keyId;return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=detail",{tableName:n,keyId:a},function(n){var a=n.code,o=n.msg,i=n.obj;if("OK"===a){if("values"in i){var r=window.JSON.stringify(i.values);r=r.replace(/&#92;/g,"\\\\"),i.values=window.JSON.parse(r)}e(i)}else t(new Error(o))},function(e){return t(e)})})},I=function(e,t){var n=(e.commit,t.pageNo),a=void 0===n?1:n,o=t.pageSize,i=void 0===o?10:o,r=t.tableName,u=t.reportNumber,l=t.moduleType,c=t.src,f=void 0===c?"menu":c,p=t.extraParam,m="/MobileAjax?op=report";if(r)m+="&tableName="+r;else{if(!u)return void window.alert("接口参数错误，数据表列表(tableName)和普通报表(reportNumber)必须传其一");m+="&reportNumber="+u}var h=(0,d.default)({pageNo:a,pageSize:i,moduleType:l,src:f},p);return new s.default(function(e,t){v.default.commitData(m,h,function(n){var a=n.code,o=n.msg,i=n.obj;"OK"===a?e(i):t(new Error(o))},function(e){return t(e)})})},_=function(e,t){var n=(e.commit,t.tableName),a=t.parentTableName,o=t.moduleType,i={tableName:n,parentTableName:a,moduleType:o};return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=canAdd",i,function(n){var a=n.code,o=n.msg;"OK"===a?e(o):t(new Error(o))},function(e){return t(e)})})},L=function(e,t){var n=(e.commit,t.tableName),a=t.parentTableName,o=t.moduleType,i=t.f_brother,r=t.parentCode,u=t.addData,l=(0,d.default)({tableName:n,parentTableName:a,moduleType:o,f_brother:i,parentCode:r},u);return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=addPrepare",l,function(n){var a=n.code,o=n.obj,i=n.msg;"OK"===a?e(o):t(new Error(i))},function(e){return t(e)})})},O=function(e,t){var n=(e.commit,e.dispatch),a=t.tableName,o=t.parentTableName,i=t.saveType,r=void 0===i?"":i,l=t.values,d=t.defineInfo,c=void 0===d?"":d,f={tableName:a,parentTableName:o,saveType:r,values:l,defineInfo:c};return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=add",f,function(o){var i=o.code,r=o.obj,l=o.msg;"OK"===i?e({keyId:r.keyId,tableName:a}):"CONFIRM"===i?(l=l.split("#;#"),l[0].replace(/\\n/g,"<br/>"),u.default.confirm(l[0]).then(function(e){return f.defineInfo=l[1],n("add",f)}).catch(function(e){return f.defineInfo=l[2],n("add",f)})):t(new Error(l))},function(e){return t(e)})})},S=function(e,t){var n=(e.commit,e.store),a=t.tableName,o=t.parentTableName,i=t.saveType,r=void 0===i?"":i,l=t.values,d=t.defineInfo,c=void 0===d?"":d,f={tableName:a,parentTableName:o,saveType:r,values:l,defineInfo:c};return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=update",f,function(a){var o=a.code,i=(a.obj,a.msg);"OK"===o?e({}):"CONFIRM"===o?(i=i.split("#;#"),i[0].replace(/\\n/g,"<br/>"),u.default.confirm(i[0]).then(function(e){return f.defineInfo=i[1],n.dispatch("add",f)}).catch(function(e){return f.defineInfo=i[2],n.dispatch("add",f)})):t(new Error(i))},function(e){return t(e)})})},A=function(e,t){var n=(e.commit,e.store),a=t.tableName,o=t.keyId,i=t.defineInfo,r=void 0===i?"":i,l={tableName:a,keyId:o,defineInfo:r};return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=delete",l,function(a){var o=a.code,i=a.msg;"OK"===o?e(i):"CONFIRM"===o?(i=i.split("#;#"),i[0].replace(/\\n/g,"<br/>"),u.default.confirm(i[0]).then(function(e){return l.defineInfo=i[1],n.dispatch("del",l)}).catch(function(e){return l.defineInfo=i[2],n.dispatch("del",l)})):t(new Error(i))},function(e){return t(e)})})},D=function(e,t){var n=(e.commit,t.approveStatus),a=t.tempFile,o=t.keyWord,i=t.pageNo,r=void 0===i?1:i,u=(t.pageSize,{approveStatus:n,keyWord:o,pageNo:r,tempFile:a});return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=myworkflow",u,function(n){var a=n.code,o=n.obj;"OK"===a?e({list:o.list}):t(new Error("拉取我的工作流失败"))},function(e){return t(e)})})},k=function(e,t){var n=(e.commit,t.tableName),a=t.keyId;return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=cancelTo",{tableName:n,keyId:a},function(n){var a=n.code,o=n.msg;"OK"===a?e(o):t(new Error(o))},function(e){return t(e)})})},j=function(e,t){var n=(e.commit,t.tableName),a=t.keyId;return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=retCheck",{tableName:n,keyId:a},function(n){var a=n.code,o=n.msg;"OK"===a?e(o):t(new Error(o))},function(e){return t(e)})})},P=function(e,t){var n=(e.commit,t.tableName),a=t.keyId,o=t.content,i=void 0===o?"":o,r=t.wakeType,u=void 0===r?4:r,l={tableName:n,keyId:a,content:i,wakeType:u};return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=hurryTrans",l,function(n){var a=n.code,o=n.msg;"OK"===a?e(o):t(new Error(o))},function(e){return t(e)})})},x=function(e,t){var n=(e.commit,t.tableName),a=t.keyId;return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=deliverToPrepare",{tableName:n,keyId:a},function(n){var a=n.code,o=n.msg,i=n.obj;"OK"===a?e(i):t(new Error(o))},function(e){return t(e)})})},T=function(e,t){var n=(e.commit,t.tableName),a=t.keyId,o=t.type,i=void 0===o?"":o,r=t.nextStep,u=t.currNode,l=t.designId,d=t.checkPerson,c=t.deliverance,f=t.oaTimeLimit,p=t.oaTimeLimitUnit,m={tableName:n,keyId:a,type:i,nextStep:r,currNode:u,designId:l,checkPerson:d,deliverance:c,oaTimeLimit:f,oaTimeLimitUnit:p};return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=deliverTo",m,function(n){var a=n.code,o=n.msg;"OK"===a?e(o):t(new Error(o))},function(e){return t(e)})})},E=function(e,t){e.commit;return new s.default(function(e,n){v.default.commitData("/MobileAjax?op=getEnum&enum="+t,{},function(t){var a=t.code,o=t.obj,i=t.msg;"OK"===a?e(o):n(new Error(i))},function(e){return n(e)})})},R=function(e,t){var n=(e.commit,t.tableName),a=t.fieldName,o=t.selectName,i=t.MOID,r=t.moduleType,u={tableName:n,fieldName:a,selectName:o,MOID:i,moduleType:r};return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=popupInfo",u,function(n){var a=n.code,o=n.obj,i=o.showfields,r=o.tabParam,u=n.msg;"OK"===a?e({showfields:i,tabParam:r}):t(new Error(u))},function(e){return t(e)})})},F=function(e,t){var n=(e.commit,t.tableName),a=t.fieldName,o=t.selectName,i=t.MOID,r=t.moduleType,u=t.pageNo,l=void 0===u?1:u,c=t.pageSize,f=void 0===c?10:c,p=t.keyword,m=t.extraParam,h=(0,d.default)({tableName:n,fieldName:a,selectName:o,MOID:i,moduleType:r,pageNo:l,pageSize:f,keyword:p},m);return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=popup",h,function(n){var a=n.code,o=n.msg,i=n.obj.result;"OK"===a?e(i):t(new Error(o))},function(e){return t(e)})})},U=function(e,t){var n=(e.commit,e.dispatch),a=t.defineName,o=t.tableName,i=t.keyId,r=t.buttonTypeName,l=void 0===r?"":r,d=t.defineInfo,c=void 0===d?"":d,f={defineName:a,tableName:o,keyId:i,buttonTypeName:l,defineInfo:c};return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=execDefine",f,function(a){var o=a.code,r=(a.obj,a.msg);window.console.log("aa"),"OK"===o?e(i):"CONFIRM"===o?(r=r.split("#;#"),r[0].replace(/\\n/g,"<br/>"),u.default.confirm(r[0]).then(function(a){r[1]?(f.defineInfo=r[1],n("execDefine",f).then(function(t){e(t)}).catch(function(e){return t(e)})):e()}).catch(function(a){r[2]?(f.defineInfo=r[2],n("execDefine",f).then(function(t){e(t)}).catch(function(e){return t(e)})):e()})):t(new Error(r))},function(e){return t(e)})})},K=function(e){e.commit;return new s.default(function(e,t){v.default.commitData("/ReadFile.jpg?fileName=%40U4C05ZO1_VA94M4F%7D9%7B%5B8X.png&realName=%40U4C05ZO1_VA94M4F%7D9%7B%5B8X.png&tempFile=false&type=PIC&tableName=FlowNshenqingbiaoHWGG",{},function(t){var n=t.code,a=t.obj,o=t.msg;console.log(n),console.log(a),console.log(o),e(a)},function(e){return t(e)})})},B=function(e){e.commit;return new s.default(function(e,t){v.default.commitData("/MobileAjax?op=getHome",{},function(n){var a=n.code,o=n.obj,i=n.msg;"OK"===a?e(o):t(new Error(i))},function(e){return t(e)})})},G=function(e,t){var n=e.commit,a=e.state.wxinfo,o=a.wxstate,i=a.url,r=a.status,u=a.originalHref,l=t.jsApiList,c=void 0===l?[]:l,f=t.debug,p=void 0!==f&&f;return new s.default(function(e,t){o||t(new Error("请在微信或企业微信内打开本网页"));var a=window.location.href.split("#")[0];if(i&&a===i&&r)e(window.wx);else{n("wxinfo",{wxstate:o,url:a,status:!1});var l={wxstate:o,url:a},s=!!window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);s&&(l.url=u.split("#")[0]),v.default.commitData("/MobileAjax?op=getJsticket",l,function(i){var r=i.code,u=i.obj,l=i.msg;"OK"===r?(delete u.url,window.wx.config((0,d.default)({},u,{jsApiList:c,debug:p})),window.wx.ready(function(){n("wxinfo",{wxstate:o,url:a,status:!0}),e(window.wx)}),window.wx.error(function(e){t(new Error(window.JSON.stringify(e)))})):t(new Error(l))})}})},W=function(e,t){var n=(e.commit,51200);return window.console.log("enter"),new s.default(function(e,a){if(t.size<n)e(t);else{var o=n/t.size,i=new window.FileReader,r=new window.Image;i.onload=function(e){r.src=e.target.result},r.onload=function(){var t=window.Math.sqrt(o);r.width*=t,r.height*=t;var n=window.document.createElement("canvas"),a=n.getContext("2d");n.width=r.width,n.height=r.height,a.drawImage(r,0,0,r.width,r.height);var i=n.toDataURL("image/jpeg");i=i.split(",")[1],i=window.atob(i);for(var u=new window.Uint8Array(i.length),l=0;l<i.length;l++)u[l]=i.charCodeAt(l);e(new window.Blob([u],{type:"image/jpeg"}))},i.readAsDataURL(t)}})},z=function(e,t){e.commit;return new s.default(function(e,n){var a=new FormData;a.append("file",t,t.name),a.append("chunk","0");var o={headers:{"Content-Type":"multipart/form-data"}};w.default.post("/UploadServlet.jpg?&path=/temp/&fieldName=tupian&fileType=PIC",a,o).then(function(t){e(t.data)})})};t.default={signin:b,signout:C,getSessEmp:M,detail:N,reportQuery:I,canAdd:_,addPre:L,add:O,update:S,del:A,myWorkflowQuery:D,cancelTo:k,retCheck:j,hurryTransFunc:P,deliverPre:x,deliverTo:T,getEnum:E,popupSelectInfo:R,popupSelect:F,execDefine:U,getHome:B,getWX:G,compressImg:W,getPic:K,uploadServlet:z}},301:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getCurFlowDepictLast:function(e){var t=e.curFlowDepict;return 0===t.length?{workFlowNode:"开始"}:t[t.length-1]},isWX:function(e){var t=e.wxinfo,n=!!window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return t.wxstate&&!n},getWXState:function(e){var t=e.wxinfo;return t.wxstate}}},302:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=a(o),r=n(17),u=a(r),l=n(305),d=a(l),c=n(316),s=a(c),f=n(313),p=a(f),m=n(320),v=a(m),h=n(309),g=a(h),y=n(301),w=a(y),b=n(323),C=a(b),M=n(300),N=a(M),I=n(322),_=a(I);i.default.use(u.default),t.default=new u.default.Store({state:{user:JSON.parse(window.localStorage.getItem("user"))||{},curFlowDepict:[],wxinfo:{wxstate:window.sessionStorage.getItem("wxstate")||"",url:"",status:!1,originalHref:window.location.href,reloadFlag:window.sessionStorage.getItem("reloadFlag")||!1}},getters:w.default,mutations:C.default,actions:N.default,modules:{cardscan:d.default,locate:s.default,employee:p.default,outAttendance:v.default,crmclientloc:g.default,salesOrderStore:_.default}})},303:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(44),d=o(l),c=n(21),s=(o(c),n(22)),f=o(s),p=n(23),m=(o(p),n(24)),v=o(m),h=n(114),g=o(h),y=n(109),w=a(y),b=n(204),C=o(b);t.default=(i={},(0,u.default)(i,w.Scan,function(e,t){var n=e.commit;return new g.default(function(e,a){v.default.open({text:"名片识别中",spinnerType:"snake"}),C.default.commitData("/MobileAjax?op=cardscan",t,function(t){v.default.close();var a=t.data;(0,f.default)({message:a.msg,duration:1e3}),"success"===a.code?(a.obj.keyId=a.obj.id,n(w.AddBeforeList,a.obj),e(a.obj)):(0,f.default)({message:a.msg,duration:1e3})},function(e){var t=e.message;v.default.close(),(0,f.default)({message:t,duration:1e3})},!0)})}),(0,u.default)(i,w.Add,function(e,t){var n=e.commit,a=e.dispatch,o=e.state.cond.tableName;return new g.default(function(e,i){v.default.open({text:"数据提交中...",spinnerType:"snake"});var r=(0,d.default)({},t);r=window.JSON.stringify(r),a("add",{tableName:o,values:r}).then(function(a){var o=a.keyId;v.default.close(),(0,f.default)({message:"录入成功",duration:1e3}),n(w.AddBeforeList,t),e(o)}).catch(function(e){var t=e.message;v.default.close(),(0,f.default)({message:t,duration:1e3})})})}),(0,u.default)(i,w.Update,function(e,t){var n=(e.commit,e.dispatch),a=e.state,o=a.cond.tableName,i=a.list,r=e.getters;return new g.default(function(e,a){v.default.open({text:"数据提交中...",spinnerType:"snake"});var u=(0,d.default)({},t);u=window.JSON.stringify(u),n("update",{tableName:o,values:u}).then(function(){v.default.close(),(0,f.default)({message:"修改成功",duration:1e3}),window.console.log("success");var n=r[w.ListKeyIds][t.id];if(n>=0){var a=(0,d.default)({},i[n],t);i.splice(n,1,a)}e(t.id)})}).catch(function(e){var t=e.message;v.default.close(),(0,f.default)({message:t,duration:1e3})})}),(0,u.default)(i,w.FetchList,function(e){var t=e.state,n=t.cond,a=(t.list,e.dispatch),o=e.getters,i=e.commit;return v.default.open({text:"加载中...",spinnerType:"snake"}),new g.default(function(e,t){a("reportQuery",n).then(function(t){var n=t.rows;v.default.close(),n.forEach(function(e){if(e.keyId in o[w.ListKeyIds]){var t=o[w.ListKeyIds][e.keyId];i(w.UpdateToList,{index:t,cardscan:e})}else i(w.AddAfterList,e)}),e()}).catch(function(e){var t=e.message;v.default.close(),(0,f.default)({message:t,duration:1e3})})})}),(0,u.default)(i,w.BindAlbum,function(e,t){var n=e.dispatch,a=t.domEle,o=t.cb;a.lastChild.type?a.removeChild(a.lastChild):a.style.position="relative";var i=window.document.createElement("input");i.type="file",i.className="_actionSheetInputFile",i.accept="image/jpg,image/jpeg,image/png,image/gif";var r={position:"absolute","z-index":1,top:0,left:0,width:"100%",height:"100%",opacity:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"};for(var u in r)i.style[u]=r[u];i.onchange=function(){n("compressImg",i.files[0]).then(function(e){var t=new window.FormData;t.append("file",e),n(w.Scan,t).then(function(e){o&&o(e)})})},a.appendChild(i)}),(0,u.default)(i,w.ChooseCamera,function(e,t){var n=e.dispatch,a=e.getters,o=t.jsApiList,i=t.cb;n("getWX",{jsApiList:o}).then(function(e){e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(t){t.localIds&&t.localIds.length&&e.uploadImage({localId:t.localIds[0],isShowProgressTips:1,success:function(e){var t=new window.FormData;t.append("serverId",e.serverId),t.append("wxstate",a.getWXState),n(w.Scan,t).then(function(e){i&&i(e)})}})},fail:function(){window.alert(window.JSON.stringigy(arguments))}})}).catch(function(e){var t=e.message,n=void 0===t?"微信打开摄像头失败":t;(0,f.default)({message:n,duration:1e3})})}),(0,u.default)(i,w.Del,function(e,t){
var n=e.state.cond.tableName,a=e.dispatch,o=e.getters,i=e.commit;return new g.default(function(e,r){v.default.open({text:"删除中...",spinnerType:"snake"}),a("del",{tableName:n,keyId:t}).then(function(){v.default.close();var n=o[w.ListKeyIds][t];n>=0&&i(w.DelFromList,n),(0,f.default)({message:"删除成功",duration:1e3}),e()}).catch(function(){v.default.close(),(0,f.default)({message:"删除失败",duration:1e3}),r()})})}),(0,u.default)(i,w.TransferToCRM,function(e,t){var n=e.state.cond.tableName,a=e.dispatch,o=e.getters,i=e.commit;return new g.default(function(e,r){v.default.open({text:"正在转入CRM客户资料...",spinnerType:"snake"}),a("execDefine",{tableName:n,keyId:t,defineName:"cardscanToCrm"}).then(function(t){if(v.default.close(),t){var n=o[w.ListKeyIds][t];n>=0&&i(w.UpdateStatusToList,{index:n,Status:2}),(0,f.default)({message:"转入成功",duration:1e3}),e(t)}r()}).catch(function(e){var t=e.message;v.default.close(),(0,f.default)({message:t,duration:1e3}),r()})})}),i)},304:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(109),d=a(l);t.default=(i={},(0,u.default)(i,d.ListKeyIds,function(e){for(var t=e.list,n={},a=0;a<t.length;a++)n[t[a].keyId]=a;return n}),(0,u.default)(i,d.StatusEnum,function(e){var t=e.statusEnum;return t}),i)},305:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(304),i=a(o),r=n(306),u=a(r),l=n(303),d=a(l);t.default={state:{list:[],cond:{pageNo:1,tableName:"tblcardscan"},statusEnum:{1:"未转CRM",2:"已转CRM"}},getters:i.default,mutations:u.default,actions:d.default}},306:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(109),d=a(l);t.default=(i={},(0,u.default)(i,d.AddBeforeList,function(e,t){var n=e.list;n.unshift(t)}),(0,u.default)(i,d.AddAfterList,function(e,t){var n=e.list;n.push(t)}),(0,u.default)(i,d.UpdateToList,function(e,t){e.list,t.index,t.cardscan}),(0,u.default)(i,d.EmptyList,function(e){var t=e.list;t.splice(0,t.length)}),(0,u.default)(i,d.DelFromList,function(e,t){var n=e.list;n.splice(t,1)}),(0,u.default)(i,d.ResetCond,function(e,t){for(var n in t)e.cond[n]=t[n]}),(0,u.default)(i,d.UpdateStatusToList,function(e,t){var n=e.list,a=t.index,o=t.Status;n[a].Status=o}),(0,u.default)(i,d.IncreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo+=n}),(0,u.default)(i,d.DecreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo-=n,t.pageNo<=0&&(t.pageNo=1)}),i)},307:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(21),d=(o(l),n(22)),c=o(d),s=n(44),f=o(s),p=n(23),m=(o(p),n(24)),v=o(m),h=n(114),g=o(h),y=n(110),w=a(y);t.default=(i={},(0,u.default)(i,w.Add,function(e,t){var n=e.commit,a=e.dispatch,o=e.state.cond.tableName;return new g.default(function(e,i){v.default.open({text:"数据提交中...",spinnerType:"snake"});var r=(0,f.default)({},t);r=window.JSON.stringify(r),a("add",{tableName:o,values:r}).then(function(a){var o=a.keyId;v.default.close(),(0,c.default)({message:"录入成功",duration:1e3}),n(w.AddBeforeList,t),e(o)}).catch(function(e){var t=e.message;v.default.close(),(0,c.default)({message:t,duration:1e3})})})}),(0,u.default)(i,w.FetchList,function(e){var t=e.state,n=t.cond,a=(t.list,e.dispatch),o=e.getters,i=e.commit;return v.default.open({text:"加载中...",spinnerType:"snake"}),new g.default(function(e,t){a("popupSelect",{selectName:"SelectCRMClientLoc",extraParam:n}).then(function(t){v.default.close(),window.console.log(t),t.forEach(function(e){if(e.ClientId in o[w.ListKeyIds]){var t=o[w.ListKeyIds][e.ClientID];i(w.UpdateToList,{index:t,cardscan:e})}else i(w.AddAfterList,e)}),e()}).catch(function(e){var t=e.message;v.default.close(),(0,c.default)({message:t,duration:1e3})})})}),i)},308:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(110),d=a(l);t.default=(i={},(0,u.default)(i,d.ListKeyIds,function(e){for(var t=e.list,n={},a=0;a<t.length;a++)n[t[a].ClientId]=a;return n}),(0,u.default)(i,d.GetCbMutationName,function(e){var t=e.cbMutationName;return t}),i)},309:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(308),i=a(o),r=n(310),u=a(r),l=n(307),d=a(l);t.default={state:{list:[],cond:{pageNo:1,pageSize:20,keyword:"",AddressLat:22.537753,AddressLng:113.95166},cbMutationName:""},getters:i.default,mutations:u.default,actions:d.default}},310:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(110),d=a(l);t.default=(i={},(0,u.default)(i,d.AddBeforeList,function(e,t){var n=e.list;n.unshift(t)}),(0,u.default)(i,d.AddAfterList,function(e,t){var n=e.list;n.push(t)}),(0,u.default)(i,d.UpdateToList,function(e,t){var n=e.list,a=t.index,o=t.cardscan;for(var i in o)n[a][i]=o[i]}),(0,u.default)(i,d.EmptyList,function(e){var t=e.list;t.splice(0,t.length)}),(0,u.default)(i,d.ResetCond,function(e,t){for(var n in t)e.cond[n]=t[n]}),(0,u.default)(i,d.IncreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo+=n}),(0,u.default)(i,d.DecreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo-=n,t.pageNo<=0&&(t.pageNo=1)}),(0,u.default)(i,d.SetCbMutationName,function(e,t){e.cbMutationName=t}),i)},311:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),r=o(i),u=n(114),l=o(u),d=n(111),c=a(d);n(23),n(21),t.default=(0,r.default)({},c.FetchList,function(e){var t=e.commit,n=e.dispatch;return t(c.InitCharactersList),new l.default(function(e,a){n("popupSelect",{selectName:"Employee",pageSize:999}).then(function(n){t(c.SubstituteList,n),t(c.UpdateCharactersList),e()}).catch(function(e){window.console.log(e)})})})},312:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(111),d=a(l);t.default=(i={},(0,u.default)(i,d.GetCharactersList,function(e){var t=e.charactersList;return t}),(0,u.default)(i,d.GetCbMutationName,function(e){var t=e.cbMutationName;return t}),(0,u.default)(i,d.GetChosenEmp,function(e){var t=e.list;return t.filter(function(e){return e.checked})}),i)},313:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(312),i=a(o),r=n(314),u=a(r),l=n(311),d=a(l);t.default={state:{list:[],charactersList:[],cbMutationName:""},getters:i.default,mutations:u.default,actions:d.default}},314:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(111),d=a(l);t.default=(i={},(0,u.default)(i,d.SubstituteList,function(e,t){var n=e.list;n.splice(0,n.length),t.forEach(function(e){e.checked=!1,n.push(e)})}),(0,u.default)(i,d.ToggleCheckedStatus,function(e,t){var n=e.list;n[t].checked=!n[t].checked}),(0,u.default)(i,d.InitCharactersList,function(e){var t=e.charactersList;t.length>0&&t.splice(0,t.length);for(var n=0;n<26;n++)t.push({key:window.String.fromCharCode(n+65),values:[]})}),(0,u.default)(i,d.UpdateCharactersList,function(e){for(var t=e.charactersList,n=e.list,a=0;a<n.length;a++){var o=n[a].tblEmployee_EmpFullNamePYM.charCodeAt(0)-97;isNaN(o)||o<0||(n[a].index=a,t[o].values.push(n[a]))}t.forEach(function(e){return e.values.sort(function(e,t){return e.tblEmployee_EmpFullName.localeCompare(t.tblEmployee_EmpFullName)})})}),(0,u.default)(i,d.SetCbMutationName,function(e,t){e.cbMutationName=t}),i)},315:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),r=o(i),u=n(112),l=a(u);t.default=(0,r.default)({},l.GetCbMutationName,function(e){var t=e.cbMutationName;return t})},316:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(315),i=a(o),r=n(317),u=a(r);t.default={state:{cbMutationName:""},getters:i.default,mutations:u.default}},317:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),r=o(i),u=n(112),l=a(u);t.default=(0,r.default)({},l.SetCbMutationName,function(e,t){e.cbMutationName=t})},318:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(44),d=o(l),c=n(21),s=(o(c),n(22)),f=o(s),p=n(23),m=(o(p),n(24)),v=o(m),h=n(114),g=o(h),y=n(102),w=a(y),b=n(55),C=function(e,t){var n=e.lng,a=e.lat,o=t.lng,i=t.lat,r=180/3.14169,u=a/r,l=n/r,d=i/r,c=o/r,s=Math.cos(u)*Math.cos(l)*Math.cos(d)*Math.cos(c),f=Math.cos(u)*Math.sin(l)*Math.cos(d)*Math.sin(c),p=Math.sin(u)*Math.sin(d),m=Math.acos(s+f+p);return 6366e3*m/1e3};t.default=(i={},(0,u.default)(i,w.AddPre,function(e){var t=e.commit,n=e.dispatch;n("addPre",{tableName:"tblOutAttendance"}).then(function(e){e.fieldList.forEach(function(t){return!(t.fieldType>3&&6!==t.fieldType&&13!==t.fieldType||0===t.width||t.fieldName===t.display)&&void(e.values[t.fieldName]=t.defaultValue?t.defaultValue:void 0)}),e.values.keyId=void 0,e.values["tblEmployee.EmpFullName"]="",e.values["CRMClientInfo.ClientName"]="",e.values.createByName="",t(w.ChangeDetail,e)})}),(0,u.default)(i,w.Detail,function(e,t){var n=e.state.cond.tableName,a=e.commit,o=e.dispatch;return new g.default(function(e,i){o("detail",{tableName:n,keyId:t}).then(function(t){t.fieldList.forEach(function(e){if(e.fieldType>3&&6!==e.fieldType&&13!==e.fieldType||0===e.width||e.fieldName===e.display)return!1}),a(w.ChangeDetail,t),e()})})}),(0,u.default)(i,w.FetchList,function(e){var t=e.state,n=t.cond,a=(t.list,e.dispatch),o=e.getters,i=e.commit;return v.default.open({text:"加载中...",spinnerType:"snake"}),new g.default(function(e,t){a("reportQuery",n).then(function(t){var n=t.rows;v.default.close(),n.forEach(function(e){if(e.keyId in o[w.ListKeyIds]){var t=o[w.ListKeyIds][e.keyId];i(w.UpdateToList,{index:t,attendance:e})}else i(w.AddAfterList,e)}),e()}).catch(function(e){var t=e.message;v.default.close(),(0,f.default)({message:t,duration:5e3})})})}),(0,u.default)(i,w.CountUnSignout,function(e){var t=e.state.cond.tableName,n=e.dispatch;return new g.default(function(e,a){n("reportQuery",{tableName:t,pageSize:1}).then(function(t){var n=t.rows;0===n.length||"0"===n[0].UnSignout?e():a()}).catch(function(e){var t=e.message;v.default.close(),(0,f.default)({message:t,duration:5e3})})})}),(0,u.default)(i,w.Add,function(e){var t=e.commit,n=e.dispatch,a=e.state,o=a.cond.tableName,i=a.detail.values;return new g.default(function(e,a){v.default.open({text:"数据提交中...",spinnerType:"snake"});var r=(0,d.default)({},i);r.SignInTime=(0,b.dateformat)(),r=window.JSON.stringify(r),n("add",{tableName:o,values:r}).then(function(a){var o=a.keyId;v.default.close(),(0,f.default)({message:"签入成功",duration:1e3}),i.keyId=o,t(w.ResetCond,{pageNo:1}),t(w.EmptyList),n(w.FetchList),e(o)}).catch(function(e){var t=e.message;v.default.close(),(0,f.default)({message:t,duration:1e3})})})}),(0,u.default)(i,w.Update,function(e){var t=e.commit,n=e.dispatch,a=e.state,o=a.cond.tableName,i=a.detail.values;return new g.default(function(e,a){v.default.open({text:"数据提交中...",spinnerType:"snake"});var r=(0,d.default)({},i);r.SignOutTime=(0,b.dateformat)(),r.Status="2",r.Type+="";var u={lat:r.SignInLat,lng:r.SignInLng},l={lat:r.SignOutLat,lng:r.SignOutLng};r.SignOutDistance=C(u,l),r=window.JSON.stringify(r),n("update",{tableName:o,values:r}).then(function(){v.default.close(),(0,f.default)({message:"签出成功",duration:1e3}),t(w.ResetCond,{pageNo:1}),t(w.EmptyList),n(w.FetchList),e()}).catch(function(e){var t=e.message;v.default.close(),(0,f.default)({message:t,duration:1e3})})})}),i)},319:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),r=o(i),u=n(102),l=a(u);t.default=(0,r.default)({},l.ListKeyIds,function(e){for(var t=e.list,n={},a=0;a<t.length;a++)n[t[a].keyId]=a;return n})},320:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(319),i=a(o),r=n(321),u=a(r),l=n(318),d=a(l);t.default={state:{list:[],cond:{pageNo:1,tableName:"tblOutAttendance"},detail:{checkRight:!1,deleteRight:!1,hasCancel:!1,hurryTrans:!1,retCheckRight:!1,updateRight:!1,opType:"",fieldList:[],flowDepict:[],values:{}}},getters:i.default,mutations:u.default,actions:d.default}},321:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(207),d=o(l),c=n(206),s=o(c),f=n(147),p=o(f),m=n(102),v=a(m);t.default=(i={},(0,u.default)(i,v.ChangeDetail,function(e,t){var n=e.detail,a=!0,o=!1,i=void 0;try{for(var r,u=(0,p.default)((0,s.default)(t));!(a=(r=u.next()).done);a=!0){var l=(0,d.default)(r.value,2),c=l[0],f=l[1];n[c]=f}}catch(e){o=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}}),(0,u.default)(i,v.ChangeDetailValues,function(e,t){var n=e.detail.values,a=!0,o=!1,i=void 0;try{for(var r,u=(0,p.default)((0,s.default)(t));!(a=(r=u.next()).done);a=!0){var l=(0,d.default)(r.value,2),c=l[0],f=l[1];n[c]=f}}catch(e){o=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}}),(0,u.default)(i,v.PopupEmployeeCBFill,function(e,t){var n=e.detail.values,a="",o="";t.forEach(function(e){a+=e.EmployeeID+";",o+=e.tblEmployee_EmpFullName+" "}),a=a.slice(0,a.length-1),n.EmployeeID=a,n["tblEmployee.EmpFullName"]=o}),(0,u.default)(i,v.PopupClientCBFill,function(e,t){var n=e.detail.values;n.ClientId=t.ClientId,n.SignInDistance=t.CRMClientInfo_Distance,n["CRMClientInfo.ClientName"]=t.CRMClientInfo_ClientName}),(0,u.default)(i,v.SignInChoseLocCBFill,function(e,t){var n=e.detail.values,a=t.address,o=t.lat,i=t.lng;n.SignInAddress=a,n.SignInLng=i,n.SignInLat=o}),(0,u.default)(i,v.SignOutChoseLocCBFill,function(e,t){var n=e.detail.values,a=t.address,o=t.lat,i=t.lng;n.SignOutAddress=a,n.SignOutLng=i,n.SignOutLat=o}),(0,u.default)(i,v.AddBeforeList,function(e,t){var n=e.list;n.unshift(t)}),(0,u.default)(i,v.AddAfterList,function(e,t){var n=e.list;n.push(t)}),(0,u.default)(i,v.UpdateToList,function(e,t){var n=e.list,a=t.index,o=t.attendance;for(var i in o)n[a][i]=o[i]}),(0,u.default)(i,v.EmptyList,function(e){var t=e.list;t.splice(0,t.length)}),(0,u.default)(i,v.ResetCond,function(e,t){for(var n in t)e.cond[n]=t[n]}),(0,u.default)(i,v.IncreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo+=n}),(0,u.default)(i,v.DecreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo-=n,t.pageNo<=0&&(t.pageNo=1)}),i)},322:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={today:"",WeekFirstDay:"",MonthFirstDay:"",dataList:[]},a={today:function(e){return e.today=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate(),e.today.toString()},fristWeekday:function(e){var t=new Date;return e.WeekFirstDay=new Date(t-864e5*(t.getDay()-1)),e.WeekFirstDay},fristMonthday:function(e){new Date;return e.MonthFirstDay=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-01",e.MonthFirstDay},dataList:function(e){return e.dataList}},o={setDateList:function(e,t){var n=e.commit;e.state;n("setDateList",t)},addDateList:function(e,t){var n=e.commit;e.state;n("addDateList",t)}},i={setDateList:function(e,t){t.length>0&&(e.dataList=t)},addDateList:function(e,t){t&&e.dataList.push(t)}};t.default={state:n,getters:a,actions:o,mutations:i}},323:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(42),u=o(r),l=n(113),d=o(l),c=n(207),s=o(c),f=n(206),p=o(f),m=n(147),v=o(m),h=n(44),g=o(h),y=n(326),w=o(y),b=n(15),C=o(b),M=n(205),N=a(M);t.default=(i={},(0,u.default)(i,N.SIGNIN,function(e,t){window.localStorage.setItem("user",(0,w.default)(t)),(0,g.default)(e,{user:t})}),(0,u.default)(i,N.UPDATEUSERINFO,function(e,t){var n=(0,g.default)({},e.user),a=!0,o=!1,i=void 0;try{for(var r,u=(0,v.default)((0,p.default)(t));!(a=(r=u.next()).done);a=!0){var l=(0,s.default)(r.value,2),d=l[0],c=l[1];n[d]=c}}catch(e){o=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}(0,g.default)(e,{user:n})}),(0,u.default)(i,N.SIGNOUT,function(e){var t=e.user;window.localStorage.removeItem("user"),(0,d.default)(t).forEach(function(e){return C.default.delete(t,e)})}),(0,u.default)(i,N.CURFLOWDEPICT,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.curFlowDepict.splice(0,e.curFlowDepict.length),t.forEach(function(t){return e.curFlowDepict.push(t)})}),(0,u.default)(i,"wxinfo",function(e,t){t.originalHref=e.wxinfo.originalHref,(0,g.default)(e,{wxinfo:t})}),i)},462:function(e,t){},589:function(e,t,n){n(462);var a=n(14)(n(242),n(650),null,null);e.exports=a.exports},650:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:e.transitionName,mode:"out-in"}},[n("keep-alive",[n("router-view",{staticClass:"router-view"})],1)],1),e._v(" "),n("router-view",{attrs:{name:"popup"}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=app.46fe893c1741ddbe90f9.js.map