<?xml version="1.0" encoding="UTF-8" ?>
<ReportDataSource><Report reporteId="" reportName="当前库存明细"/><fieldInfo><field fieldname="tblStock.classCode" AsfieldName="StockCode" groupByFlag="0" displayFlag="1" condition="=?" conditionJoin="and" orderbyFlag="" display="仓库" fieldType="2" inputType="2" popUpName="ReportSelectStock_v2" width="0" classCode="1" linkAdd="" order="1" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="仓库"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode" AsfieldName="GoodsCode" groupByFlag="0" displayFlag="1" condition="=?" conditionJoin="and" orderbyFlag="" display="商品名称" fieldType="2" inputType="2" popUpName="ReportSelectGoods_v2" width="0" classCode="1" linkAdd="" order="2" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="商品名稱"/><Display localStr="zh_CN" display="商品名称"/><Display localStr="en" display="Commodity name"/></Displays><groupNames/></field><field fieldname="tblStock.StockFullName" AsfieldName="StockFullName" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="" display="仓库" fieldType="2" inputType="0" popUpName="" width="75" classCode="1" linkAdd="" order="3" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="仓库"/><Display localStr="en" display="Warehouse"/><Display localStr="zh_TW" display="倉庫"/></Displays><groupNames/></field><field fieldname="tblGoods.[tblGoods]" AsfieldName="GoodsNumber" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="升" display="商品编号" fieldType="2" inputType="0" popUpName="" width="120" classCode="1" linkAdd="" order="4" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品编号"/><Display localStr="en" display="Commodity No."/><Display localStr="zh_TW" display="商品編號"/></Displays><groupNames/></field><field fieldname="tblStocks.[GOODSPROP]" AsfieldName="BatchNo" groupByFlag="0" displayFlag="1" condition="= ?" conditionJoin="and" orderbyFlag="  " display="批号" fieldType="2" inputType="0" popUpName="" width="130" classCode="1" linkAdd="" order="5" isStat="0" defaultValue="" fieldSysType="GoodsField" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="批號"/><Display localStr="zh_CN" display="批号"/><Display localStr="en" display="Batch No"/></Displays><groupNames/></field><field fieldname="tblStocks.lastQty" AsfieldName="TotalQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="" display="结存数量" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="ReportDataAction.do?reportNumber=ReportOutInDetDisplayData&amp;GoodsCode=@ValueofDB:GoodsCode&amp;hide_GoodsCode=@ValueofDB:hideGoodsCode&amp;tblGoods.[tblGoods]=@ValueofDB:GoodsNumber&amp;StockCode=@ValueofDB:StockCode&amp;hide_StockCode=@ValueofDB:hideStockCode&amp;tblStock.StockFullName=@ValueofDB:StockFullName&amp;BatchNo=@ValueofDB:BatchNo&amp;yearNO=@ValueofDB:yearNO&amp;ProDate=@ValueofDB:ProDate&amp;Availably=@ValueofDB:Availably&amp;Inch=@ValueofDB:Inch&amp;Hue=@ValueofDB:Hue" order="6" isStat="1" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_CN" display="结存数量"/><Display localStr="en" display="Last Qty"/><Display localStr="zh_TW" display="結存數量"/></Displays><groupNames/></field><field fieldname="tblStocks.lastPrice" AsfieldName="lastPrice" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="" display="结存单价" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="7" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="priceIdentifier" analysis="0"><Displays><Display localStr="zh_TW" display="結存單價"/><Display localStr="zh_CN" display="结存单价"/><Display localStr="en" display="Last Price"/></Displays><groupNames/></field><field fieldname="tblStocks.lastAmount" AsfieldName="TotalAmt" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="结存金额" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="8" isStat="1" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="AmountIdentifier" analysis="0"><Displays><Display localStr="zh_TW" display="結存金額"/><Display localStr="zh_CN" display="结存金额"/><Display localStr="en" display="Last Amount"/></Displays><groupNames/></field><field fieldname="tblStocks.lastQty" AsfieldName="lastQty" groupByFlag="0" displayFlag="1" condition="&lt;&gt;?" conditionJoin="and" orderbyFlag="" display="结存数量" fieldType="1" inputType="5" popUpName="zero" width="0" classCode="1" linkAdd="" order="9" isStat="0" defaultValue="0" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="结存数量"/><Display localStr="en" display="Last Qty"/><Display localStr="zh_TW" display="結存數量"/></Displays><groupNames/></field><field fieldname="tblGoodsUnit.SecUnit" AsfieldName="SecName" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="辅助单位" fieldType="2" inputType="0" popUpName="" width="50" classCode="1" linkAdd="" order="10" isStat="0" defaultValue="" fieldSysType="AssUnit" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="辅助单位"/><Display localStr="en" display="SecUnit"/><Display localStr="zh_TW" display="輔助單位"/></Displays><groupNames/></field><field fieldname="(case when cast(tblStocks.lastQty*tblGoodsUnit.SecUnitD/tblGoodsUnit.UnitD AS int)&gt;0 then cast(cast(tblStocks.lastQty*tblGoodsUnit.SecUnitD/tblGoodsUnit.UnitD AS int) AS  varchar(100))+tblGoodsUnit.SecUnit else '' end)+case when tblGoodsUnit.UnitD/tblGoodsUnit.SecUnitD=0 then '' else (case when tblStocks.lastQty%(tblGoodsUnit.UnitD/tblGoodsUnit.SecUnitD)&gt;0 then dbo.throwZero(cast(tblStocks.lastQty%(tblGoodsUnit.UnitD/tblGoodsUnit.SecUnitD) AS varchar(100)))+tblGoods.BaseUnit else '' end) end" AsfieldName="UnitIntQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="辅助数量" fieldType="2" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="11" isStat="0" defaultValue="" fieldSysType="AssUnit" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="辅助数量"/></Displays><groupNames/></field><field fieldname="(select top 1 languageId from tblDBEnumerationItem where enumValue='seq')" AsfieldName="Seq" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="序列号" fieldType="2" inputType="4" popUpName="" width="80" classCode="1" linkAdd="ReportDataAction.do?reportNumber=ReportSeqGoods&amp;hide_GoodsCode=@ValueofDB:hideGoodsCode&amp;GoodsCode==@ValueofDB:GoodsCode&amp;tblGoods.[tblGoods]=@ValueofDB:GoodsNumber&amp;hide_StockCode=@ValueofDB:hideStockCode&amp;StockCode=@ValueofDB:StockCode&amp;tblStock.StockFullName=@ValueofDB:StockFullName&amp;BatchNo=@ValueofDB:BatchNo&amp;Inch=@ValueofDB:Inch&amp;Hue=@ValueofDB:Hue&amp;yearNO=@ValueofDB:yearNo&amp;ProDate=@ValueofDB:ProDate&amp;Availably=@ValueofDB:Availably&amp;OutInStock=1" order="12" isStat="0" defaultValue="" fieldSysType="GoodsField" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="序列号"/></Displays><groupNames/></field><field fieldname="'@MEM:defaultTime'" AsfieldName="QueryBillDate" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="查询时间" fieldType="2" inputType="3" popUpName="" width="0" classCode="1" linkAdd="" order="13" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="查询时间"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode+'#;#0#;##;#'" AsfieldName="hideGoodsCode" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="" fieldType="" inputType="" popUpName="" width="0" classCode="1" linkAdd="" order="14" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays/><groupNames/></field><field fieldname="tblStock.classCode+'#;#0#;##;#'" AsfieldName="hideStockCode" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="" fieldType="" inputType="" popUpName="" width="0" classCode="1" linkAdd="" order="15" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays/><groupNames/></field></fieldInfo><SQL text="select vbCrLf    tblStock.classCode as StockCode,vbCrLf    tblGoods.classCode as GoodsCode,vbCrLf    tblStock.StockFullName as StockFullName,vbCrLf    tblGoods.[tblGoods] as GoodsNumber,vbCrLf    tblStocks.[GOODSPROP] as BatchNo,vbCrLf    tblStocks.lastQty as TotalQty,vbCrLf    tblStocks.lastPrice as lastPrice,vbCrLf    tblStocks.lastAmount as TotalAmt,vbCrLf    tblStocks.lastQty as lastQty,vbCrLf    tblGoodsUnit.SecUnit as SecName,vbCrLf    (case when cast(tblStocks.lastQty*tblGoodsUnit.SecUnitD/tblGoodsUnit.UnitD AS int)&gt;0 then cast(cast(tblStocks.lastQty*tblGoodsUnit.SecUnitD/tblGoodsUnit.UnitD AS int) AS  varchar(100))+tblGoodsUnit.SecUnit else '' end)+case when tblGoodsUnit.UnitD/tblGoodsUnit.SecUnitD=0 then '' else (case when tblStocks.lastQty%(tblGoodsUnit.UnitD/tblGoodsUnit.SecUnitD)&gt;0 then dbo.throwZero(cast(tblStocks.lastQty%(tblGoodsUnit.UnitD/tblGoodsUnit.SecUnitD) AS varchar(100)))+tblGoods.BaseUnit else '' end) end as UnitIntQty,vbCrLf    (select top 1 languageId from tblDBEnumerationItem where enumValue='seq') as Seq,vbCrLf    '@MEM:defaultTime' as QueryBillDate,vbCrLf    tblGoods.classCode+'#;#0#;##;#' as hideGoodsCode,vbCrLf    tblStock.classCode+'#;#0#;##;#' as hideStockCodevbCrLffrom (select * from tblGoods where isCatalog=0) as tblGoodsvbCrLfleft join (select * from tblStock where isCatalog=0) as tblStock on 1=1vbCrLfleft join tblStocks on tblGoods.classCode=tblStocks.GoodsCode and tblStock.classCode=tblStocks.StockCodevbCrLfleft join tblGoodsUnit on tblGoods.id=tblGoodsUnit.f_refvbCrLf{tblStocks.GOODSPROP}vbCrLfwhere 1=1 vbCrLf      and (tblStock.classCode =?)vbCrLf      and (tblGoods.classCode =?)vbCrLf      and (tblStocks.[GOODSPROP] = ?)vbCrLf      and (tblStocks.lastQty &lt;&gt;?)vbCrLfvbCrLforder by vbCrLf   tblGoods.[tblGoods] vbCrLfvbCrLf"/><charts/></ReportDataSource>
