<?xml version="1.0" encoding="UTF-8" ?>
<ReportDataSource><Report reporteId="014bdeca_1311061744217500003" reportName="tblStockCheckDet"/><fieldInfo><field fieldname="tblStockCheck.StockCode" AsfieldName="StockCode" groupByFlag="0" displayFlag="0" condition="=?" conditionJoin="and" orderbyFlag="" display="仓库" fieldType="2" inputType="2" popUpName="ReportSelectStock_v2" width="0" classCode="1" linkAdd="" order="1" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="倉庫"/><Display localStr="zh_CN" display="仓库"/><Display localStr="en" display="Warehouse"/></Displays><groupNames/></field><field fieldname="tblStockCheck.CheckDate" AsfieldName="CheckDate" groupByFlag="1" displayFlag="1" condition="" conditionJoin="" orderbyFlag="降" display="盘点日期" fieldType="5" inputType="8" popUpName="" width="70" classCode="1" linkAdd="" order="2" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="1" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="盤點日期"/><Display localStr="zh_CN" display="盘点日期"/><Display localStr="en" display="CheckDate"/></Displays><groupNames/></field><field fieldname="tblStockCheck.BillNo" AsfieldName="BillNo" groupByFlag="0" displayFlag="0" condition="" conditionJoin="" orderbyFlag="  " display="单据编号" fieldType="2" inputType="3" popUpName="" width="0" classCode="1" linkAdd="" order="3" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="1" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="單據編號"/><Display localStr="zh_CN" display="单据编号"/><Display localStr="en" display="voucher No."/></Displays><groupNames/></field><field fieldname="tblStock.StockFullName" AsfieldName="StockFullName" groupByFlag="1" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="仓库" fieldType="2" inputType="0" popUpName="" width="75" classCode="1" linkAdd="" order="4" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="1" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="仓库"/><Display localStr="en" display="Warehouse"/><Display localStr="zh_TW" display="倉庫"/></Displays><groupNames/></field><field fieldname="tblCheck.BillNo" AsfieldName="BillNo1" groupByFlag="0" displayFlag="0" condition="" conditionJoin="" orderbyFlag="" display="盘盈/亏单据编号" fieldType="2" inputType="3" popUpName="" width="0" classCode="1" linkAdd="" order="5" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="1" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="盘盈/亏单据编号"/><Display localStr="en" display="Stock profit or loss voucher No."/><Display localStr="zh_TW" display="盤盈/虧單據編號"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode" AsfieldName="GoodsCode" groupByFlag="0" displayFlag="0" condition="=?" conditionJoin="and" orderbyFlag="  " display="商品名称" fieldType="2" inputType="2" popUpName="ReportSelectGoods_v2" width="0" classCode="1" linkAdd="" order="6" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="商品名稱"/><Display localStr="zh_CN" display="商品名称"/><Display localStr="en" display="Commodity name"/></Displays><groupNames/></field><field fieldname="tblGoods.BarCode" AsfieldName="BarCode" groupByFlag="0" displayFlag="0" condition="like '%'+?+'%'" conditionJoin="and" orderbyFlag="" display="条码" fieldType="2" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="7" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="条码"/></Displays><groupNames/></field><field fieldname="tblGoods.[tblGoods]" AsfieldName="GoodsNumber" groupByFlag="1" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="商品编号" fieldType="2" inputType="0" popUpName="" width="130" classCode="1" linkAdd="" order="8" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="商品編號"/><Display localStr="zh_CN" display="商品编号"/><Display localStr="en" display="Commodity code"/></Displays><groupNames/></field><field fieldname="tblStockCheckDet.[GOODSPROP]" AsfieldName="BatchNo" groupByFlag="1" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="批号" fieldType="2" inputType="2" popUpName="" width="100" classCode="1" linkAdd="" order="9" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="批號"/><Display localStr="zh_CN" display="批号"/><Display localStr="en" display="Batch No"/></Displays><groupNames/></field><field fieldname="avg(tblStockCheckDet.LastQty)" AsfieldName="LastQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="盘前数量" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="10" isStat="1" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_CN" display="盘前数量"/><Display localStr="en" display="Storage before Stock Count"/><Display localStr="zh_TW" display="盤前數量"/></Displays><groupNames/></field><field fieldname="sum(tblStockCheckDet.Qty)" AsfieldName="Qty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="盘后数量" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="11" isStat="1" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_CN" display="盘后数量"/><Display localStr="en" display="Storage after Stock Count"/><Display localStr="zh_TW" display="盤後數量"/></Displays><groupNames/></field><field fieldname="sum(tblStockCheckDet.Qty)-avg(tblStockCheckDet.LastQty)" AsfieldName="difference" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="差异数量" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="12" isStat="1" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="差异数量"/></Displays><groupNames/></field><field fieldname="tblStockCheckDet.SecUnit" AsfieldName="SecUnit" groupByFlag="1" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="辅助单位" fieldType="2" inputType="6" popUpName="" width="50" classCode="1" linkAdd="" order="13" isStat="0" defaultValue="" fieldSysType="AssUnit" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="辅助单位"/><Display localStr="zh_CN" display="辅助单位"/><Display localStr="en" display="SecUnit"/></Displays><groupNames/></field><field fieldname="sum(tblStockCheckDet.UnitIntQty)" AsfieldName="UnitIntQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="辅助单位整数" fieldType="0" inputType="6" popUpName="" width="100" classCode="1" linkAdd="" order="14" isStat="1" defaultValue="" fieldSysType="AssUnit" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_TW" display="辅助单位整数"/><Display localStr="zh_CN" display="辅助单位整数"/><Display localStr="en" display="UnitIntQty"/></Displays><groupNames/></field><field fieldname="sum(tblStockCheckDet.UnitBaseQty)" AsfieldName="UnitBaseQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="辅助基本单位" fieldType="1" inputType="6" popUpName="" width="100" classCode="1" linkAdd="" order="15" isStat="1" defaultValue="" fieldSysType="AssUnit" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_TW" display="辅助基本单位"/><Display localStr="zh_CN" display="辅助基本单位"/><Display localStr="en" display="UnitBaseQty"/></Displays><groupNames/></field><field fieldname="sum(tblStockCheckDet.UnitQty)" AsfieldName="UnitQty" groupByFlag="0" displayFlag="1" condition="tblStockCheck.workFlowNodeName !='draft'" conditionJoin="and" orderbyFlag="" display="辅助单位数量" fieldType="1" inputType="6" popUpName="" width="100" classCode="1" linkAdd="" order="16" isStat="1" defaultValue="" fieldSysType="AssUnit" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_TW" display="辅助单位数量"/><Display localStr="zh_CN" display="辅助单位数量"/><Display localStr="en" display="UnitQty"/></Displays><groupNames/></field><field fieldname="tblStockCheck.PrepareId" AsfieldName="PrepareId" groupByFlag="0" displayFlag="0" condition="=?" conditionJoin="and" orderbyFlag="" display="盘点准备单ID" fieldType="2" inputType="3" popUpName="" width="0" classCode="1" linkAdd="" order="17" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="盘点准备单ID"/></Displays><groupNames/></field><field fieldname="tblStockCheck.statusId" AsfieldName="statusId" groupByFlag="1" displayFlag="1" condition="=?" conditionJoin="and" orderbyFlag="" display="状态" fieldType="0" inputType="1" popUpName="statusStockCount" width="0" classCode="1" linkAdd="" order="18" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="狀態"/><Display localStr="zh_CN" display="状态"/><Display localStr="en" display="StatusId"/></Displays><groupNames/></field><field fieldname="''" AsfieldName="CheckType" groupByFlag="0" displayFlag="1" condition="=? or 1=1" conditionJoin="and" orderbyFlag="" display="盘点状态" fieldType="2" inputType="1" popUpName="CheckTypeE" width="0" classCode="1" linkAdd="" order="19" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="盘点状态"/></Displays><groupNames/></field></fieldInfo><SQL text="select vbCrLf    tblStockCheck.CheckDate as CheckDate,vbCrLf    tblStock.StockFullName as StockFullName,vbCrLf    tblGoods.[tblGoods] as GoodsNumber,vbCrLf    tblStockCheckDet.[GOODSPROP] as BatchNo,vbCrLf    avg(tblStockCheckDet.LastQty) as LastQty,vbCrLf    sum(tblStockCheckDet.Qty) as Qty,vbCrLf    sum(tblStockCheckDet.Qty)-avg(tblStockCheckDet.LastQty) as difference,vbCrLf    tblStockCheckDet.SecUnit as SecUnit,vbCrLf    sum(tblStockCheckDet.UnitIntQty) as UnitIntQty,vbCrLf    sum(tblStockCheckDet.UnitBaseQty) as UnitBaseQty,vbCrLf    sum(tblStockCheckDet.UnitQty) as UnitQty,vbCrLf    tblStockCheck.statusId as statusId,vbCrLf    '' as CheckTypevbCrLffrom tblStockCheck vbCrLfjoin tblStockCheckDet on tblStockCheck.id=tblStockCheckDet.f_ref vbCrLf         and ((case when tblStockCheckDet.Qty&gt;tblStockCheckDet.LastQty then '0' when tblStockCheckDet.Qty&lt;tblStockCheckDet.LastQty then '1' else '2' end)=@condition:CheckType vbCrLf             or @condition:CheckType=''vbCrLf             or (case when tblStockCheckDet.Qty!=tblStockCheckDet.LastQty then '3' else '2' end)=@condition:CheckType)vbCrLfjoin tblStock on tblStockCheck.StockCode=tblStock.classCodevbCrLfjoin tblGoods on tblStockCheckDet.GoodsCode=tblGoods.classCodevbCrLfleft join tblCheck noRight on ISNULL(tblCheck.LinkID,'')!='' and tblStockCheck.LinkID=tblCheck.LinkIDvbCrLfwhere 1=1 vbCrLf      and (tblStockCheck.StockCode =?)vbCrLf      and (tblGoods.classCode =?)vbCrLf      and (tblGoods.BarCode like '%'+?+'%')vbCrLf      and tblStockCheck.workFlowNodeName !='draft'vbCrLf      and (tblStockCheck.PrepareId =?)vbCrLf      and (tblStockCheck.statusId =?)vbCrLf      and ('' =? or 1=1)vbCrLfgroup by vbCrLf   tblStockCheck.CheckDate,vbCrLf   tblStock.StockFullName,vbCrLf   tblGoods.[tblGoods],vbCrLf   tblStockCheckDet.[GOODSPROP],vbCrLf   tblStockCheckDet.SecUnit,vbCrLf   tblStockCheck.statusIdvbCrLforder by vbCrLf   tblStockCheck.CheckDate descvbCrLfvbCrLf"/><charts/></ReportDataSource>
