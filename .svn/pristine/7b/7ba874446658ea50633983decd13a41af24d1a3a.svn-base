webpackJsonp([45,43],{0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(37),i=a(o),r=n(485),u=a(r),l=n(392),c=a(l),d=n(533),s=a(d),f=n(538),p=a(f);i.default.use(u.default),i.default.mixin({beforeRouteLeave:function(e,t,n){window.sessionStorage.setItem("scrollTop"+t.name,document.body.scrollTop),n(!0)},beforeRouteEnter:function(e,t,n){var a=window.sessionStorage.getItem("scrollTop"+e.name);a=a?a:0,n(function(e){window.scroll(0,a)})}});var m=new u.default({mode:"history",base:"/mobilevue",routes:s.default});m.beforeEach(function(e,t,n){var a=e.meta,o=e.name,i=a.auth,r=void 0===i||i,u=Boolean(p.default.state.user.id);return r&&!u&&"login"!==o?void p.default.dispatch("getSessEmp").then(function(){n()}).catch(function(e){window.console.log(e)}):void n()}),m.afterEach(function(){if(p.default.getters.isWX&&p.default.state.wxinfo.reloadFlag)return void window.__aioApp__.$router.push({name:"wxredirect",params:{state:"wxwork",target:p.default.state.wxinfo.originalHref}})}),window.__aioApp__=new i.default({el:"#app",router:m,store:p.default,render:function(e){return e(c.default)}})},13:function(e,t){},14:function(e,t){},15:function(e,t){},32:function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.dateformat=n},36:function(e,t){},72:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AddPre="crm/outAttendance/addPre",t.Detail="crm/outAttendance/detail",t.Add="crm/outAttendance/add",t.Update="crm/outAttendance/update",t.FetchList="crm/outAttendance/fetchList",t.CountUnSignout="crm/outAttendance/countUnSignout",t.ChangeDetail="crm/outAttendance/changeDetail",t.ChangeDetailValues="crm/outAttendance/changeDetailValues",t.SignInChoseLocCBFill="crm/outAttendance/signInChoseLocCBFill",t.SignOutChoseLocCBFill="crm/outAttendance/signOutChoseLocCBFill",t.PopupEmployeeCBFill="crm/outAttendance/popupEmployeeCBFill",t.PopupClientCBFill="crm/outAttendance/popupClientCBFill",t.AddBeforeList="crm/outAttendance/addBeforeList",t.AddAfterList="crm/outAttendance/addAfterList",t.UpdateToList="crm/outAttendance/updateToList",t.EmptyList="crm/outAttendance/emptyList",t.ResetCond="crm/outAttendance/resetCond",t.ListKeyIds="crm/outAttendance/listKeyIds",t.IncreaseCondPage="crm/outAttendance/increaseCondPage",t.DecreaseCondPage="crm/outAttendance/decreaseCondPage"},94:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Scan="cardscan/scan",t.Add="cardscan/add",t.Update="cardscan/update",t.Del="cardscan/del",t.FetchList="cardscan/fetchList",t.BindAlbum="cardscan/bindAlbum",t.ChooseCamera="cardscan/chooseCamera",t.TransferToCRM="cardscan/transferToCRM",t.AddBeforeList="cardscan/addBeforeList",t.AddAfterList="cardscan/addAfterList",t.UpdateToList="cardscan/updateToList",t.DelFromList="cardscan/delFromList",t.EmptyList="cardscan/emptyList",t.ResetCond="cardscan/resetCond",t.UpdateStatusToList="cardscan/updateStatusToList",t.ListKeyIds="cardscan/listKeyIds",t.IncreaseCondPage="cardscan/increaseCondPage",t.DecreaseCondPage="cardscan/decreaseCondPage",t.StatusEnum="cardscan/statusEnum"},95:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Add="popup/crmclientloc/add",t.FetchList="popup/crmclientloc/fetchList",t.AddBeforeList="popup/crmclientloc/addBeforeList",t.AddAfterList="popup/crmclientloc/addAfterList",t.EmptyList="popup/crmclientloc/emptyList",t.ResetCond="popup/crmclientloc/resetCond",t.IncreaseCondPage="popup/crmclientloc/increaseCondPage",t.DecreaseCondPage="popup/crmclientloc/decreaseCondPage",t.UpdateToList="cardscan/updateToList",t.SetCbMutationName="popup/crmclientloc/setCbMutationName",t.ListKeyIds="popup/crmclientloc/listKeyIds",t.GetCbMutationName="popup/crmclientloc/getCbMutationName"},96:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FetchList="popup/employee/fetchList",t.ToggleCheckedStatus="popup/employee/toggleCheckStatus",t.SubstituteList="popup/employee/substituteList",t.InitCharactersList="popup/employee/initCharactersList",t.UpdateCharactersList="popup/employee/updateCharactersList",t.SetCbMutationName="popup/employee/setCbMutationName",t.GetCbMutationName="popup/employee/getCbMutationName",t.GetCharactersList="popup/employee/getCharactersList",t.GetChosenEmp="popup/employee/getChosenEmp"},97:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GetCbMutationName="locate/getCbMutationName",t.SetCbMutationName="locate/setCbMutationName"},146:function(e,t){},147:function(e,t){},161:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(165),i=a(o),r=n(529),u=a(r),l=n(7);n(13);var c=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return(0,l.Toast)({message:e.message,duration:2e3})},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"post";o?i.default.post(e,t).then(n).catch(a):(0,i.default)({method:r,url:e,headers:{returntype:"ajax/json","Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},data:u.default.stringify(t)}).then(function(e){var t=e.data;if("NOLOGIN"===t.code){"index"!==window.__aioApp__.$route.name&&(0,l.Toast)({message:"请先去登陆",duration:2e3}),n(t);var a=window.sessionStorage.getItem("wxstate");a?window.__aioApp__.$router.push({name:"wxredirect",params:{state:a}}):window.__aioApp__.$router.push({name:"login"})}else n(t)}).catch(a)};t.default={commitData:c}},162:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SIGNIN="SIGNIN",t.SIGNOUT="SIGNOUT",t.UPDATEUSERINFO="updateUserinfo",t.CURFLOWDEPICT="curFlowDepict"},352:function(e,t){},384:function(e,t){},385:function(e,t){},392:function(e,t,n){n(352);var a=n(8)(n(559),n(460),null,null);e.exports=a.exports},460:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:e.transitionName,mode:"out-in"}},[n("keep-alive",[n("router-view",{staticClass:"router-view"})],1)],1),e._v(" "),n("router-view",{attrs:{name:"popup"}})],1)},staticRenderFns:[]}},532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return n.e(13,function(t){var n=[t(407)];e.apply(null,n)}.bind(this))},o=function(e){return n.e(20,function(t){var n=[t(406)];e.apply(null,n)}.bind(this))},i=function(e){return n.e(11,function(t){var n=[t(393)];e.apply(null,n)}.bind(this))},r=function(e){return n.e(0,function(t){var n=[t(398)];e.apply(null,n)}.bind(this))},u=function(e){return n.e(12,function(t){var n=[t(397)];e.apply(null,n)}.bind(this))},l=function(e){return n.e(41,function(t){var n=[t(399)];e.apply(null,n)}.bind(this))},c=function(e){return n.e(23,function(t){var n=[t(394)];e.apply(null,n)}.bind(this))},d=function(e){return n.e(2,function(t){var n=[t(396)];e.apply(null,n)}.bind(this))},s=function(e){return n.e(24,function(t){var n=[t(395)];e.apply(null,n)}.bind(this))},f=function(e){return n.e(5,function(t){var n=[t(405)];e.apply(null,n)}.bind(this))},p=function(e){return n.e(4,function(t){var n=[t(402)];e.apply(null,n)}.bind(this))},m=function(e){return n.e(17,function(t){var n=[t(404)];e.apply(null,n)}.bind(this))},v=function(e){return n.e(30,function(t){var n=[t(401)];e.apply(null,n)}.bind(this))},h=function(e){return n.e(29,function(t){var n=[t(400)];e.apply(null,n)}.bind(this))},g=function(e){return n.e(27,function(t){var n=[t(403)];e.apply(null,n)}.bind(this))},y=function(e){return n.e(18,function(t){var n=[t(412)];e.apply(null,n)}.bind(this))},w=function(e){return n.e(14,function(t){var n=[t(414)];e.apply(null,n)}.bind(this))},b=function(e){return n.e(25,function(t){var n=[t(413)];e.apply(null,n)}.bind(this))},I=function(e){return n.e(32,function(t){var n=[t(416)];e.apply(null,n)}.bind(this))};t.default=[{path:"/cardscan/cardscanlist",component:a,name:"cardscanlist"},{path:"/cardscan/cardscandetail/:keyId/:opType",component:o,name:"cardscandetail"},{path:"/CRM/CRMClientInfo",component:i,name:"CRMClientInfo"},{path:"/CRM/CRMClientInfoList",component:r,name:"CRMClientInfoList",children:[{path:"search",component:l,name:"CRMClientInfoSearch"}]},{path:"/CRM/CRMClientInfoDetail/tableName=:tableName/keyId=:keyId/ModuleId=:ModuleId",component:u,name:"CRMClientInfoDetail"},{path:"/CRM/CRMClientInfoAdd",component:c,name:"CRMClientInfoAdd"},{path:"/CRM/CRMClientInfoDetList",component:d,name:"CRMClientInfoDetList"},{path:"/CRM/CRMClientInfoDetDetail",component:s,name:"CRMClientInfoDetDetail"},{path:"/CRM/CRMSaleFollowUpList",component:f,name:"CRMSaleFollowUpList"},{path:"/CRM/CRMSaleFollowUpDetail/keyId=:keyId",component:m,name:"CRMSaleFollowUpDetail"},{path:"/CRM/CRMClientServiceList",component:p,name:"CRMClientServiceList"},{path:"/CRM/CRMClientServiceDetail/keyId=:keyId",component:v,name:"CRMClientServiceDetail"},{path:"/CRM/CRMClientServiceAdd",component:h,name:"CRMClientServiceAdd"},{path:"/CRM/CRMSaleFollowUpAdd",component:g,name:"CRMSaleFollowUpAdd"},{path:"/outAttendance",component:y,name:"OutAttendance"},{path:"/outAttendance/signin",component:w,name:"OutAttendancesignin"},{path:"/outAttendance/det/:keyId",component:b,name:"OutAttendancedet"},{path:"/outAttendance/locate",component:I,name:"OutAttendanceLocate"}]},533:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(528),i=a(o),r=n(532),u=a(r),l=n(534),c=a(l),d=n(535),s=a(d),f=function(e){return n.e(21,function(t){var n=[t(409)];e.apply(null,n)}.bind(this))},p=function(e){return n.e(37,function(t){var n=[t(411)];e.apply(null,n)}.bind(this))},m=function(e){return n.e(38,function(t){var n=[t(410)];e.apply(null,n)}.bind(this))},v=function(e){return n.e(26,function(t){var n=[t(408)];e.apply(null,n)}.bind(this))},h=function(e){return n.e(36,function(t){var n=[t(426)];e.apply(null,n)}.bind(this))},g=function(e){return n.e(28,function(t){var n=[t(427)];e.apply(null,n)}.bind(this))},y=function(e){return n.e(1,function(t){var n=[t(423)];e.apply(null,n)}.bind(this))},w=function(e){return n.e(40,function(t){var n=[t(424)];e.apply(null,n)}.bind(this))},b=function(e){return n.e(19,function(t){var n=[t(422)];e.apply(null,n)}.bind(this))},I=function(e){return n.e(15,function(t){var n=[t(421)];e.apply(null,n)}.bind(this))},C=[{path:"",redirect:{name:"index"}},{path:"/mhome.jsp",name:"wxredirect",redirect:function(e){var t=e.params,n=t.state,a=t.target;a||(a="/mobilevue?state="+n),window.open(a,"_self")}},{path:"/index",component:f,name:"index"},{path:"/login",component:m,name:"login",meta:{auth:!1}},{path:"/contact/contactList",component:v,name:"contactList"},{path:"/store/storeList",component:h,name:"storeList",children:[{path:"search",component:g,name:"storeSearch"}]},{path:"/sale/SaleorderInfoList",component:y,name:"SaleorderInfoList",children:[{path:"search",component:w,name:"SaleorderInfoSearch"}]},{path:"/sale/SaleorderInfoDetail/tableName=:tableName/keyId=:keyId/ModuleId=:ModuleId",component:b,name:"SaleorderInfoDetail"},{path:"/sale/SaleorderInfoAdd/tableName=:tableName/keyId=:keyId",component:I,name:"SaleorderInfoAdd"}].concat((0,i.default)(u.default),(0,i.default)(c.default),(0,i.default)(s.default));C.push({path:"*",component:p,name:"notfound",meta:{auth:!1}}),t.default=C},534:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return n.e(16,function(t){var n=[t(435)];e.apply(null,n)}.bind(this))},o=function(e){return n.e(3,function(t){var n=[t(428)];e.apply(null,n)}.bind(this))},i=function(e){return n.e(22,function(t){var n=[t(430)];e.apply(null,n)}.bind(this))},r=function(e){return n.e(33,function(t){var n=[t(431)];e.apply(null,n)}.bind(this))},u=function(e){return n.e(7,function(t){var n=[t(433)];e.apply(null,n)}.bind(this))},l=function(e){return n.e(8,function(t){var n=[t(434)];e.apply(null,n)}.bind(this))},c=function(e){return n.e(6,function(t){var n=[t(432)];e.apply(null,n)}.bind(this))},d=function(e){return n.e(42,function(t){var n=[t(429)];e.apply(null,n)}.bind(this))},s=function(e){return n.e(39,function(t){var n=[t(420)];e.apply(null,n)}.bind(this))};t.default=[{path:"/workflow/add",component:a,name:"workflow"},{path:"/workflow/approve",component:o,name:"approve",children:[{path:"search",component:s,name:"workflowSearch"}]},{path:"/workflow/approvedetredirect/:tableName/:keyId",name:"approvedet",redirect:function(e){var t=e.params,n=t.tableName,a=t.keyId;return{path:"/workflow/approvedet/"+n+"/"+a}}},{path:"/workflow/approvedet/tblexpenseaccount/:keyId",component:c,name:"workflowExpenseaccount"},{path:"/workflow/approvedet/FlowNqingjiadan2/:keyId",component:u,name:"workflowLeaveorder"},{path:"/workflow/approvedet/FlowNwaichushenqingdan2/:keyId",component:l,name:"workflowOutleave"},{path:"/workflow/approvedet/:tableName/:keyId",component:i,name:"approvedetDefault"},{path:"/workflow/approveFlowdepict",component:d,name:"approveFlowdepict"},{path:"/workflow/deliver/tableName=:tableName/keyId=:keyId/opType=:opType",component:r,name:"deliver"}]},535:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return n.e(34,function(t){var n=[t(417)];e.apply(null,n)}.bind(this))},o=function(e){return n.e(35,function(t){var n=[t(425)];e.apply(null,n)}.bind(this))},i=function(e){return n.e(10,function(t){var n=[t(418)];e.apply(null,n)}.bind(this))},r=function(e){return n.e(9,function(t){var n=[t(419)];e.apply(null,n)}.bind(this))},u=function(e){return n.e(31,function(t){var n=[t(415)];e.apply(null,n)}.bind(this))};t.default=[{path:"/sale/popupCompany",component:o,name:"popupCompany"},{path:"/popup/employee",component:a,name:"popupEmployee"},{path:"/popup/SelectCRMClient",component:i,name:"SelectCRMClient"},{path:"/popup/SelectCRMClientLoc",components:{popup:r},name:"SelectCRMClientLoc"},{path:"/popup/employeechoose",components:{popup:u},name:"Employee"}]},536:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=o(i),u=n(93),l=o(u),c=n(162),d=a(c),s=n(161),f=o(s),p=n(484),m=o(p),v=n(7);n(36);var h=function(e){var t=e.commit,n=e.state.user,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,o=String(n.password);return n.password!==a.password&&(o=(0,m.default)(a.password)),new l.default(function(e,n){f.default.commitData("/MobileAjax?op=LOGIN",{name:a.name,password:o},function(n){"OK"===n.code&&(a.id=n.id||"signined",a.password=o,t(d.SIGNIN,a)),e(n)},function(e){return n(e)})})},g=function(e,t){var n=e.commit;return n(d.SIGNOUT,t)},y=function(e){var t=e.commit,n=e.state.user;return new l.default(function(e,a){return n.departmentName?void e(n):void f.default.commitData("/MobileAjax?op=getSessEmp",{},function(n){var o=n.code,i=n.msg,r=n.obj;"OK"===o?(t(d.UPDATEUSERINFO,r),e(r)):a(new Error(i))},function(e){return a(e)})})},w=function(e,t){var n=(e.commit,t.tableName),a=t.keyId;return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=detail",{tableName:n,keyId:a},function(n){var a=n.code,o=n.msg,i=n.obj;if("OK"===a){if("values"in i){var r=window.JSON.stringify(i.values);r=r.replace(/&#92;/g,"\\\\"),i.values=window.JSON.parse(r)}e(i)}else t(new Error(o))},function(e){return t(e)})})},b=function(e,t){var n=(e.commit,t.pageNo),a=void 0===n?1:n,o=t.pageSize,i=void 0===o?10:o,u=t.tableName,c=t.reportNumber,d=t.moduleType,s=t.src,p=void 0===s?"menu":s,m=t.extraParam,v="/MobileAjax?op=report";if(u)v+="&tableName="+u;else{if(!c)return void window.alert("接口参数错误，数据表列表(tableName)和普通报表(reportNumber)必须传其一");v+="&reportNumber="+c}var h=(0,r.default)({pageNo:a,pageSize:i,moduleType:d,src:p},m);return new l.default(function(e,t){f.default.commitData(v,h,function(n){var a=n.code,o=n.msg,i=n.obj;"OK"===a?e(i):t(new Error(o))},function(e){return t(e)})})},I=function(e,t){var n=(e.commit,t.tableName),a=t.parentTableName,o=t.moduleType,i={tableName:n,parentTableName:a,moduleType:o};return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=canAdd",i,function(n){var a=n.code,o=n.msg;"OK"===a?e(o):t(new Error(o))},function(e){return t(e)})})},C=function(e,t){var n=(e.commit,t.tableName),a=t.parentTableName,o=t.moduleType,i=t.f_brother,u=t.parentCode,c=t.addData,d=(0,r.default)({tableName:n,parentTableName:a,moduleType:o,f_brother:i,parentCode:u},c);return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=addPrepare",d,function(n){var a=n.code,o=n.obj,i=n.msg;"OK"===a?e(o):t(new Error(i))},function(e){return t(e)})})},M=function(e,t){var n=(e.commit,e.dispatch),a=t.tableName,o=t.parentTableName,i=t.saveType,r=void 0===i?"":i,u=t.values,c=t.defineInfo,d=void 0===c?"":c,s={tableName:a,parentTableName:o,saveType:r,values:u,defineInfo:d};return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=add",s,function(o){var i=o.code,r=o.obj,u=o.msg;"OK"===i?e({keyId:r.keyId,tableName:a}):"CONFIRM"===i?(u=u.split("#;#"),u[0].replace(/\\n/g,"<br/>"),v.MessageBox.confirm(u[0]).then(function(e){return s.defineInfo=u[1],n("add",s)}).catch(function(e){return s.defineInfo=u[2],n("add",s)})):t(new Error(u))},function(e){return t(e)})})},N=function(e,t){var n=(e.commit,e.store),a=t.tableName,o=t.parentTableName,i=t.saveType,r=void 0===i?"":i,u=t.values,c=t.defineInfo,d=void 0===c?"":c,s={tableName:a,parentTableName:o,saveType:r,values:u,defineInfo:d};return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=update",s,function(a){var o=a.code,i=(a.obj,a.msg);"OK"===o?e({}):"CONFIRM"===o?(i=i.split("#;#"),i[0].replace(/\\n/g,"<br/>"),v.MessageBox.confirm(i[0]).then(function(e){return s.defineInfo=i[1],n.dispatch("add",s)}).catch(function(e){return s.defineInfo=i[2],n.dispatch("add",s)})):t(new Error(i))},function(e){return t(e)})})},_=function(e,t){var n=(e.commit,e.store),a=t.tableName,o=t.keyId,i=t.defineInfo,r=void 0===i?"":i,u={tableName:a,keyId:o,defineInfo:r};return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=delete",u,function(a){var o=a.code,i=a.msg;"OK"===o?e(i):"CONFIRM"===o?(i=i.split("#;#"),i[0].replace(/\\n/g,"<br/>"),v.MessageBox.confirm(i[0]).then(function(e){return u.defineInfo=i[1],n.dispatch("del",u)}).catch(function(e){return u.defineInfo=i[2],n.dispatch("del",u)})):t(new Error(i))},function(e){return t(e)})})},L=function(e,t){var n=(e.commit,t.approveStatus),a=t.tempFile,o=t.keyWord,i=t.pageNo,r=void 0===i?1:i,u=(t.pageSize,{approveStatus:n,keyWord:o,pageNo:r,tempFile:a});return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=myworkflow",u,function(n){var a=n.code,o=n.obj;"OK"===a?e({list:o.list}):t(new Error("拉取我的工作流失败"))},function(e){return t(e)})})},O=function(e,t){var n=(e.commit,t.tableName),a=t.keyId;return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=cancelTo",{tableName:n,keyId:a},function(n){var a=n.code,o=n.msg;"OK"===a?e(o):t(new Error(o))},function(e){return t(e)})})},S=function(e,t){var n=(e.commit,t.tableName),a=t.keyId;return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=retCheck",{tableName:n,keyId:a},function(n){var a=n.code,o=n.msg;"OK"===a?e(o):t(new Error(o))},function(e){return t(e)})})},A=function(e,t){var n=(e.commit,t.tableName),a=t.keyId,o=t.content,i=void 0===o?"":o,r=t.wakeType,u=void 0===r?4:r,c={tableName:n,keyId:a,content:i,wakeType:u};return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=hurryTrans",c,function(n){var a=n.code,o=n.msg;"OK"===a?e(o):t(new Error(o))},function(e){return t(e)})})},T=function(e,t){var n=(e.commit,t.tableName),a=t.keyId;return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=deliverToPrepare",{tableName:n,keyId:a},function(n){var a=n.code,o=n.msg,i=n.obj;"OK"===a?e(i):t(new Error(o))},function(e){return t(e)})})},k=function(e,t){var n=(e.commit,t.tableName),a=t.keyId,o=t.type,i=void 0===o?"":o,r=t.nextStep,u=t.currNode,c=t.designId,d=t.checkPerson,s=t.deliverance,p=t.oaTimeLimit,m=t.oaTimeLimitUnit,v={tableName:n,keyId:a,type:i,nextStep:r,currNode:u,designId:c,checkPerson:d,deliverance:s,oaTimeLimit:p,oaTimeLimitUnit:m};return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=deliverTo",v,function(n){var a=n.code,o=n.msg;"OK"===a?e(o):t(new Error(o))},function(e){return t(e)})})},x=function(e,t){e.commit;return new l.default(function(e,n){f.default.commitData("/MobileAjax?op=getEnum&enum="+t,{},function(t){var a=t.code,o=t.obj,i=t.msg;"OK"===a?e(o):n(new Error(i))},function(e){return n(e)})})},j=function(e,t){var n=(e.commit,t.tableName),a=t.fieldName,o=t.selectName,i=t.MOID,r=t.moduleType,u={tableName:n,fieldName:a,selectName:o,MOID:i,moduleType:r};return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=popupInfo",u,function(n){var a=n.code,o=n.obj,i=o.showfields,r=o.tabParam,u=n.msg;"OK"===a?e({showfields:i,tabParam:r}):t(new Error(u))},function(e){return t(e)})})},P=function(e,t){var n=(e.commit,t.tableName),a=t.fieldName,o=t.selectName,i=t.MOID,u=t.moduleType,c=t.pageNo,d=void 0===c?1:c,s=t.pageSize,p=void 0===s?10:s,m=t.keyword,v=t.extraParam,h=(0,r.default)({tableName:n,fieldName:a,selectName:o,MOID:i,moduleType:u,pageNo:d,pageSize:p,keyword:m},v);return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=popup",h,function(n){var a=n.code,o=n.obj.result,i=n.msg;"OK"===a?e(o):t(new Error(i))},function(e){return t(e)})})},D=function(e,t){var n=(e.commit,e.dispatch),a=t.defineName,o=t.tableName,i=t.keyId,r=t.buttonTypeName,u=void 0===r?"":r,c=t.defineInfo,d=void 0===c?"":c,s={defineName:a,tableName:o,keyId:i,buttonTypeName:u,defineInfo:d};return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=execDefine",s,function(a){var o=a.code,r=(a.obj,a.msg);window.console.log("aa"),"OK"===o?e(i):"CONFIRM"===o?(r=r.split("#;#"),r[0].replace(/\\n/g,"<br/>"),v.MessageBox.confirm(r[0]).then(function(a){r[1]?(s.defineInfo=r[1],n("execDefine",s).then(function(t){e(t)}).catch(function(e){return t(e)})):e()}).catch(function(a){r[2]?(s.defineInfo=r[2],n("execDefine",s).then(function(t){e(t)}).catch(function(e){return t(e)})):e()})):t(new Error(r))},function(e){return t(e)})})},E=function(e){e.commit;return new l.default(function(e,t){f.default.commitData("/MobileAjax?op=getHome",{},function(n){var a=n.code,o=n.obj,i=n.msg;"OK"===a?e(o):t(new Error(i))},function(e){return t(e)})})},R=function(e,t){var n=e.commit,a=e.state.wxinfo,o=a.wxstate,i=a.url,u=a.status,c=a.originalHref,d=t.jsApiList,s=void 0===d?[]:d,p=t.debug,m=void 0!==p&&p;return new l.default(function(e,t){o||t(new Error("请在微信或企业微信内打开本网页"));var a=window.location.href.split("#")[0];if(i&&a===i&&u)e(window.wx);else{n("wxinfo",{wxstate:o,url:a,status:!1});var l={wxstate:o,url:a},d=!!window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);d&&(l.url=c.split("#")[0]),f.default.commitData("/MobileAjax?op=getJsticket",l,function(i){var u=i.code,l=i.obj,c=i.msg;"OK"===u?(delete l.url,window.wx.config((0,r.default)({},l,{jsApiList:s,debug:m})),window.wx.ready(function(){n("wxinfo",{wxstate:o,url:a,status:!0}),e(window.wx)}),window.wx.error(function(e){t(new Error(window.JSON.stringify(e)))})):t(new Error(c))})}})},F=function(e,t){var n=(e.commit,51200);return window.console.log("enter"),new l.default(function(e,a){if(t.size<n)e(t);else{var o=n/t.size,i=new window.FileReader,r=new window.Image;i.onload=function(e){r.src=e.target.result},r.onload=function(){var t=window.Math.sqrt(o);r.width*=t,r.height*=t;var n=window.document.createElement("canvas"),a=n.getContext("2d");n.width=r.width,n.height=r.height,a.drawImage(r,0,0,r.width,r.height);var i=n.toDataURL("image/jpeg");i=i.split(",")[1],i=window.atob(i);for(var u=new window.Uint8Array(i.length),l=0;l<i.length;l++)u[l]=i.charCodeAt(l);e(new window.Blob([u],{type:"image/jpeg"}))},i.readAsDataURL(t)}})};t.default={signin:h,signout:g,getSessEmp:y,detail:w,reportQuery:b,canAdd:I,addPre:C,add:M,update:N,del:_,myWorkflowQuery:L,cancelTo:O,retCheck:S,hurryTransFunc:A,deliverPre:T,deliverTo:k,getEnum:x,popupSelectInfo:j,popupSelect:P,execDefine:D,getHome:E,getWX:R,compressImg:F}},537:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getCurFlowDepictLast:function(e){var t=e.curFlowDepict;return 0===t.length?{workFlowNode:"开始"}:t[t.length-1]},isWX:function(e){var t=e.wxinfo,n=!!window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return t.wxstate&&!n},getWXState:function(e){var t=e.wxinfo;return t.wxstate}}},538:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),i=a(o),r=n(9),u=a(r),l=n(541),c=a(l),d=n(552),s=a(d),f=n(549),p=a(f),m=n(556),v=a(m),h=n(545),g=a(h),y=n(537),w=a(y),b=n(558),I=a(b),C=n(536),M=a(C);i.default.use(u.default),t.default=new u.default.Store({state:{user:JSON.parse(window.localStorage.getItem("user"))||{},curFlowDepict:[],wxinfo:{wxstate:window.sessionStorage.getItem("wxstate")||"",url:"",status:!1,originalHref:window.location.href,reloadFlag:window.sessionStorage.getItem("reloadFlag")||!1}},getters:w.default,mutations:I.default,actions:M.default,modules:{cardscan:c.default,locate:s.default,employee:p.default,outAttendance:v.default,crmclientloc:g.default}})},539:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(28),c=o(l),d=n(93),s=o(d),f=n(94),p=a(f),m=n(7);n(15),n(13);var v=n(161),h=o(v);t.default=(i={},(0,u.default)(i,p.Scan,function(e,t){var n=e.commit;return new s.default(function(e,a){m.Indicator.open({text:"名片识别中",spinnerType:"snake"}),h.default.commitData("/MobileAjax?op=cardscan",t,function(t){m.Indicator.close();var a=t.data;(0,m.Toast)({message:a.msg,duration:1e3}),"success"===a.code?(a.obj.keyId=a.obj.id,n(p.AddBeforeList,a.obj),e(a.obj)):(0,m.Toast)({message:a.msg,duration:1e3})},function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:1e3})},!0)})}),(0,u.default)(i,p.Add,function(e,t){var n=e.commit,a=e.dispatch,o=e.state.cond.tableName;return new s.default(function(e,i){m.Indicator.open({text:"数据提交中...",spinnerType:"snake"});var r=(0,c.default)({},t);r=window.JSON.stringify(r),a("add",{tableName:o,values:r}).then(function(a){var o=a.keyId;m.Indicator.close(),(0,m.Toast)({message:"录入成功",duration:1e3}),n(p.AddBeforeList,t),e(o)}).catch(function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:1e3})})})}),(0,u.default)(i,p.Update,function(e,t){var n=(e.commit,e.dispatch),a=e.state,o=a.cond.tableName,i=a.list,r=e.getters;return new s.default(function(e,a){m.Indicator.open({text:"数据提交中...",spinnerType:"snake"});var u=(0,c.default)({},t);u=window.JSON.stringify(u),n("update",{tableName:o,values:u}).then(function(){m.Indicator.close(),(0,m.Toast)({message:"修改成功",duration:1e3}),window.console.log("success");var n=r[p.ListKeyIds][t.id];if(n>=0){var a=(0,c.default)({},i[n],t);i.splice(n,1,a)}e(t.id)})}).catch(function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:1e3})})}),(0,u.default)(i,p.FetchList,function(e){var t=e.state,n=t.cond,a=(t.list,e.dispatch),o=e.getters,i=e.commit;return m.Indicator.open({text:"加载中...",spinnerType:"snake"}),new s.default(function(e,t){a("reportQuery",n).then(function(t){var n=t.rows;m.Indicator.close(),n.forEach(function(e){if(e.keyId in o[p.ListKeyIds]){var t=o[p.ListKeyIds][e.keyId];i(p.UpdateToList,{index:t,cardscan:e})}else i(p.AddAfterList,e)}),e()}).catch(function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:1e3})})})}),(0,u.default)(i,p.BindAlbum,function(e,t){var n=e.dispatch,a=t.domEle,o=t.cb;a.lastChild.type?a.removeChild(a.lastChild):a.style.position="relative";var i=window.document.createElement("input");i.type="file",i.className="_actionSheetInputFile",i.accept="image/jpg,image/jpeg,image/png,image/gif";var r={position:"absolute","z-index":1,top:0,left:0,width:"100%",height:"100%",opacity:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"};for(var u in r)i.style[u]=r[u];i.onchange=function(){n("compressImg",i.files[0]).then(function(e){var t=new window.FormData;t.append("file",e),n(p.Scan,t).then(function(e){o&&o(e)})})},a.appendChild(i)}),(0,u.default)(i,p.ChooseCamera,function(e,t){var n=e.dispatch,a=e.getters,o=t.jsApiList,i=t.cb;n("getWX",{jsApiList:o}).then(function(e){e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(t){t.localIds&&t.localIds.length&&e.uploadImage({localId:t.localIds[0],isShowProgressTips:1,success:function(e){var t=new window.FormData;t.append("serverId",e.serverId),t.append("wxstate",a.getWXState),n(p.Scan,t).then(function(e){i&&i(e)})}})},fail:function(){window.alert(window.JSON.stringigy(arguments))}})}).catch(function(e){var t=e.message,n=void 0===t?"微信打开摄像头失败":t;(0,m.Toast)({message:n,duration:1e3})})}),(0,u.default)(i,p.Del,function(e,t){var n=e.state.cond.tableName,a=e.dispatch,o=e.getters,i=e.commit;return new s.default(function(e,r){m.Indicator.open({text:"删除中...",spinnerType:"snake"}),a("del",{tableName:n,keyId:t}).then(function(){m.Indicator.close();var n=o[p.ListKeyIds][t];n>=0&&i(p.DelFromList,n),(0,m.Toast)({message:"删除成功",duration:1e3}),e()}).catch(function(){m.Indicator.close(),(0,m.Toast)({message:"删除失败",duration:1e3}),r()})})}),(0,u.default)(i,p.TransferToCRM,function(e,t){var n=e.state.cond.tableName,a=e.dispatch,o=e.getters,i=e.commit;return new s.default(function(e,r){m.Indicator.open({text:"正在转入CRM客户资料...",spinnerType:"snake"}),a("execDefine",{tableName:n,keyId:t,defineName:"cardscanToCrm"}).then(function(t){if(m.Indicator.close(),t){var n=o[p.ListKeyIds][t];n>=0&&i(p.UpdateStatusToList,{index:n,Status:2}),(0,m.Toast)({message:"转入成功",duration:1e3}),e(t)}r()}).catch(function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:1e3}),r()})})}),i)},540:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(94),c=a(l);t.default=(i={},(0,u.default)(i,c.ListKeyIds,function(e){for(var t=e.list,n={},a=0;a<t.length;a++)n[t[a].keyId]=a;return n}),(0,u.default)(i,c.StatusEnum,function(e){var t=e.statusEnum;return t}),i)},541:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(540),i=a(o),r=n(542),u=a(r),l=n(539),c=a(l);t.default={state:{list:[],cond:{pageNo:1,tableName:"tblcardscan"},statusEnum:{1:"未转CRM",2:"已转CRM"}},getters:i.default,mutations:u.default,actions:c.default}},542:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(94),c=a(l);t.default=(i={},(0,
u.default)(i,c.AddBeforeList,function(e,t){var n=e.list;n.unshift(t)}),(0,u.default)(i,c.AddAfterList,function(e,t){var n=e.list;n.push(t)}),(0,u.default)(i,c.UpdateToList,function(e,t){e.list,t.index,t.cardscan}),(0,u.default)(i,c.EmptyList,function(e){var t=e.list;t.splice(0,t.length)}),(0,u.default)(i,c.DelFromList,function(e,t){var n=e.list;n.splice(t,1)}),(0,u.default)(i,c.ResetCond,function(e,t){for(var n in t)e.cond[n]=t[n]}),(0,u.default)(i,c.UpdateStatusToList,function(e,t){var n=e.list,a=t.index,o=t.Status;n[a].Status=o}),(0,u.default)(i,c.IncreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo+=n}),(0,u.default)(i,c.DecreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo-=n,t.pageNo<=0&&(t.pageNo=1)}),i)},543:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(28),c=o(l),d=n(93),s=o(d),f=n(95),p=a(f),m=n(7);n(15),n(13),t.default=(i={},(0,u.default)(i,p.Add,function(e,t){var n=e.commit,a=e.dispatch,o=e.state.cond.tableName;return new s.default(function(e,i){m.Indicator.open({text:"数据提交中...",spinnerType:"snake"});var r=(0,c.default)({},t);r=window.JSON.stringify(r),a("add",{tableName:o,values:r}).then(function(a){var o=a.keyId;m.Indicator.close(),(0,m.Toast)({message:"录入成功",duration:1e3}),n(p.AddBeforeList,t),e(o)}).catch(function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:1e3})})})}),(0,u.default)(i,p.FetchList,function(e){var t=e.state,n=t.cond,a=(t.list,e.dispatch),o=e.getters,i=e.commit;return m.Indicator.open({text:"加载中...",spinnerType:"snake"}),new s.default(function(e,t){a("popupSelect",{selectName:"SelectCRMClientLoc",extraParam:n}).then(function(t){m.Indicator.close(),window.console.log(t),t.forEach(function(e){if(e.ClientId in o[p.ListKeyIds]){var t=o[p.ListKeyIds][e.ClientID];i(p.UpdateToList,{index:t,cardscan:e})}else i(p.AddAfterList,e)}),e()}).catch(function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:1e3})})})}),i)},544:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(95),c=a(l);t.default=(i={},(0,u.default)(i,c.ListKeyIds,function(e){for(var t=e.list,n={},a=0;a<t.length;a++)n[t[a].ClientId]=a;return n}),(0,u.default)(i,c.GetCbMutationName,function(e){var t=e.cbMutationName;return t}),i)},545:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(544),i=a(o),r=n(546),u=a(r),l=n(543),c=a(l);t.default={state:{list:[],cond:{pageNo:1,pageSize:20,keyword:"",AddressLat:22.537753,AddressLng:113.95166},cbMutationName:""},getters:i.default,mutations:u.default,actions:c.default}},546:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(95),c=a(l);t.default=(i={},(0,u.default)(i,c.AddBeforeList,function(e,t){var n=e.list;n.unshift(t)}),(0,u.default)(i,c.AddAfterList,function(e,t){var n=e.list;n.push(t)}),(0,u.default)(i,c.UpdateToList,function(e,t){var n=e.list,a=t.index,o=t.cardscan;for(var i in o)n[a][i]=o[i]}),(0,u.default)(i,c.EmptyList,function(e){var t=e.list;t.splice(0,t.length)}),(0,u.default)(i,c.ResetCond,function(e,t){for(var n in t)e.cond[n]=t[n]}),(0,u.default)(i,c.IncreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo+=n}),(0,u.default)(i,c.DecreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo-=n,t.pageNo<=0&&(t.pageNo=1)}),(0,u.default)(i,c.SetCbMutationName,function(e,t){e.cbMutationName=t}),i)},547:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),r=o(i),u=n(93),l=o(u),c=n(96),d=a(c);n(15),n(13),t.default=(0,r.default)({},d.FetchList,function(e){var t=e.commit,n=e.dispatch;return t(d.InitCharactersList),new l.default(function(e,a){n("popupSelect",{selectName:"Employee",pageSize:999}).then(function(n){t(d.SubstituteList,n),t(d.UpdateCharactersList),e()}).catch(function(e){window.console.log(e)})})})},548:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(96),c=a(l);t.default=(i={},(0,u.default)(i,c.GetCharactersList,function(e){var t=e.charactersList;return t}),(0,u.default)(i,c.GetCbMutationName,function(e){var t=e.cbMutationName;return t}),(0,u.default)(i,c.GetChosenEmp,function(e){var t=e.list;return t.filter(function(e){return e.checked})}),i)},549:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(548),i=a(o),r=n(550),u=a(r),l=n(547),c=a(l);t.default={state:{list:[],charactersList:[],cbMutationName:""},getters:i.default,mutations:u.default,actions:c.default}},550:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(96),c=a(l);t.default=(i={},(0,u.default)(i,c.SubstituteList,function(e,t){var n=e.list;n.splice(0,n.length),t.forEach(function(e){e.checked=!1,n.push(e)})}),(0,u.default)(i,c.ToggleCheckedStatus,function(e,t){var n=e.list;n[t].checked=!n[t].checked}),(0,u.default)(i,c.InitCharactersList,function(e){var t=e.charactersList;t.length>0&&t.splice(0,t.length);for(var n=0;n<26;n++)t.push({key:window.String.fromCharCode(n+65),values:[]})}),(0,u.default)(i,c.UpdateCharactersList,function(e){for(var t=e.charactersList,n=e.list,a=0;a<n.length;a++){var o=n[a].tblEmployee_EmpFullNamePYM.charCodeAt(0)-97;isNaN(o)||o<0||(n[a].index=a,t[o].values.push(n[a]))}t.forEach(function(e){return e.values.sort(function(e,t){return e.tblEmployee_EmpFullName.localeCompare(t.tblEmployee_EmpFullName)})})}),(0,u.default)(i,c.SetCbMutationName,function(e,t){e.cbMutationName=t}),i)},551:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),r=o(i),u=n(97),l=a(u);t.default=(0,r.default)({},l.GetCbMutationName,function(e){var t=e.cbMutationName;return t})},552:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(551),i=a(o),r=n(553),u=a(r);t.default={state:{cbMutationName:""},getters:i.default,mutations:u.default}},553:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),r=o(i),u=n(97),l=a(u);t.default=(0,r.default)({},l.SetCbMutationName,function(e,t){e.cbMutationName=t})},554:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(28),c=o(l),d=n(93),s=o(d),f=n(72),p=a(f),m=n(7);n(15),n(13);var v=n(32),h=function(e,t){var n=e.lng,a=e.lat,o=t.lng,i=t.lat,r=180/3.14169,u=a/r,l=n/r,c=i/r,d=o/r,s=Math.cos(u)*Math.cos(l)*Math.cos(c)*Math.cos(d),f=Math.cos(u)*Math.sin(l)*Math.cos(c)*Math.sin(d),p=Math.sin(u)*Math.sin(c),m=Math.acos(s+f+p);return 6366e3*m/1e3};t.default=(i={},(0,u.default)(i,p.AddPre,function(e){var t=e.commit,n=e.dispatch;n("addPre",{tableName:"tblOutAttendance"}).then(function(e){e.fieldList.forEach(function(t){return!(t.fieldType>3&&6!==t.fieldType&&13!==t.fieldType||0===t.width||t.fieldName===t.display)&&void(e.values[t.fieldName]=t.defaultValue?t.defaultValue:void 0)}),e.values.keyId=void 0,e.values["tblEmployee.EmpFullName"]="",e.values["CRMClientInfo.ClientName"]="",e.values.createByName="",t(p.ChangeDetail,e)})}),(0,u.default)(i,p.Detail,function(e,t){var n=e.state.cond.tableName,a=e.commit,o=e.dispatch;return new s.default(function(e,i){o("detail",{tableName:n,keyId:t}).then(function(t){t.fieldList.forEach(function(e){if(e.fieldType>3&&6!==e.fieldType&&13!==e.fieldType||0===e.width||e.fieldName===e.display)return!1}),a(p.ChangeDetail,t),e()})})}),(0,u.default)(i,p.FetchList,function(e){var t=e.state,n=t.cond,a=(t.list,e.dispatch),o=e.getters,i=e.commit;return m.Indicator.open({text:"加载中...",spinnerType:"snake"}),new s.default(function(e,t){a("reportQuery",n).then(function(t){var n=t.rows;m.Indicator.close(),n.forEach(function(e){if(e.keyId in o[p.ListKeyIds]){var t=o[p.ListKeyIds][e.keyId];i(p.UpdateToList,{index:t,attendance:e})}else i(p.AddAfterList,e)}),e()}).catch(function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:5e3})})})}),(0,u.default)(i,p.CountUnSignout,function(e){var t=e.state.cond.tableName,n=e.dispatch;return new s.default(function(e,a){n("reportQuery",{tableName:t,pageSize:1}).then(function(t){var n=t.rows;0===n.length||"0"===n[0].UnSignout?e():a()}).catch(function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:5e3})})})}),(0,u.default)(i,p.Add,function(e){var t=e.commit,n=e.dispatch,a=e.state,o=a.cond.tableName,i=a.detail.values;return new s.default(function(e,a){m.Indicator.open({text:"数据提交中...",spinnerType:"snake"});var r=(0,c.default)({},i);r.SignInTime=(0,v.dateformat)(),r=window.JSON.stringify(r),n("add",{tableName:o,values:r}).then(function(a){var o=a.keyId;m.Indicator.close(),(0,m.Toast)({message:"签入成功",duration:1e3}),i.keyId=o,t(p.ResetCond,{pageNo:1}),t(p.EmptyList),n(p.FetchList),e(o)}).catch(function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:1e3})})})}),(0,u.default)(i,p.Update,function(e){var t=e.commit,n=e.dispatch,a=e.state,o=a.cond.tableName,i=a.detail.values;return new s.default(function(e,a){m.Indicator.open({text:"数据提交中...",spinnerType:"snake"});var r=(0,c.default)({},i);r.SignOutTime=(0,v.dateformat)(),r.Status="2",r.Type+="";var u={lat:r.SignInLat,lng:r.SignInLng},l={lat:r.SignOutLat,lng:r.SignOutLng};r.SignOutDistance=h(u,l),r=window.JSON.stringify(r),n("update",{tableName:o,values:r}).then(function(){m.Indicator.close(),(0,m.Toast)({message:"签出成功",duration:1e3}),t(p.ResetCond,{pageNo:1}),t(p.EmptyList),n(p.FetchList),e()}).catch(function(e){var t=e.message;m.Indicator.close(),(0,m.Toast)({message:t,duration:1e3})})})}),i)},555:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),r=o(i),u=n(72),l=a(u);t.default=(0,r.default)({},l.ListKeyIds,function(e){for(var t=e.list,n={},a=0;a<t.length;a++)n[t[a].keyId]=a;return n})},556:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(555),i=a(o),r=n(557),u=a(r),l=n(554),c=a(l);t.default={state:{list:[],cond:{pageNo:1,tableName:"tblOutAttendance"},detail:{checkRight:!1,deleteRight:!1,hasCancel:!1,hurryTrans:!1,retCheckRight:!1,updateRight:!1,opType:"",fieldList:[],flowDepict:[],values:{}}},getters:i.default,mutations:u.default,actions:c.default}},557:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(158),c=o(l),d=n(157),s=o(d),f=n(135),p=o(f),m=n(72),v=a(m);t.default=(i={},(0,u.default)(i,v.ChangeDetail,function(e,t){var n=e.detail,a=!0,o=!1,i=void 0;try{for(var r,u=(0,p.default)((0,s.default)(t));!(a=(r=u.next()).done);a=!0){var l=(0,c.default)(r.value,2),d=l[0],f=l[1];n[d]=f}}catch(e){o=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}}),(0,u.default)(i,v.ChangeDetailValues,function(e,t){var n=e.detail.values,a=!0,o=!1,i=void 0;try{for(var r,u=(0,p.default)((0,s.default)(t));!(a=(r=u.next()).done);a=!0){var l=(0,c.default)(r.value,2),d=l[0],f=l[1];n[d]=f}}catch(e){o=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}}),(0,u.default)(i,v.PopupEmployeeCBFill,function(e,t){var n=e.detail.values,a="",o="";t.forEach(function(e){a+=e.EmployeeID+";",o+=e.tblEmployee_EmpFullName+" "}),a=a.slice(0,a.length-1),n.EmployeeID=a,n["tblEmployee.EmpFullName"]=o}),(0,u.default)(i,v.PopupClientCBFill,function(e,t){var n=e.detail.values;n.ClientId=t.ClientId,n.SignInDistance=t.CRMClientInfo_Distance,n["CRMClientInfo.ClientName"]=t.CRMClientInfo_ClientName}),(0,u.default)(i,v.SignInChoseLocCBFill,function(e,t){var n=e.detail.values,a=t.address,o=t.lat,i=t.lng;n.SignInAddress=a,n.SignInLng=i,n.SignInLat=o}),(0,u.default)(i,v.SignOutChoseLocCBFill,function(e,t){var n=e.detail.values,a=t.address,o=t.lat,i=t.lng;n.SignOutAddress=a,n.SignOutLng=i,n.SignOutLat=o}),(0,u.default)(i,v.AddBeforeList,function(e,t){var n=e.list;n.unshift(t)}),(0,u.default)(i,v.AddAfterList,function(e,t){var n=e.list;n.push(t)}),(0,u.default)(i,v.UpdateToList,function(e,t){var n=e.list,a=t.index,o=t.attendance;for(var i in o)n[a][i]=o[i]}),(0,u.default)(i,v.EmptyList,function(e){var t=e.list;t.splice(0,t.length)}),(0,u.default)(i,v.ResetCond,function(e,t){for(var n in t)e.cond[n]=t[n]}),(0,u.default)(i,v.IncreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo+=n}),(0,u.default)(i,v.DecreaseCondPage,function(e){var t=e.cond,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo-=n,t.pageNo<=0&&(t.pageNo=1)}),i)},558:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),u=o(r),l=n(92),c=o(l),d=n(158),s=o(d),f=n(157),p=o(f),m=n(135),v=o(m),h=n(28),g=o(h),y=n(526),w=o(y),b=n(37),I=o(b),C=n(162),M=a(C);t.default=(i={},(0,u.default)(i,M.SIGNIN,function(e,t){window.localStorage.setItem("user",(0,w.default)(t)),(0,g.default)(e,{user:t})}),(0,u.default)(i,M.UPDATEUSERINFO,function(e,t){var n=(0,g.default)({},e.user),a=!0,o=!1,i=void 0;try{for(var r,u=(0,v.default)((0,p.default)(t));!(a=(r=u.next()).done);a=!0){var l=(0,s.default)(r.value,2),c=l[0],d=l[1];n[c]=d}}catch(e){o=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}(0,g.default)(e,{user:n})}),(0,u.default)(i,M.SIGNOUT,function(e){var t=e.user;window.localStorage.removeItem("user"),(0,c.default)(t).forEach(function(e){return I.default.delete(t,e)})}),(0,u.default)(i,M.CURFLOWDEPICT,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.curFlowDepict.splice(0,e.curFlowDepict.length),t.forEach(function(t){return e.curFlowDepict.push(t)})}),(0,u.default)(i,"wxinfo",function(e,t){t.originalHref=e.wxinfo.originalHref,(0,g.default)(e,{wxinfo:t})}),i)},559:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{transitionName:"slide-left"}},watch:{$route:function(e,t){var n=e.path.split("/").length,a=t.path.split("/").length;this.transitionName=n<a?"slide-right":"slide-left"}}}},603:function(e,t){}});