<?xml version="1.0" encoding="UTF-8" ?>
<ReportDataSource><Report reporteId="5b51bc29_1310141418239530003" reportName="tblBuyAskPriceDet"/><fieldInfo><field fieldname="tblBuyAskPrice.BillDate" AsfieldName="StartDate" groupByFlag="0" displayFlag="0" condition="&gt;=?" conditionJoin="and" orderbyFlag="" display="单据日期≥" fieldType="5" inputType="0" popUpName="" width="0" classCode="1" linkAdd="" order="1" isStat="0" defaultValue="@MEM:defaultTime" fieldSysType="" fixColName="1" isNull="1" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="单据日期≥"/><Display localStr="en" display="voucher Date≥"/><Display localStr="zh_TW" display="單據日期≥"/></Displays><groupNames/></field><field fieldname="tblBuyAskPrice.BillDate" AsfieldName="StopDate" groupByFlag="0" displayFlag="0" condition="&lt;=?" conditionJoin="and" orderbyFlag="" display="单据日期≤" fieldType="5" inputType="0" popUpName="" width="0" classCode="1" linkAdd="" order="2" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="单据日期≤"/><Display localStr="en" display="voucher Date≤"/><Display localStr="zh_TW" display="單據日期≤"/></Displays><groupNames/></field><field fieldname="tblBuyAskPrice.BillNo" AsfieldName="BillNo" groupByFlag="0" displayFlag="0" condition="like '%'+?+'%'" conditionJoin="and" orderbyFlag="" display="单据编号" fieldType="2" inputType="0" popUpName="" width="0" classCode="1" linkAdd="" order="3" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="單據編號"/><Display localStr="zh_CN" display="单据编号"/><Display localStr="en" display="voucher No."/></Displays><groupNames/></field><field fieldname="tblCompany.classCode" AsfieldName="CompanyCode" groupByFlag="0" displayFlag="0" condition="=?" conditionJoin="and" orderbyFlag="" display="供应商" fieldType="2" inputType="2" popUpName="ReportSelectProvider_v2" width="0" classCode="1" linkAdd="" order="4" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Supplier" analysis="0"><Displays><Display localStr="zh_CN" display="供应商"/><Display localStr="en" display="Category code"/><Display localStr="zh_TW" display="分類代碼"/></Displays><groupNames/></field><field fieldname="tblDepartment.classCode" AsfieldName="DepartmentCode" groupByFlag="0" displayFlag="0" condition="=?" conditionJoin="and" orderbyFlag="" display="部门" fieldType="2" inputType="2" popUpName="ReportSelectDepartment_v2" width="0" classCode="1" linkAdd="" order="5" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="部门"/><Display localStr="en" display="Category code"/><Display localStr="zh_TW" display="分類代碼"/></Displays><groupNames/></field><field fieldname="tblEmployee.id" AsfieldName="EmployeeID" groupByFlag="0" displayFlag="0" condition="=?" conditionJoin="and" orderbyFlag="" display="经手人" fieldType="2" inputType="2" popUpName="ReportSelectEmployee_v2" width="0" classCode="1" linkAdd="" order="6" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="经手人"/><Display localStr="en" display="Handed"/><Display localStr="zh_TW" display="經手人"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode" AsfieldName="GoodsCode" groupByFlag="0" displayFlag="0" condition="=?" conditionJoin="and" orderbyFlag="" display="商品" fieldType="2" inputType="2" popUpName="ReportSelectGoods_v2" width="0" classCode="1" linkAdd="" order="7" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品"/><Display localStr="en" display="Category code"/><Display localStr="zh_TW" display="分類代碼"/></Displays><groupNames/></field><field fieldname="tblGoods.[tblGoods]" AsfieldName="GoodsNumber" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="升" display="商品编号" fieldType="2" inputType="0" popUpName="" width="120" classCode="1" linkAdd="" order="8" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品编号"/><Display localStr="en" display="Commodity No."/><Display localStr="zh_TW" display="商品編號"/></Displays><groupNames/></field><field fieldname="tblBuyAskPriceDet.[GOODSPROP]" AsfieldName="BatchNo" groupByFlag="0" displayFlag="1" condition="=?" conditionJoin="and" orderbyFlag="" display="批号" fieldType="2" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="9" isStat="0" defaultValue="" fieldSysType="GoodsField" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="批号"/><Display localStr="en" display="Batch No"/><Display localStr="zh_TW" display="批號"/></Displays><groupNames/></field><field fieldname="tblCompany.[tblCompany_1]" AsfieldName="ComFullName" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="" display="供应商" fieldType="2" inputType="0" popUpName="" width="200" classCode="1" linkAdd="" order="10" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Supplier" analysis="0"><Displays><Display localStr="zh_CN" display="供应商"/><Display localStr="en" display="Supplier"/><Display localStr="zh_TW" display="供應商"/></Displays><groupNames/></field><field fieldname="tblCompany.ComFullNamen" AsfieldName="ComFullNamen" groupByFlag="0" displayFlag="0" condition="len(t.lastUpdateTime)!=0" conditionJoin="and" orderbyFlag="" display="供应商" fieldType="18" inputType="0" popUpName="" width="0" classCode="1" linkAdd="" order="11" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="1" groupName="" fieldIdentity="Supplier" analysis="0"><Displays><Display localStr="zh_CN" display="供应商"/><Display localStr="en" display="Current account name"/><Display localStr="zh_TW" display="供應商"/></Displays><groupNames/></field><field fieldname="tblBuyAskPriceDet.Price" AsfieldName="Price" groupByFlag="0" displayFlag="1" condition="tblBuyAskPrice.workFlowNodeName ='finish'" conditionJoin="and" orderbyFlag="" display="单价" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="12" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="2" groupName="" fieldIdentity="priceIdentifier" analysis="0"><Displays><Display localStr="zh_TW" display="单价"/><Display localStr="zh_CN" display="单价"/><Display localStr="en" display="Price"/></Displays><groupNames/></field></fieldInfo><SQL text="select vbCrLf    tblGoods.[tblGoods] as GoodsNumber,vbCrLf    tblBuyAskPriceDet.[GOODSPROP] as BatchNo,vbCrLf    tblCompany.[tblCompany_1] as ComFullName,vbCrLf    tblBuyAskPriceDet.Price as PricevbCrLffrom tblBuyAskPricevbCrLfleft join tblBuyAskPriceDet on tblBuyAskPrice.id = tblBuyAskPriceDet.f_refvbCrLfleft join tblCompany on tblCompany.classCode = tblBuyAskPrice.CompanyCode vbCrLfleft join tblGoods on tblGoods.classCode=tblBuyAskPriceDet.GoodsCodevbCrLfleft join tblDepartment on tblDepartment.classCode=tblBuyAskPrice.DepartmentCodevbCrLfleft join tblEmployee on tblEmployee.id=tblBuyAskPrice.EmployeeIDvbCrLfleft join (vbCrLf    SELECT MAX(tblBuyAskPrice.lastUpdateTime) AS lastUpdateTime, tblBuyAskPriceDet.GoodsCode, tblBuyAskPrice.CompanyCode,vbCrLf           tblBuyAskPriceDet.BatchNo,tblBuyAskPriceDet.Inch,tblBuyAskPriceDet.Hue,vbCrLf           tblBuyAskPriceDet.yearNO,tblBuyAskPriceDet.ProDate,tblBuyAskPriceDet.Availably vbCrLf    FROM   tblBuyAskPrice LEFT JOIN tblBuyAskPriceDet ON  tblBuyAskPrice.id = tblBuyAskPriceDet.f_refvbCrLf           left join (vbCrLf               select MAX(BillDate) as BillDate,tblBuyAskPriceDet.GoodsCode,tblBuyAskPrice.CompanyCode,vbCrLf                      tblBuyAskPriceDet.BatchNo,tblBuyAskPriceDet.Inch,tblBuyAskPriceDet.Hue,vbCrLf                      tblBuyAskPriceDet.yearNO,tblBuyAskPriceDet.ProDate,tblBuyAskPriceDet.AvailablyvbCrLf               from tblBuyAskPrice            vbCrLf               left join tblBuyAskPriceDet ON  tblBuyAskPrice.id = tblBuyAskPriceDet.f_ref vbCrLf               where (isnull(tblBuyAskPrice.Priceusefullife,'') &gt;= CONVERT(varchar(10),GETDATE(),20) OR LEN(isnull(tblBuyAskPrice.Priceusefullife,''))=0)vbCrLf                     AND tblBuyAskPrice.workFlowNodeName = 'finish' vbCrLf               GROUP BY tblBuyAskPriceDet.GoodsCode,tblBuyAskPrice.CompanyCode,tblBuyAskPriceDet.BatchNo,tblBuyAskPriceDet.Inch,tblBuyAskPriceDet.Hue,tblBuyAskPriceDet.yearNO,tblBuyAskPriceDet.ProDate,tblBuyAskPriceDet.AvailablyvbCrLf           ) s on tblBuyAskPrice.BillDate = s.BillDatevbCrLf                  and tblBuyAskPriceDet.GoodsCode = s.GoodsCodevbCrLf                  and tblBuyAskPrice.CompanyCode = s.CompanyCodevbCrLf                  and tblBuyAskPriceDet.BatchNo = s.BatchNovbCrLf                  and tblBuyAskPriceDet.Inch = s.InchvbCrLf                  and tblBuyAskPriceDet.Hue = s.HuevbCrLf                  and tblBuyAskPriceDet.yearNO = s.yearNOvbCrLf                  and tblBuyAskPriceDet.ProDate = s.ProDatevbCrLf                  and tblBuyAskPriceDet.Availably = s.AvailablyvbCrLf    WHERE  (isnull(tblBuyAskPrice.Priceusefullife,'') &gt;= CONVERT(varchar(10),GETDATE(),20) OR LEN(isnull(tblBuyAskPrice.Priceusefullife,''))=0)vbCrLf           AND LEN(s.BillDate)!=0vbCrLf           AND tblBuyAskPrice.workFlowNodeName = 'finish' vbCrLf    GROUP BY tblBuyAskPriceDet.GoodsCode,tblBuyAskPrice.CompanyCode,tblBuyAskPriceDet.BatchNo,tblBuyAskPriceDet.Inch,tblBuyAskPriceDet.Hue,tblBuyAskPriceDet.yearNO,tblBuyAskPriceDet.ProDate,tblBuyAskPriceDet.Availably vbCrLf) t on tblBuyAskPrice.lastUpdateTime = t.lastUpdateTime vbCrLf       AND tblBuyAskPriceDet.GoodsCode = t.GoodsCodevbCrLf       AND tblBuyAskPrice.CompanyCode = t.CompanyCodevbCrLf       and tblBuyAskPriceDet.BatchNo = t.BatchNovbCrLf       and tblBuyAskPriceDet.Inch = t.InchvbCrLf       and tblBuyAskPriceDet.Hue = t.HuevbCrLf       and tblBuyAskPriceDet.yearNO = t.yearNOvbCrLf       and tblBuyAskPriceDet.ProDate = t.ProDatevbCrLf       and tblBuyAskPriceDet.Availably = t.AvailablyvbCrLf{tblBuyAskPriceDet.GOODSPROP}vbCrLfwhere 1=1 vbCrLf      and (tblBuyAskPrice.BillDate &gt;=?)vbCrLf      and (tblBuyAskPrice.BillDate &lt;=?)vbCrLf      and (tblBuyAskPrice.BillNo like '%'+?+'%')vbCrLf      and (tblCompany.classCode =?)vbCrLf      and (tblDepartment.classCode =?)vbCrLf      and (tblEmployee.id =?)vbCrLf      and (tblGoods.classCode =?)vbCrLf      and (tblBuyAskPriceDet.[GOODSPROP] =?)vbCrLf      and len(t.lastUpdateTime)!=0vbCrLf      and tblBuyAskPrice.workFlowNodeName ='finish'vbCrLfvbCrLforder by vbCrLf   tblGoods.[tblGoods] vbCrLfvbCrLf"/><charts/></ReportDataSource>
