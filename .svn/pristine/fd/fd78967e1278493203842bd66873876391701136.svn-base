webpackJsonp([25,43],{3:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,'.mint-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:4px;border:0;box-sizing:border-box;color:inherit;display:block;font-size:18px;height:41px;outline:0;overflow:hidden;position:relative;text-align:center}.mint-button:after{background-color:#000;content:" ";opacity:0;top:0;right:0;bottom:0;left:0;position:absolute}.mint-button:not(.is-disabled):active:after{opacity:.4}.mint-button.is-disabled{opacity:.6}.mint-button-icon{vertical-align:middle;display:inline-block}.mint-button--default{color:#656b79;background-color:#f6f8fa;box-shadow:0 0 1px #b8bbbf}.mint-button--default.is-plain{border:1px solid #5a5a5a;background-color:transparent;box-shadow:none;color:#5a5a5a}.mint-button--primary{color:#fff;background-color:#26a2ff}.mint-button--primary.is-plain{border:1px solid #26a2ff;background-color:transparent;color:#26a2ff}.mint-button--danger{color:#fff;background-color:#ef4f4f}.mint-button--danger.is-plain{border:1px solid #ef4f4f;background-color:transparent;color:#ef4f4f}.mint-button--large{display:block;width:100%}.mint-button--normal,.mint-button--small{display:inline-block;padding:0 12px}.mint-button--small{font-size:14px;height:33px}',""])},4:function(t,e,n){var a=n(3);"string"==typeof a&&(a=[[t.id,a,""]]);n(2)(a,{});a.locals&&(t.exports=a.locals)},5:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".mint-header{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#26a2ff;box-sizing:border-box;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:14px;height:40px;line-height:1;padding:0 10px;position:relative;text-align:center;white-space:nowrap}.mint-header .mint-button{background-color:transparent;border:0;box-shadow:none;color:inherit;display:inline-block;padding:0;font-size:inherit}.mint-header .mint-button:after{content:none}.mint-header.is-fixed{top:0;right:0;left:0;position:fixed;z-index:1}.mint-header-button{-webkit-box-flex:.5;-ms-flex:.5;flex:.5}.mint-header-button>a{color:inherit}.mint-header-button.is-right{text-align:right}.mint-header-button.is-left{text-align:left}.mint-header-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:inherit;font-weight:400;-webkit-box-flex:1;-ms-flex:1;flex:1}",""])},6:function(t,e,n){var a=n(5);"string"==typeof a&&(a=[[t.id,a,""]]);n(2)(a,{});a.locals&&(t.exports=a.locals)},55:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".mint-badge{color:#fff;text-align:center;display:inline-block}.mint-badge.is-size-large{border-radius:14px;font-size:18px;padding:2px 10px}.mint-badge.is-size-small{border-radius:8px;font-size:12px;padding:2px 6px}.mint-badge.is-size-normal{border-radius:12px;font-size:15px;padding:2px 8px}.mint-badge.is-warning{background-color:#ffc107}.mint-badge.is-error{background-color:#f44336}.mint-badge.is-primary{background-color:#26a2ff}.mint-badge.is-success{background-color:#4caf50}",""])},62:function(t,e,n){var a=n(55);"string"==typeof a&&(a=[[t.id,a,""]]);n(2)(a,{});a.locals&&(t.exports=a.locals)},210:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".outAttendancedet .mint-header-title{font-size:16px}",""])},211:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,"[data-v-437ba61c]{vertical-align:middle}.page_wrap[data-v-437ba61c]{width:100%;height:100%;background:#fff}.page_wrap .mint-header[data-v-437ba61c]{color:#333;background-color:#fff;border-bottom:1px solid #dedede}.page_cont[data-v-437ba61c]{padding:40px 10px 0}.page_cont .items-wrapper[data-v-437ba61c]{padding-top:22px;font-size:12px}.page_cont .items-wrapper .title[data-v-437ba61c]{color:#8a8a8a;position:relative;padding-left:30px}.page_cont .items-wrapper .title img[data-v-437ba61c]{position:absolute;width:21px;left:0;top:-4px}.page_cont .items-wrapper .ClientName[data-v-437ba61c]{font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.page_cont .items-wrapper .signinInfo[data-v-437ba61c],.page_cont .items-wrapper .signoutInfo[data-v-437ba61c]{color:#b6b6b6}.page_cont .item[data-v-437ba61c]{margin-top:10px;white-space:nowrap}.page_cont .item[data-v-437ba61c]:first-child{margin-top:16px}.page_cont .item .item-hd[data-v-437ba61c]{display:inline-block;color:#b6b6b6;width:20%}.page_cont .item .item-bd[data-v-437ba61c]{display:inline-block;width:80%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.page_cont .item .item-ft[data-v-437ba61c]{color:#b6b6b6}.page_cont .item .time[data-v-437ba61c]{color:#6fd0ff;font-size:16px}.page_cont .cellsWrapper[data-v-437ba61c]{margin-top:32px}.page_cont .cell[data-v-437ba61c]{padding:12px 0;border-bottom:1px solid #efefef}.page_cont .cell[data-v-437ba61c]:first-child{border-top:1px solid #efefef}.page_cont .cell .cell-hd[data-v-437ba61c]{display:inline-block;color:#b6b6b6;width:20%}.page_cont .cell .cell-bd[data-v-437ba61c]{display:inline-block;text-align:right;width:70%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",""])},269:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABGdBTUEAALGPC/xhBQAABApJREFUWAntWE9oHFUY/307y2YTG40oCvHivxJC2t0cetCDBaEeFMEcpEGQWkRbRLCbohZF7YrSFNM0m3oRSrTioSjipRQEvdhTLxV2Y2qlYITSNtWYxibRmO7O528Cy26m883OZONtHwzvff9/73vfe29mgFZrZaCVgVYGWhloJgPSjHGQbV41OV/EK5QNQtCrQAcUlzj+TlIYKfTKb0F2jXgbCnRoSvu0jBOq2BYYWLCYULwx1i+fBMpDmOsGmr+oty/8g260YXa0R2aHJnWbVnCGGWwPibcqEsF4ISu5Rnr18thAXy/qljJwiE5uo/FPBDbTlcTo9TLOc4kfqnceNk4InhzLyrdhOvWyZD3RaJwr6ktlxRMdDl4+tFWuVfVzJd0dB6Rnxwm+xy4y0EQ1WKN+qKRbqbOj0C+D9SBX7Vw808jeLyfQR96e1Hv9fIuODFRdDDP9rxmONht8m62QZcQoFdtTTZKb1i4VpI9k5fcatzaizKlR0UecfGS7SBl1/kY3FadCIPwaIrNFaUS2iwSUSnOsqQesiJSftmQWnydGcaxHLltyPz8S0JE+maHhHccuapvfgUdz/T5n4KtBMovHiQ9bsiB+JKCeIYEcmV7C+0FOWLtLjoMXKKsEyf08Hvgnx/vlSz8/jI4MlIfzKWZh076SHvhK9ZZN0JnAD+JgB2c0bQXkZMsM+GFvZnVSllogn7bx2r6i7uJpvZtZOUvjEnf8XbzbH+cd/jPv8HfzU7rpr5t4h5Ma5HO/5526S+y+dwQfjGbknMeL22ID9QLkpzW9sIjHKor7RDGT7sC54c3yhz/40CVtxw20j/XJnF8Wl44M1MvUfAJ3VwN0ubiS75OVKv1/9w2Bsib3cqkHCGSe2fuzCshJ4DMkMVu5iQOUb+cy38P6jFzz9LXAsjnPfoLX8jdVv1YfCpQvIScI4MdCBh+L0GVd815QSB5lfXbWsdc1ZA1/nRbsOZyR65YDMwP7J/V5QrswnpVjfpD7S/oUAR7fCJAeMPp5dtnFpxZIj28CdV3sfDSLEb/xmxe0s+LiuJ/fLM3lGuAqPWf5MYHS0NkpcssBvvIvnqazbsthU3zFHsveBGoZcAJbLNkG8E3fJlAW+AwP9x5/cO6+0A3o149D8xQwfZtAU4qDDFLIX9GONcEk9HVvjWpcgijNV0lzBl4QnqHbufMPMrsTJM/iTlxNrSC1vIhfeHZG/oyICphgdvFM/SJI38yopzyekTOpNgy4iiRrM+fO4ejhB3GDX5B7g5w1wyPI0xZIz29oRsMC88vzVX5KfESdtaURZmTIuGKnnDRe9P4PGCrrB+o55J+Rh/nT4S248a9Qmi/ymWKmJvgz4qTnr9VaGWhloJWBWgb+A9z1KMSmAqY6AAAAAElFTkSuQmCC"},273:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABGdBTUEAALGPC/xhBQAABDRJREFUWAntWE1oXFUU/s5LUpMq1h8QaVa1WothZuJKpVbsQnDTQBG6UayiWHdJWttSUDrdRGmTztRFl/6lC9FCoVVBFEHELvyhmSalSCqIi7RCBa02atOZ43cj03l58947982M0EXuYt6953znO9+ce9+97z1guXW2AtIOXVE1uDyDh7WKoRqwkWSrVXA3r/MKzEExGwg+7gvw0VhOfmknV8tCR6d1S62GMYpZbwlgkmvEvLWiF/sPrJc5Cx/nzyx09KzeUVvA+yR7Io7QsM0z4cvlQZk0cE3uTEJ3TOm6quATVnFtE1MGA5fDwVJBdmcIgbfQvef0zr+u4htV3JMlQRI2APaWBuWNJH/UTrzdVFXm/8GHnRLpMtYEY6MVfdLO/h/CS+hIBVsJ3+RL6oVTCHeGw9w5un3wptAPVLu4QF73IcuK4Qyt+72CF33iTKGnZrCRN88aD7JTQYCnu3swwOvjIigyZt6K4xLYZmGc37yZRipa5j8fTiUTTNyex+6iCPf9Rts1rWsXqviSU9zfsEZ6ApUe9JcfkAsRz5KhWVFW85ElEc2DbzfksScq0sEO5uRHinyhOSRk4VrlcfBQyBLbNYXySFwdG1k3Co5uFanWh9Hr4UH5lFIuRu3hMe+q9BwEm0K5Nu4Kk0b79M9EbdGxhWHVU3M4PlMoMX9GE4fHFLEmPI7rU4iFSc3hOG2hitRFThFDceLqNj4bDFhHLncI80HFFir4rp407sodYWi4os/G+YpzulKv4b04X9hWU3wfHsf1OXPpbeSMPqc1vJ2KcluM4gj/9ZsTBczu+QG3XF3AY6iizIrfmxZLARdKBfSLuIMquZlCi7N6629XcJEsfck0DQ+n8QqxKzndJreLIn68XJBdDYb4njn1xfvkMreo4/HhzVYuhZt9RbpoHvTvNrM0W0yhiyFqr7Nmag+L4PR4QcztzTF5Cd1QwOfEznqkzgTh2jjiG+Al1J08XEv7fEl9cBR5/rY83vHBOoyXUAcs5fmeJDjj+p1oEmAfnw/cS59X8xbqtg+CX/ViNUCcnelVucUXRAPZcHsLdSF8ITvJJF80wlvrdQXYyWoueSS0mDIJdWTSje1cAn9bxEl+/tHJiZx8luRPsmcWWhqQ84FifxJhmp030KWuXuxIwyT5Mgt1RKsKGG/lxgq6MDpxv1xKEpNmb0mou1v5EeGZLEuAU37sUE6OpolJ87Uk1BGW8jLN5K+kkV/3CX7uFbx0fdxCh8umvcaXvxM83zensFRZ/U3cMb5KwZiulitaZ+5bgef5b3+qj6NXVv21dkU6zrYr6kj48exBbopfxzwKHi8X8JT1rOk4rNZ2RV2CQ4Nympft4WSs5LmberGtEyIdb0eEOiL3zZPTc8D1OU+/9gTYzI+2fyyOb7Qf99VveEond07pozeatmU9yxX4vyvwL8V8BK6gRtRwAAAAAElFTkSuQmCC"},278:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABGdBTUEAALGPC/xhBQAAA1VJREFUWAntmE9IFFEcx3+/3W09dMyg8lJBpBLuEhkVJUF/roZEhyCC8NAhcIyCwKCL4SHUlaBLEHQoLwl6rS6Z2iEiVxPpVgcTSrrb7uyv79uamF3nzXuzTl2aBzrv/d7v9/19/L03b2YkSlpSgaQCSQWSCmymAryZYC+2f1EOkUvdwtQlRC0ktLM6x7SKBCvE9CpNNDXcwe+8mKjXTYEC8ELFpUEk3WeTmJk+pogGRnI8YePv92kItH9B9kqFxlG9wzViTBWMh3y2rSLk+MbVLoDfUJYuFtr4U/2cbhwZ1FmUk4B8huXdFiBaGstz1rPfXJIdP0q06o39VyReA3DPaI5f++26PlbCvlUhXXqugbQXgidWoxk/L/uLcsIm0Br0RlH2VCtJtMVG2MYH2yJbEZpwlmW3yd8atET0NI5KBgBtl3V6EmCvMVmBOkU5D8gjNZHxDo4589ITJmkFCgF1BP3VhjP4blgCIyiqeRB7aX+YSCxzQq3OkuR1WkZQHCHduuDY7WU6p9M0guJO79IFx23HymlzGUHxnN4VN5BOD6vXopszguJQ/megYbmMoHjUId6uoSLWvkGKYbmMoBAMfFZvSARIHDHXNtijGb7o3I2g2OArumDPjkpWWKh3rIMfejZ1LZUjg2tzGUEBMe1PXt+vQhJdKeT5kX+ub0GG8EcO+G0WfW0uI2hKaCokgZtK0WW8qj32++AhcQ9vprf8Npt+Kk2TOj/sX3PrK8oybpPWOk8X1bxUyPG43w7IUVRyw8uy3yeoD61laLUHzSmbsaLKCd87t9XV3yB8px6yb17uNwKpdDkVvk2sKqqEUKk5QBxVfdUA+h3b4vRInt8L7ndngR6g6ld/zUb7DYhZ7PHjYVH2oOrldp3e4qBs9gQVbJrprAtA/BG9nj3i9VsmS53D7fw5LM4aVIngTu7CMfQCUH++iyBQBnwmLIl2jmk9g1UZzvOM1uf3hNUe9URwTk7jUD8DuDXP1igkVuMrp+mUDaTKFQlUBShYaqJOdOfUuKHGNNOUoc7CAZ61jY+09PWi1c8HpkFshbb6uaAxki2pu3u0g8PO5qBQvMTF0K5/kJxbpm4sp/r0rfmXDsYrOA2mATgJwMUY0iUSSQWSCvwXFfgJnrrtT67+WOUAAAAASUVORK5CYII="},341:function(t,e,n){var a=n(210);"string"==typeof a&&(a=[[t.id,a,""]]);n(2)(a,{});a.locals&&(t.exports=a.locals)},342:function(t,e,n){var a=n(211);"string"==typeof a&&(a=[[t.id,a,""]]);n(2)(a,{});a.locals&&(t.exports=a.locals)},413:function(t,e,n){n(341),n(342);var a=n(8)(n(580),n(453),"data-v-437ba61c",null);t.exports=a.exports},453:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page_wrap outAttendancedet"},[n("mt-header",{attrs:{title:"外勤详情",fixed:""}},[n("div",{slot:"left"},[n("mt-button",{attrs:{icon:"back"},on:{click:function(e){t.$router.go(-1)}}},[t._v("返回")])],1),t._v(" "),n("div",{staticStyle:{position:"absolute",left:"62%",top:"15px","font-size":"smaller"},slot:"right"},[t._v("\n      "+t._s(t.createByName)+"\n    ")])]),t._v(" "),n("div",{staticClass:"page_cont"},[n("div",{staticClass:"items-wrapper"},[t._m(0),t._v(" "),n("div",{staticClass:"ClientName item"},[t._v(t._s(t.ClientName))])]),t._v(" "),n("div",{staticClass:"items-wrapper"},[t._m(1),t._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"item-hd"},[t._v("签入时间")]),t._v(" "),n("span",{staticClass:"item-bd time"},[t._v(t._s(t.SignInTime))])]),t._v(" "),2==t.Status?n("div",{staticClass:"item"},[n("span",{staticClass:"item-hd"},[t._v("签出时间")]),t._v(" "),n("span",{staticClass:"item-bd time",staticStyle:{width:"50%"}},[t._v(t._s(t.SignOutTime))]),t._v(" "),n("span",{staticClass:"item-ft"},[t._v("耗时 "+t._s(t.calTimeDiff(t.SignInTime,t.SignOutTime))+"小时")])]):t._e()]),t._v(" "),n("div",{staticClass:"items-wrapper"},[t._m(2),t._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"item-hd"},[t._v("签入地址")]),t._v(" "),n("span",{staticClass:"item-bd"},[t._v(t._s(t.SignInAddress))])]),t._v(" "),n("div",{staticClass:"item",staticStyle:{"margin-top":"0"}},[n("span",{staticClass:"item-hd"},[t._v(" ")]),t._v(" "),n("span",{staticClass:"item-bd"},[t.SignInDistance<55e5?n("span",{staticClass:"signinInfo"},[t._v("\n            距离公司 "+t._s(t.handleDistance(t.SignInDistance))+" \n          ")]):t._e(),t._v(" "),2==t.Status?n("span",{staticClass:"signoutInfo"},[t._v("\n            距离签出 "+t._s(t.handleDistance(t.SignOutDistance))+"\n          ")]):t._e()])]),t._v(" "),2==t.Status?n("div",{staticClass:"item"},[n("span",{staticClass:"item-hd"},[t._v("签出地址")]),t._v(" "),n("span",{staticClass:"item-bd"},[t._v(t._s(t.SignOutAddress))])]):t._e()]),t._v(" "),n("div",{staticClass:"cellsWrapper"},[n("div",{staticClass:"cell"},[n("span",{staticClass:"cell-hd"},[t._v("抄送人")]),t._v(" "),n("span",{staticClass:"cell-bd"},[t._v(t._s(t.EmpFullName))])]),t._v(" "),n("div",{staticClass:"cell"},[n("span",{staticClass:"cell-hd"},[t._v("外勤类型")]),t._v(" "),n("span",{staticClass:"cell-bd"},[t._v(t._s(t.typeName(t.type)))])]),t._v(" "),n("div",{staticClass:"cell"},[n("span",{staticClass:"cell-hd"},[t._v("备注")]),t._v(" "),n("span",{staticClass:"cell-bd"},[t._v(t._s(t.Remark))])])]),t._v(" "),n("mt-button",{directives:[{name:"show",rawName:"v-show",value:1==t.Status&&t.canSignOut,expression:"Status == 1 && canSignOut"}],attrs:{type:"primary",size:"large"},on:{click:t.signout}},[t._v("签出")])],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("img",{attrs:{src:n(269)}}),t._v("\n        外勤客户\n      ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("img",{attrs:{src:n(278)}}),t._v("\n        外勤时间\n      ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("img",{attrs:{src:n(273)}}),t._v("\n        外勤地址\n      ")])}]}},580:function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),s=i(o),r=n(72),l=a(r),c=n(97),d=a(c),u=n(9),p=n(7);n(6),n(4),n(62),n(13),n(36),e.default={name:"OutAttendancedet",components:{"mt-header":p.Header,"mt-button":p.Button,"mt-badge":p.Badge},data:function(){return{typeOptions:[],canSignOut:!1}},computed:(0,s.default)({},(0,u.mapState)({address:function(t){return t.outAttendance.detail.values.SignInAddress},type:function(t){return t.outAttendance.detail.values.Type},Status:function(t){return t.outAttendance.detail.values.Status},EmpFullName:function(t){return t.outAttendance.detail.values["tblEmployee.EmpFullName"]},ClientName:function(t){return t.outAttendance.detail.values["CRMClientInfo.ClientName"]},SignInDistance:function(t){return t.outAttendance.detail.values.SignInDistance},SignInAddress:function(t){return t.outAttendance.detail.values.SignInAddress},SignInTime:function(t){return t.outAttendance.detail.values.SignInTime},SignInLat:function(t){return t.outAttendance.detail.values.SignInLat},SignInLng:function(t){return t.outAttendance.detail.values.SignInLng},SignOutAddress:function(t){return t.outAttendance.detail.values.SignOutAddress},SignOutTime:function(t){return t.outAttendance.detail.values.SignOutTime},SignOutDistance:function(t){return t.outAttendance.detail.values.SignOutDistance},SignOutLat:function(t){return t.outAttendance.detail.values.SignOutLat},SignOutLng:function(t){return t.outAttendance.detail.values.SignOutLng},Remark:function(t){return t.outAttendance.detail.values.Remark},createBy:function(t){return t.outAttendance.detail.values.createBy},createByName:function(t){return t.outAttendance.detail.values.createByName}})),methods:(0,s.default)({locate:function(){this[d.SetCbMutationName](l.SignInChoseLocCBFill),this.$router.push({name:"OutAttendanceLocate"})},handleDistance:function(t){return void 0===t||t>=55e5?"":t<1?""+window.Math.round(1e3*new window.Number(t))+"m":""+new window.Number(t).toFixed(3)+"km"},signout:function(){this[d.SetCbMutationName](l.SignOutChoseLocCBFill),this.$router.push({name:"OutAttendanceLocate"})},typeName:function(t){t+="";var e=this.typeOptions.filter(function(e){return e.value===t});return e.length>0?e[0].name:""},calTimeDiff:function(t,e){t=t.replace(/-/g,"/"),t=new window.Date(t),e=e.replace(/-/g,"/"),e=new window.Date(e);var n=e.getTime()-t.getTime();return(n/36e5).toFixed(1)},validateSignOut:function(){var t=this;this.getSessEmp().then(function(e){e.id===t.createBy&&(t.canSignOut=!0)})}},(0,u.mapActions)(["getEnum",l.Detail,l.Update,"getSessEmp"]),(0,u.mapMutations)([d.SetCbMutationName])),watch:{$route:function(t,e){var n=this;if("OutAttendancedet"===t.name){var a=["OutAttendanceLocate"].indexOf(e.name)>=0;a?this.SignOutLng>0&&p.MessageBox.confirm("确定要签出?").then(function(){n[l.Update]().then(function(){n.$router.go(-1)})}):this[l.Detail](this.$route.params.keyId).then(function(){n.validateSignOut()})}}},created:function(){var t=this;this[l.Detail](this.$route.params.keyId).then(function(){t.validateSignOut()}),this.getEnum("tblOutAttendanceType").then(function(e){e.forEach(function(e){t.typeOptions.push(e)})}).catch(function(t){var e=t.message;(0,p.Toast)({message:e,duration:1e3})})}}}});